var Levels=new function(){var e={size4:[],size6:[],size8:[],size10:[]},i={4:60,6:60,8:60,10:60};function t(e){var t=new Grid(e),r=0,n={size:e,full:[],empty:[],quality:0,ms:0},a=new Date;t.clear(),t.generateFast(),n.full=t.getValues();do{r>0&&(t.clear(),t.state.restore("full")),t.breakDown(),n.quality=t.quality}while(n.quality<i[e]&&r++<42);return n.empty=t.getValues(),n.ms=new Date-a,n.quality=quality,n}this.hasPuzzleAvailable=function(i){var t=e["size"+i];return!(!t||!t.length)},this.finishedSize=function(i){var t=e["size"+i];t&&t.length&&(t.shift(),BackgroundService.kick())},this.addSize=function(i,t){var r=e["size"+i];if(!r)return!1;r.push(t),BackgroundService.kick()},this.getSize=function(i){var r=e["size"+i];if(!r||!r.length)return t(i);var n=r[0];return r.length>1&&(r.shift(),BackgroundService.kick()),n},this.create=t,this.needs=function(){for(var t=1;t<=2;t++)for(var r in i){if(e["size"+(r*=1)].length<t)return r}return!1},this.__defineGetter__("puzzles",(function(){return e}))};