const carsimulator="car_simulator";let popupClosed=!1;function LoaderScript(){var e=UnityLoader.instantiate("gameContainer","Build/cars-simulator-v2.json",{onProgress:UnityProgress,Module:{onRuntimeInitialized:function(){UnityProgress(e,"complete")}}})}function startTypingAnimation(){const e=document.getElementById("popup-title"),t=document.getElementById("popup-scrollable-content"),o="WAIT",n=["!!!","!!!Information","The game may seems to be stuck for a while.","Make sure you give this game time to load.","If not resumed even after 5 mins! Refresh.","!!!","Do you want to see this announcement again?"];let a=0;typeText(e,o,0,50),setTimeout((function e(){if(a<n.length){const o=document.createElement("div");t.appendChild(o);let s=n[a];/^!!!/.test(s)&&(o.classList.add("popup-content-heading"),s=s.replace(/^!!!/,""));let i=0;!function t(){i<s.length?(o.textContent+=s.charAt(i),i++,setTimeout(t,50)):(a++,setTimeout(e,50))}()}}),50*o.length)}function typeText(e,t,o,n){o<t.length&&(e.textContent+=t.charAt(o),o++,setTimeout((function(){typeText(e,t,o,n)}),n))}function closePopup(){const e=document.getElementById("popup");document.querySelector(".popup-content").style.animation="popOut 0.5s ease forwards, fadeOut 0.5s ease forwards",setTimeout((function(){e.style.display="none",popupClosed=!0,LoaderScript()}),500)}function checkLocalStorage(){if("no"!==localStorage.getItem(carsimulator)){const e=document.getElementById("popup"),t=document.querySelector(".popup-content");e.style.display="block",t.style.animation="popIn 0.5s ease forwards, fadeIn 0.5s ease forwards",startTypingAnimation()}else LoaderScript()}document.getElementById("yesButton").addEventListener("click",(function(){localStorage.setItem(carsimulator,"yes"),closePopup()})),document.getElementById("noButton").addEventListener("click",(function(){localStorage.setItem(carsimulator,"no"),closePopup()})),document.getElementById("popup").addEventListener("click",(function(e){e.target===this&&closePopup()})),window.addEventListener("load",(function(){checkLocalStorage()}));