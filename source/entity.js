class entity_t{constructor(e,t,i,_,a,l){var d=this;d.x=e,d.y=t,d.z=i,d.vx=d.vy=d.vz=d.ax=d.ay=d.az=0,d.f=_,d.s=a,d.h=5,d._init(l),entities.push(d)}_init(e){}_update(){var e=this,t=e.x,i=e.z;e.vx+=e.ax*time_elapsed-e.vx*_math.min(e.f*time_elapsed,1),e.vy+=e.ay*time_elapsed-e.vy*_math.min(e.f*time_elapsed,1),e.vz+=e.az*time_elapsed-e.vz*_math.min(e.f*time_elapsed,1),e.x+=e.vx*time_elapsed,e.y+=e.vy*time_elapsed,e.z+=e.vz*time_elapsed,e._collides(e.x,i)&&(e._did_collide(e.x,e.y),e.x=t,e.vx=0),e._collides(t,e.z)&&(e._did_collide(e.x,e.y),e.z=i,e.vz=0)}_collides(e,t){return level_data[(e>>3)+(t>>3)*level_width]>7||level_data[(e+6>>3)+(t>>3)*level_width]>7||level_data[(e+6>>3)+(t+4>>3)*level_width]>7||level_data[(e>>3)+(t+4>>3)*level_width]>7}_spawn_particles(e){for(var t=0;t<e;t++){var i=new entity_particle_t(this.x,0,this.z,1,30);i.vx=128*(_math.random()-.5),i.vy=96*_math.random(),i.vz=128*(_math.random()-.5)}}_did_collide(){}_check(e){}_receive_damage(e,t){this.h-=t,this.h<=0&&this._kill()}_kill(){this._dead||(this._dead=!0,entities_to_kill.push(this))}_render(){var e=this;push_sprite(e.x-1,e.y,e.z,e.s)}}