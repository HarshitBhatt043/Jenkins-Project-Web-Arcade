class entity_player_t extends entity_t{_init(){this._bob=this._last_shot=this._last_damage=this._frame=0}_update(){var _=this,e=128;_.ax=keys[key_left]?-128:keys[key_right]?e:0,_.az=keys[key_up]?-128:keys[key_down]?e:0;var t=_math.atan2(mouse_y-(.8*c.height-34),mouse_x-(_.x+6+camera_x+.5*c.width));_.s=18+(t/_math.PI*4+10.5)%8|0,_._bob+=1.75*time_elapsed*(_math.abs(_.vx)+_math.abs(_.vz)),_.y=.25*_math.sin(_._bob),_._last_damage-=time_elapsed,_._last_shot-=time_elapsed,keys[key_shoot]&&_._last_shot<0&&(audio_play(audio_sfx_shoot),new entity_plasma_t(_.x,0,_.z,0,26,t+.2*_math.random()-.11),_._last_shot=.1),super._update()}_render(){this._frame++,(this._last_damage<0||this._frame%6<4)&&super._render(),push_light(this.x,4,this.z+6,1,.5,0,.04)}_kill(){super._kill(),this.y=10,this.z+=5,terminal_show_notice("DEPLOYMENT FAILED\nRESTORING BACKUP..."),setTimeout(reload_level,3e3)}_receive_damage(_,e){this._last_damage<0&&(audio_play(audio_sfx_hurt),super._receive_damage(_,e),this._last_damage=2)}}