oS.Init({PName:[oTenManNut,oBigChomper,oSnowRepeater,oSpikeweed,oLaserBean,oFlamesMushroom],ZName:[oWJY,oEmperor,oLionDanceZombie],PicArr:["images/interface/background2.jpg","images/interface/trophy.png"],backgroundImage:"images/interface/background2.jpg",CanSelectCard:0,LevelName:"常青之塔 101层",LvlEName:"252",LargeWaveFlag:{10:$("imgFlag3"),20:$("imgFlag2"),30:$("imgFlag1")},StaticCard:0,DKind:0,StartGameMusic:"Zombieboss",StartGame:function(){StopMusic(),PlayMusic(oS.LoadMusic=oS.StartGameMusic),SetVisible($("tdShovel"),$("dFlagMeter"),$("dTop")),SetHidden($("dSunNum")),oS.InitLawnMower(),PrepareGrowPlants((function(){oP.Monitor({f:function(){!function(){var e=ArCard.length;if(e<10){var o=oS.PName,a=Math.floor(Math.random()*o.length),t=o[a],n=t.prototype,r="dCard"+Math.random();ArCard[e]={DID:r,PName:t,PixelTop:600},NewImg(r,n.PicArr[n.CardGif],"top:600px;width:100px;height:120px;cursor:pointer;clip:rect(auto,auto,60px,auto)",$("dCardList"),{onmouseover:function(e){ViewPlantTitle(GetChoseCard(r),e)},onmouseout:function(){SetHidden($("dTitle"))},onclick:function(e){ChosePlant(e,oS.ChoseCard,r)}})}oSym.addTask(600,arguments.callee,[])}(),function(){for(var e,o,a=ArCard.length;a--;)(o=(e=ArCard[a]).PixelTop)>60*a&&($(e.DID).style.top=(e.PixelTop=o-1)+"px");oSym.addTask(5,arguments.callee,[])}()},ar:[]}),oP.AddZombiesFlag(),SetVisible($("dFlagMeterContent"))}))}},{AZ:[[oWJY,1,8],[oLionDanceZombie,1,1],[oEmperor,1,4]],FlagNum:30,FlagToSumNum:{a1:[3,5,9,10,13,15,19,30],a2:[1,7,12,20,13,16,21,30]},FlagToMonitor:{9:[ShowLargeWave,0],19:[ShowLargeWave,0],29:[ShowFinalWave,0]},FlagToEnd:function(){NewImg("imgSF","images/interface/0.gif","left:667px;top:330px;clip:rect(auto,auto,237px,auto)",EDAll,{onclick:function(){GetNewCard(this,oGoldenPrize,150)}})}},{GetChoseCard:function(e){if(!oS.Chose){for(var o=ArCard.length;o--;)ArCard[o].DID==e&&(oS.ChoseCard=o,o=0);return oS.ChoseCard}},ChosePlant:function(e,o){PlayAudio("seedlift"),e=window.event||e;var a=ArCard[oS.ChoseCard],t=e.clientX-EDAlloffsetLeft+EBody.scrollLeft||EElement.scrollLeft,n=e.clientY+EBody.scrollTop||EElement.scrollTop,r=a.PName.prototype;oS.Chose=1,EditImg(NewImg("MovePlant",r.PicArr[r.StaticGif],"left:"+t-.5*(r.beAttackedPointL+r.beAttackedPointR)+"px;top:"+n+20-r.height+"px;z-index:254",EDAll).cloneNode(!1),"MovePlantAlpha","",{visibility:"hidden",filter:"alpha(opacity=40)",opacity:.4,zIndex:30},EDAll),SetAlpha($(a.DID),50,.5),SetHidden($("dTitle")),GroundOnmousemove=GroundOnmousemove1},CancelPlant:function(){ClearChild($("MovePlant"),$("MovePlantAlpha")),oS.Chose=0,SetAlpha($(ArCard[oS.ChoseCard].DID),100,1),oS.ChoseCard="",GroundOnmousemove=function(){}},GrowPlant:function(e,o,a,t,n){var r=oS.ChoseCard,i=ArCard[r],l=i.PName,d=l.prototype,c=i.DID,p=oGd.$LF[t];d.CanGrow(e,t,n)&&(PlayAudio(2!=p?"plant"+Math.floor(1+2*Math.random()):"plant_water"),(new l).Birth(o,a,t,n,e),oSym.addTask(20,SetNone,[SetStyle($("imgGrowSoil"),{left:o-30+"px",top:a-40+"px",zIndex:3*t,visibility:"visible"})]),ClearChild($("MovePlant"),$("MovePlantAlpha")),$("dCardList").removeChild($(c)),null,ArCard.splice(r,1),oS.ChoseCard="",oS.Chose=0,GroundOnmousemove=function(){})},ViewPlantTitle:function(e){var o=$("dTitle"),a=ArCard[e].PName.prototype;o.innerHTML=a.CName+"<br>"+a.Tooltip,SetStyle(o,{top:60*e+"px",left:"100px"})}});