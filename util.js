function log(t){var n=null;return(n=new XMLHttpRequest).open("GET","/log?l="+t,!1),n.send(null),n.responseText}function choice(t){return t[Math.floor(Math.random()*t.length)]}function randColor(t){t=t||lastColor;do{var n=choice(pallet),o=new Color(n[0],n[1],n[2])}while(lastColor.equals(o));return lastColor=o,o;var r=341/3,e=(r+2*Math.random()*100-100)/r;return rgbToHex(0*e,86*e,255*e)}function shadeColor(t,n){var o=Math.round(2.55*n);return new Color(t.r+o,t.g+o,t.b+o)}function directionTowards(t,n){return Math.atan2(t.y-n.y,t.x-n.x)}function distance(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function collideBox(t,n){return!(t.y+t.height<n.y||t.y>n.y+n.height||t.x+t.width<n.x||t.x>n.x+n.width)}function rot(t,n,o){return[Math.cos(o)*t-Math.sin(o)*n,Math.sin(o)*t+Math.cos(o)*n]}function sign(t){return t<0?-1:1}function particalize(t,n,o,r){for(var e=[],a=this.ctx.getImageData(0,0,this.canv.width,this.canv.height).data,i=0;i<a.length;i+=isMobile?1080:360){var h=a[i],c=a[i+1],u=a[i+2];if(h||c||u){var l=i/4%this.canv.width,s=Math.floor(i/4/this.canv.width)+2*Math.random()+2,d=new Color(h,c,u),w=directionTowards(t,{x:l,y:s});e.push(new Particle(l,n+s,d,t,w,2,o,r))}}return e}function scaleSize(t,n,o,r){function e(t,n){return t>n?n/t:1}return Math.min(e(t,o),e(n,r))}function roundRect(t,n,o,r,e,a){r<2*a&&(a=r/2),e<2*a&&(a=e/2),t.beginPath(),t.moveTo(n+a,o),t.arcTo(n+r,o,n+r,o+e,a),t.arcTo(n+r,o+e,n,o+e,a),t.arcTo(n,o+e,n,o,a),t.arcTo(n,o,n+r,o,a),t.closePath()}window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;