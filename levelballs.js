function LevelBalls(t,i){this.balls=[],this.nextColors=Array.apply([],new Array(2)).map((function(){return{col:randColor()}})),this.ballRadius=14,this.maxWidth=t,this.maxHeight=i,this.thickness=2,this.width=this.maxWidth,this.height=2*this.ballRadius+2*this.thickness,this.x=2*this.ballRadius,this.y=this.maxHeight-2*this.ballRadius-4*this.thickness,this.updating=!1,this.canv=document.createElement("canvas"),this.canv.width=this.maxWidth,this.canv.height=this.height,this.ctx=this.canv.getContext("2d"),this.ctx.lineWidth=this.thickness}function LevelBall(t,i,s,h){this.x=t||0,this.y=i||0,this.colors=s||[],this.size=1,this.targetSize=h||10}LevelBalls.prototype.resize=function(t,i){this.maxWidth=t,this.maxHeight=i,this.width=this.maxWidth,this.height=2*this.ballRadius+2*this.thickness,this.y=this.maxHeight-2*this.ballRadius-4*this.thickness,this.canv.width=this.maxWidth,this.canv.height=this.height,this.ctx=this.canv.getContext("2d"),this.ctx.lineWidth=this.thickness;for(var s=0;s<this.balls.length;s++)this.balls[s].x=s*(this.width/13+this.ballRadius)+2*this.ballRadius},LevelBalls.prototype.draw=function(t){if(this.balls.length){this.ctx.clearRect(0,0,this.canv.width,this.canv.height);for(var i=0,s=this.balls.length;i<s;i++)this.balls[i].draw(this.ctx);t.drawImage(this.canv,0,this.y)}},LevelBalls.prototype.physics=function(){for(var t=0,i=0;i<this.balls.length;i++)t+=this.balls[i].physics()?1:0;return 10===t},LevelBalls.prototype.toParticles=function(t){return particalize.call(this,t,this.y,8,.16)},LevelBalls.prototype.shift=function(){this.x+=this.width/13+this.ballRadius},LevelBalls.prototype.addBall=function(){var t=this.nextColors;this.balls.push(new LevelBall(this.x,this.ballRadius+this.thickness,t,this.ballRadius))},LevelBall.prototype.draw=function(t){for(var i=this.colors.length-1;i>=0;i--){var s=this.colors[i];t.strokeStyle=s.col.rgb(),t.beginPath(),t.arc(this.x,this.y,this.size/2*(i+1),0,2*Math.PI),t.stroke()}},LevelBall.prototype.physics=function(){return this.size<this.targetSize&&(this.size+=.2),this.size>=this.targetSize};