export class Pool{constructor(t,e){var s,o,r;if(this.factory=t,this.objects={},null!=e&&null!=e.objects)for(s in r=e.objects)o=r[s],this.objects[s]=this.factory.copy(o)}get length(){return Object.keys(this.objects).length}toJSON(){return this.objects}get(t){return this.objects[t]}put(t){return this.objects[t.id]=t}pop(t){var e,s,o;return e=null!=(o=t.id)?o:t,"function"==typeof(s=this.objects[e]).release&&s.release(),delete this.objects[e],s}all(){return this.objects}clear(){return this.objects={}}}