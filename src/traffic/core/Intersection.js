import{Traffic}from"../Traffic.js";import{ControlSignals}from"./ControlSignals.js";import{Rect}from"../geom/Rect.js";export class Intersection{constructor(t){this.rect=t,this.key=this.rect.key(),this.id=Traffic.uniqueId("intersection"),this.roads=[],this.inRoads=[],this.controlSignals=new ControlSignals(this)}copy(t){return this.rect=t.rect.clone(),this}toJSON(){return{id:this.id,rect:this.rect}}update(){let t;for(t in this.roads)this.roads[t].update();for(t in this.inRoads)this.inRoads[t].update()}}