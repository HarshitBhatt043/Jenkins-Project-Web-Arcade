import{checkMoveDown,getMoveDownValue}from"./utils";import*as constant from"./constant";const randomCloudImg=t=>{const{count:o}=t,e=t=>t[Math.floor(Math.random()*t.length)];t.imgName=e(o>6?["c4","c5","c6","c7","c8"]:["c1","c2","c3"])};export const cloudAction=(t,o)=>{if(!t.ready){t.ready=!0,randomCloudImg(t),t.width=o.getVariable(constant.cloudSize),t.height=o.getVariable(constant.cloudSize);const e=o.width,i=o.height,n=[{x:.1*e,y:.66*-i},{x:.65*e,y:.33*-i},{x:.1*e,y:0},{x:.65*e,y:.33*i}][t.index-1];t.x=o.utils.random(n.x,1.2*n.x),t.originX=t.x,t.ax=o.pixelsPerFrame(t.width*o.utils.random(.05,.08)*o.utils.randomPositiveNegative()),t.y=o.utils.random(n.y,1.2*n.y)}t.x+=t.ax,(t.x>=t.originX+t.width||t.x<=t.originX-t.width)&&(t.ax*=-1),checkMoveDown(o)&&(t.y+=1.2*getMoveDownValue(o)),t.y>=o.height&&(t.y=.66*-o.height,t.count+=4,randomCloudImg(t))};export const cloudPainter=(t,o)=>{const{ctx:e}=o,i=o.getImg(t.imgName);e.drawImage(i,t.x,t.y,t.width,t.height)};