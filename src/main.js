MG.init=function(){MG.fog.init(),MG.banner.init(),MG.game.init(),MG.hud.init(),document.addEventListener("mousemove",(function(e){MG.game.onMouseMove(e.clientX,e.clientY)}),!1),document.addEventListener("touchmove",(function(e){MG.game.onMouseMove(e.clientX||e.touches[0].clientX,e.clientY||e.touches[0].clientY)}),!1),window.addEventListener("click",MG.game.onMouseClick,!1);var e=0,n=0,t=!1;window.requestAnimationFrame||(t=!0);var i=function(o){if(o?n=0:n+=1,n>10&&(t=!0),o=o||0,t)u=1/30;else var u=(o-e)/1e3;u>.1&&(u=.1),e=o,function(e){MG.fog.update(e),MG.game.update(e),MG.hud.update(e),MG.banner.update(e),MG.fog.updateDOM(),MG.game.updateDOM(),MG.hud.updateDOM(),MG.banner.updateDOM()}(u),t?window.setTimeout(i,1e3/30):window.requestAnimationFrame(i)};i()},MG.init();