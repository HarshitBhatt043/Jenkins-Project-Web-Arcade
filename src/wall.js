MG.tunnelWall=function(t){var e=MG.LINE_OF_SIGHT,a=e-MG.BARRIER_SPACING,n=0,r=[];return{init:function(t){var n=document.createElementNS(NAMESPACE_SVG,"linearGradient");n.id="tunnel-wall-segment-fade-gradient",n.setAttribute("gradientUnits","userSpaceOnUse"),t.appendChild(n);var s=document.createElementNS(NAMESPACE_SVG,"stop");s.setAttribute("offset",125/e+""),s.setAttribute("stop-color","#fff"),n.appendChild(s);var i=document.createElementNS(NAMESPACE_SVG,"stop");i.setAttribute("offset",125/a+""),i.setAttribute("stop-color","#000"),n.appendChild(i);for(var M=0;M<5;M++)r[M]=document.createElementNS(NAMESPACE_SVG,"path"),r[M].setAttribute("class","wall-segment-dark"),r[M].setAttribute("d","M 0,0 l 1000,50 l 0,-50 z"),r[M].setAttribute("fill","url(#tunnel-wall-segment-fade-gradient)"),t.appendChild(r[M]);this.updateDOM(0,0,0)},update:function(t){n+=20*t,n%=360},updateDOM:function(t,e,a){for(var s=0;s<5;s++){var i=n+360*s/5,M=-t*Math.cos(i*Math.PI/180)+-e*Math.sin(i*Math.PI/180),l=-t*Math.sin(i*Math.PI/180)+e*Math.cos(i*Math.PI/180),u=.1*MG.PROJECTION_PLANE_DISTANCE*(1-M/MG.TUNNEL_RADIUS)/(25*Math.tan(Math.PI*MG.FIELD_OF_VIEW/360)),E=.1*MG.PROJECTION_PLANE_DISTANCE/(25*Math.tan(Math.PI*MG.FIELD_OF_VIEW/360)),A=180*Math.atan(l/MG.TUNNEL_RADIUS)/Math.PI;r[s].setAttribute("transform","rotate("+i+") scale("+u+","+E+") skewY("+A+")")}}}}();