"use strict";V3D.Destructor=function(){this.emitter=null,this.particleGroup=null,this.atmosphereBurnEmitter=null,this.obj=[],this.objInfo=[],this.timestep=1e3/60,this.timer,this.time,this.maxDecal,this.posDecal,this.reflectionCube=null,this.smokeTexture=null,this.isDestroy=!1,this.isBurn=!1,this.snd_destroy=null,this.snd_destroy2=null,init()},V3D.Destructor.prototype={constructor:V3D.Destructor,init:function(){var e=document.createElement("canvas"),t=e.getContext("2d");e.width=e.height=64,t.rect(0,0,64,64),t.fillStyle="#cc7f66",t.fill(),this.reflectionCube=new THREE.Texture([e,e,e,e,e,e]),this.reflectionCube.needsUpdate=!0,this.smokeTexture=THREE.ImageUtils.loadTexture("./img/smoke.png"),this.snd_destroy=new Audio("./sound/explosion-low.mp3"),this.snd_destroy2=new Audio("./sound/explosion-high.mp3")},destruct:function(e,t,i){var s=t.clone();s.reflectivity=0,s.combine=THREE.MixOperation,s.envMap=this.reflectionCube,s.side=THREE.DoubleSide;var o=e.clone();o.computeBoundingBox();var n=o.boundingBox,r=new THREE.Mesh(o,s);r.position.copy(i),this.objInfo.push([Number(n.max.y.toFixed(2)),Number(n.min.y.toFixed(2)),Number((n.max.x+Math.abs(n.min.x)).toFixed(2)),Number((n.max.z+Math.abs(n.min.z)).toFixed(2)),o.vertices.length]),this.obj.push(r),view3d.scene.add(r)}};