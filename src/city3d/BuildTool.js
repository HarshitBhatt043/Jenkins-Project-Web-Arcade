import*as THREE from"../../build/three.module.js";export class BuildTool extends THREE.Object3D{constructor(){super(),this.space=.075;let e=new THREE.BufferGeometry,t=.5+.5*this.space,s=.5-.5*this.space,r=[-s,0,s,-t,0,t,s,0,s,t,0,t,t,0,-t,s,0,-s,-s,0,-s,-t,0,-t];e.setIndex([0,1,2,1,3,2,3,4,2,2,4,5,5,4,6,4,7,6,7,1,6,1,0,6]),e.setAttribute("position",new THREE.Float32BufferAttribute(r,3)),e.setAttribute("normal",new THREE.Float32BufferAttribute([0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],3)),e.setAttribute("uv",new THREE.Float32BufferAttribute([1,1,0,1,1,1,1,1,1,0,1,0,1,1,0,0],2)),e.morphAttributes.position=[],e.morphAttributes.position.push(this.makeMorph(3)),e.morphAttributes.position.push(this.makeMorph(4,.5)),e.morphAttributes.position.push(this.makeMorph(6,1.5)),this.mesh=new THREE.Mesh(e),this.mesh.material.depthWrite=!0,this.mesh.material.depthTest=!1,this.mesh.material.morphTargets=!1,this.mesh.material.transparent=!0,this.mesh.material.renderOrder=1,this.type="Tool",this.add(this.mesh)}makeMorph(e,t=0){let s,r=.5*e+.5*this.space,h=.5*e-.5*this.space,i=[-h,0,h,-r,0,r,h,0,h,r,0,r,r,0,-r,h,0,-h,-h,0,-h,-r,0,-r],o=i.length/3;for(;o--;)s=3*o,i[s]+=t,i[s+2]+=t;return new THREE.Float32BufferAttribute(i,3)}set color(e){this.mesh.material.color.set(e).convertSRGBToLinear()}set resize(e){this.mesh.morphTargetInfluences[0]=0,this.mesh.morphTargetInfluences[1]=0,this.mesh.morphTargetInfluences[2]=0,3==e&&(this.mesh.morphTargetInfluences[0]=1),4==e&&(this.mesh.morphTargetInfluences[1]=1),6==e&&(this.mesh.morphTargetInfluences[2]=1)}}