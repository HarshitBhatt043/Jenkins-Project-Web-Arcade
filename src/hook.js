import{getSwingBlockVelocity}from"./utils";import*as constant from"./constant";export const hookAction=(t,e,o)=>{const n=e.getVariable(constant.ropeHeight);t.ready||(t.x=e.width/2,t.y=-1.5*n,t.ready=!0),e.getTimeMovement(constant.hookUpMovement,[[t.y,t.y-n]],(e=>{t.y=e}),{after:()=>{t.y=-1.5*n}}),e.getTimeMovement(constant.hookDownMovement,[[t.y,t.y+n]],(e=>{t.y=e}),{name:"hook"});const a=e.getVariable(constant.initialAngle);t.angle=a*getSwingBlockVelocity(e,o),t.weightX=t.x+Math.sin(t.angle)*n,t.weightY=t.y+Math.cos(t.angle)*n};export const hookPainter=(t,e)=>{const{ctx:o}=e,n=e.getVariable(constant.ropeHeight),a=.1*n,i=e.getImg("hook");o.save(),o.translate(t.x,t.y),o.rotate(2*Math.PI-t.angle),o.translate(-t.x,-t.y),e.ctx.drawImage(i,t.x-a/2,t.y,a,n+5),o.restore()};