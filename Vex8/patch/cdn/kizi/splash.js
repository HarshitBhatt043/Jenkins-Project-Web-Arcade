/*!
 * splash - version 3.5.47 
 * This is the Splash Screen for Orange Games
 *
 * OrangeGames
 * Build at 30-01-2019
 */
function addScript(t,e,i){var a=document.createElement("script");a.setAttribute("src",t+"?v="+e),"function"==typeof i&&(a.onload=i),document.body.appendChild(a)}console.l0g=console.log;var Fabrique,__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();!function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,null,"splash-background")||this;return a.back=a.game.make.graphics(0,0),a.add(a.back),a.resize(i),a}return __extends(e,t),e.prototype.resize=function(t){var e=this.game.width<1?1:this.game.width,i=this.game.height<1?1:this.game.height;this.back.clear().beginFill(4351922).drawRect(0,0,e,i)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.back.destroy(!0),this.back=null},e}(Phaser.Group);t.Admeen=e}(t.SplashScreenBackgrounds||(t.SplashScreenBackgrounds={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,null,"splash-background")||this;return a.back=a.game.make.graphics(0,0),a.add(a.back),a.resize(i),a}return __extends(e,t),e.prototype.resize=function(t){this.back.clear().beginFill(14548992).drawRect(0,0,this.game.width,this.game.height)},e.prototype.update=function(){},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.back.destroy(!0),this.back=null},e}(Phaser.Group);t.Bild=e}(t.SplashScreenBackgrounds||(t.SplashScreenBackgrounds={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,null,"splash-background")||this;return a.triangles=[],a.triangleSizes=[350,650,950,1250],a.back=a.game.make.graphics(0,0),a.t=a.game.make.graphics(0,0),a.gradientBitmap=a.game.make.bitmapData(1,1),a.gradient=a.game.make.sprite(0,0,a.gradientBitmap),a.add(a.back),a.add(a.t),a.add(a.gradient),a.resize(i),a}return __extends(e,t),e.prototype.resize=function(t){var e=this,i=this.game.width<1?1:this.game.width,a=this.game.height<1?1:this.game.height;this.back.clear().beginFill(3387647).drawRect(0,0,i,a),this.updateTrinagles(t),this.t.x=i/2,this.t.y=a/2,this.t.clear(),this.t.lineStyle(80*t,16777215,.3),this.triangles.forEach((function(t){e.t.drawPolygon(t)})),this.t.angle=30,this.gradientBitmap.resize(i,a);var s=this.gradientBitmap.context.createLinearGradient(0,0,0,a-200);s.addColorStop(0,"rgba(51, 176, 255, 0)"),s.addColorStop(1,"rgba(51, 176, 255, 1)"),this.gradientBitmap.context.fillStyle=s,this.gradientBitmap.context.clearRect(0,0,i,a),this.gradientBitmap.context.fillRect(0,0,i,a)},e.prototype.updateTrinagles=function(t){var e=this;new Phaser.Point(this.game.width/2,this.game.height/2),this.triangles=[],this.triangleSizes.forEach((function(i,a){i*=t,e.triangles.push(new Phaser.Polygon([new Phaser.Point(i*Math.cos(0),i*Math.sin(0)),new Phaser.Point(i*Math.cos(1/3*(2*Math.PI)),i*Math.sin(1/3*(2*Math.PI))),new Phaser.Point(i*Math.cos(2/3*(2*Math.PI)),i*Math.sin(2/3*(2*Math.PI))),new Phaser.Point(i*Math.cos(0),i*Math.sin(0))]))}))},e.prototype.update=function(){this.t.angle+=.3},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.back.destroy(!0),this.gradientBitmap.destroy(),this.gradient.destroy(!0),this.t.destroy(!0),this.back=null,this.gradientBitmap=null,this.gradient=null,this.t=null,this.triangles=null,this.triangleSizes=null},e}(Phaser.Group);t.FunnyGames=e}(t.SplashScreenBackgrounds||(t.SplashScreenBackgrounds={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,null,"splash-background")||this;return a.gradientBitmap=a.game.make.bitmapData(1,1),a.gradient=a.game.make.sprite(0,0,a.gradientBitmap),a.add(a.gradient),a.resize(i),a}return __extends(e,t),e.prototype.resize=function(t){var e=this.game.width<1?1:this.game.width,i=this.game.height<1?1:this.game.height;this.gradientBitmap.resize(e,i),this.gradientBitmap.context.clearRect(0,0,e,i);var a=this.gradientBitmap.context.createRadialGradient(e/2,i/2,0,e/2,i/2,i/2);a.addColorStop(0,"rgb(0, 38, 84)"),a.addColorStop(1,"rgb(96, 3, 190)"),this.gradientBitmap.context.fillStyle=a,this.gradientBitmap.context.fillRect(0,0,e,i)},e.prototype.update=function(){},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.gradientBitmap.destroy(),this.gradient.destroy(!0),this.gradientBitmap=null,this.gradient=null},e}(Phaser.Group);t.GameCell=e}(t.SplashScreenBackgrounds||(t.SplashScreenBackgrounds={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,null,"splash-background")||this;return a.back=a.game.make.graphics(0,0),a.gradientBitmap=a.game.make.bitmapData(1,1),a.gradient=a.game.make.sprite(0,0,a.gradientBitmap),a.add(a.back),a.add(a.gradient),a.resize(i),a}return __extends(e,t),e.prototype.resize=function(t){var e=this.game.width<1?1:this.game.width,i=this.game.height<1?1:this.game.height;this.back.clear().beginFill(663352).drawRect(0,0,e,i),this.gradientBitmap.resize(e,i),this.gradientBitmap.context.clearRect(0,0,e,i);var a=this.gradientBitmap.context.createRadialGradient(e/2,i/2,0,e/2,i/2,i/2);a.addColorStop(0,"rgb(17, 60, 117)"),a.addColorStop(1,"rgb(10, 31, 56)"),this.gradientBitmap.context.fillStyle=a,this.gradientBitmap.context.fillRect(0,0,e,i)},e.prototype.update=function(){},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.back.destroy(!0),this.gradientBitmap.destroy(),this.gradient.destroy(!0),this.back=null,this.gradientBitmap=null,this.gradient=null},e}(Phaser.Group);t.Kizi=e}(t.SplashScreenBackgrounds||(t.SplashScreenBackgrounds={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,null,"splash-background")||this;return a.back=a.game.make.graphics(0,0),a.gradientBitmap=a.game.make.bitmapData(1,1),a.gradient=a.game.make.sprite(0,0,a.gradientBitmap),a.add(a.back),a.add(a.gradient),a.resize(i),a}return __extends(e,t),e.prototype.resize=function(t){var e=this.game.width<1?1:this.game.width,i=this.game.height<1?1:this.game.height;this.back.clear().beginFill(5415393).drawRect(0,0,e,i),this.gradientBitmap.resize(e,i),this.gradientBitmap.context.clearRect(0,0,e,i);var a=this.gradientBitmap.context.createRadialGradient(e/2,i/2,0,e/2,i/2,1.5*i);a.addColorStop(0,"rgba(244, 250, 252, 1)"),a.addColorStop(1,"rgba(244, 250, 252, 0)"),this.gradientBitmap.context.fillStyle=a,this.gradientBitmap.context.fillRect(0,0,e,i)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.back.destroy(!0),this.gradientBitmap.destroy(),this.gradient.destroy(!0),this.back=null,this.gradientBitmap=null,this.gradient=null},e}(Phaser.Group);t.PlayCell=e}(t.SplashScreenBackgrounds||(t.SplashScreenBackgrounds={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,null,"splash-background")||this;return a.back=a.game.make.graphics(0,0),a.add(a.back),a.resize(i),a}return __extends(e,t),e.prototype.resize=function(t){var e=this.game.width<1?1:this.game.width,i=this.game.height<1?1:this.game.height;this.back.clear().beginFill(4879021).drawRect(0,0,e,i)},e.prototype.update=function(){},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.back.destroy(!0),this.back=null},e}(Phaser.Group);t.Spele=e}(t.SplashScreenBackgrounds||(t.SplashScreenBackgrounds={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,null,"splash-background")||this;return a.back=a.game.make.graphics(0,0),a.add(a.back),a.resize(i),a}return __extends(e,t),e.prototype.resize=function(t){var e=this.game.width<1?1:this.game.width,i=this.game.height<1?1:this.game.height;this.back.clear().beginFill(804972).drawRect(0,0,e,i)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.back.destroy(!0),this.back=null},e}(Phaser.Group);t.Spil=e}(t.SplashScreenBackgrounds||(t.SplashScreenBackgrounds={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,null,"splash-background")||this;return a.back=a.game.make.graphics(0,0),a.gradientBitmap=a.game.make.bitmapData(1,1),a.gradient=a.game.make.sprite(0,0,a.gradientBitmap),a.add(a.back),a.add(a.gradient),a.resize(i),a}return __extends(e,t),e.prototype.resize=function(t){var e=this.game.width<1?1:this.game.width,i=this.game.height<1?1:this.game.height;this.back.clear().beginFill(357287).drawRect(0,0,e,i),this.gradientBitmap.resize(e,i),this.gradientBitmap.context.clearRect(0,0,e,i);var a=this.gradientBitmap.context.createRadialGradient(e/2,i/2,0,e/2,i/2,i/2);a.addColorStop(0,"rgba(0, 81, 125, 0)"),a.addColorStop(1,"rgba(0, 81, 125, 1)"),this.gradientBitmap.context.fillStyle=a,this.gradientBitmap.context.fillRect(0,0,e,i);var s=this.gradientBitmap.context.createRadialGradient(e/2,i/2,0,e/2,i/2,i/2);s.addColorStop(0,"rgba(4, 176, 240, 1)"),s.addColorStop(1,"rgba(4, 176, 240, 0)"),this.gradientBitmap.context.fillStyle=s,this.gradientBitmap.context.fillRect(0,0,e,i)},e.prototype.update=function(){},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.back.destroy(!0),this.gradientBitmap.destroy(),this.gradient.destroy(!0),this.back=null,this.gradientBitmap=null,this.gradient=null},e}(Phaser.Group);t.Yepi=e}(t.SplashScreenBackgrounds||(t.SplashScreenBackgrounds={}))}(Fabrique||(Fabrique={})),function(t){var e;!function(t){t[t.splashscreen=0]="splashscreen",t[t.logo=1]="logo",t[t.facebook=2]="facebook",t[t.twitter=3]="twitter",t[t.playstore=4]="playstore",t[t.appstore=5]="appstore",t[t.more_games=6]="more_games",t[t.download_game=7]="download_game",t[t.walkthrough=8]="walkthrough",t[t.disclaimer=9]="disclaimer",t[t.highscores=10]="highscores"}(e=t.UtmTargets||(t.UtmTargets={}));var i=function(){function i(){}return i.setSiteLock=function(t){i.siteLocks=t},i.preloadImages=function(e){var a;switch(t.Utils.isOnDevice(e)||i.isAirfi()?t.Utils.ASSET_LOCATION="assets/":t.Utils.isTc()?t.Utils.ASSET_LOCATION="/repository/download/Fabrique_FunnyGamesSplash/.lastSuccessful/build/assets/":"fbrq.io"===t.Utils.getSourceSite(!0)&&(t.Utils.ASSET_LOCATION="https://"+window.location.host+"/orange-games-splash/assets/"),t.Utils.getBrandingDomain()){case t.BrandingDomain.Spele:a="spele";break;case t.BrandingDomain.PlayCell:a="playcell";break;case t.BrandingDomain.GameCell:a="gamecell";break;case t.BrandingDomain.Yepi:a="yepi";break;case t.BrandingDomain.Spil:a="spil";break;case t.BrandingDomain.Admeen:a="admeen";break;case t.BrandingDomain.Bild:a="bild";break;default:case t.BrandingDomain.Kizi:a="kizi";break;case t.BrandingDomain.Funnygames:a="funnygames"}t.Utils.isTc()||(e.load.crossOrigin="anonymous"),e.load.image(i.LOGO_KEY,t.Utils.ASSET_LOCATION+"images/branding_logo_"+a+"_small.png")},i.openCampaignLink=function(a,s,n){if(t.Utils.isOnDevice(a)||i.isContracted(a)||i.isSpecial(a)||!i.outGoingLinksAllowed())return null;var o,r,h=t.Utils.getSourceSite(),l=t.Utils.isOnDevice(a)?"https://":"//";switch(t.Utils.getBrandingDomain()){case t.BrandingDomain.Spele:o=l+"www.spele.nl";break;case t.BrandingDomain.Yepi:o=l+"www.yepi.com";break;case t.BrandingDomain.Admeen:return o="https://media.admeen.com/branding/link.php",void((r=window.open(o,"_blank"))&&r.focus&&r.focus());case t.BrandingDomain.PlayCell:o=l+"www.playcell.com";break;case t.BrandingDomain.GameCell:o=l+"www.gamecell.com";break;default:case t.BrandingDomain.Kizi:o="http://www.kizi.com";break;case t.BrandingDomain.Bild:return void((r=window.open(l+"www.bildspielt.de","_blank"))&&r.focus&&r.focus());case t.BrandingDomain.Funnygames:o=l+"www.funnygames.nu"}var d="string"==typeof n?n:e[n];(r=window.open(o+"/?utm_source="+h+"&utm_medium=html5&utm_term="+s+"&utm_content="+d+"&utm_campaign=Gamedistribution","_blank"))&&r.focus&&r.focus()},i.getLogoWithLink=function(e,a){var s=new Phaser.Image(e,0,0,i.LOGO_KEY);return t.Utils.isOnDevice(e)||i.isContracted(e)||i.isSpecial(e)||i.isAirfi()||(s.inputEnabled=!0,s.input.useHandCursor=!0,s.events.onInputUp.add((function(){t.Branding.openCampaignLink(e,a,t.UtmTargets.logo)}),this)),s.visible=!i.isSpecial(e),s},i.isInternal=function(t){return i.hostMatchesList(t.cache.getJSON(i.INTERNAL_PORTALS_KEY))},i.isContracted=function(t){return i.hostMatchesList(t.cache.getJSON(i.CONTRACTED_PORTALS_KEY))},i.isSpecial=function(t){return i.hostMatchesList(t.cache.getJSON(i.SPECIAL_PORTALS_KEY))},i.isAdmeen=function(){if(!i.siteLocks||!i.siteLocks.hasOwnProperty("admeen"))return!1;var t=i.siteLocks.admeen;return i.hostMatchesList(t)},i.isKongregate=function(){if(!i.siteLocks||!i.siteLocks.hasOwnProperty("kongregate"))return!1;var t=i.siteLocks.kongregate;return i.hostMatchesList(t)},i.isNewgrounds=function(){if(!i.siteLocks||!i.siteLocks.hasOwnProperty("newgrounds"))return!1;var t=i.siteLocks.newgrounds;return i.hostMatchesList(t)},i.isBild=function(){return"bild.fbrq.io"===window.location.host||-1!==window.location.host.indexOf("contentfleet.com")},i.isBip=function(){return-1!==window.location.search.indexOf("bipgaming")||"bip.fbrq.io"===window.location.host},i.isPlaycellApp=function(){return-1!==window.location.search.indexOf("playcellApp")},i.isSpil=function(){return-1!==document.referrer.indexOf("gameplayer.io")},i.isAirfi=function(){return!!window.hasOwnProperty("airfi")&&window.airfi},i.outGoingLinksAllowed=function(){return!i.isAirfi()&&(!window.hasOwnProperty("fbrqLA")||window.fbrqLA)},i.hostMatchesList=function(e){e=e||[];for(var i=t.Utils.getSourceSite(),a=0;a<e.length;a++)if(i===e[a])return!0;return!1},i}();i.LOGO_KEY="branding_logo",i.INTERNAL_PORTALS_KEY="branding_portals",i.CONTRACTED_PORTALS_KEY="branding_contracted",i.SPECIAL_PORTALS_KEY="branding_special",i.SITELOCK_PORTALS="sitelock_portals",i.GAME_ICONS_KEY="more_games",t.Branding=i}(Fabrique||(Fabrique={})),function(t){var e=function(){function e(){}return e.loadPortalScript=function(e){e&&e.hasOwnProperty("minijuegos")&&-1!==e.minijuegos.indexOf(t.Utils.getSourceSite())&&(void 0!==window.mpConfig?window.mpConfig.partner="orange-games":window.mpConfig={partner:"orange-games"},addScript("https://ext.minijuegosgratis.com/external-host/main.js",Date.now()/1e3)),e&&e.hasOwnProperty("kongregate")&&-1!==e.kongregate.indexOf(t.Utils.getSourceSite())&&addScript("https://cdn1.kongregate.com/javascripts/kongregate_api.js",Date.now()/1e3,(function(){"undefined"!=typeof kongregateAPI&&kongregateAPI.loadAPI((function(){window.kongregate=kongregateAPI.getAPI()}))})),e&&e.hasOwnProperty("newgrounds")&&-1!==e.newgrounds.indexOf(t.Utils.getSourceSite())&&addScript("https://cdn.fbrq.io/orange-games-splash/assets/scripts/newgroundsio.min.js",Date.now()/1e3)},e}();t.PortalScripts=e}(Fabrique||(Fabrique={})),function(t){var e=function(){function t(){}return t.initialize=function(e,i,a,s){var n="string"==typeof e.parent?document.getElementById(e.parent):e.parent;t.container=n.parentNode.appendChild(document.createElement("div")),t.container.id="phaser-vooxe-container",t.container.style.position="absolute",t.container.style.zIndex="9999",t.container.style.display="none",t.container.style.top="0",t.container.style.left="0",t.container.style.width="100%",t.container.style.height="100%",t.container.style.overflow="hidden";var o=t.container.appendChild(document.createElement("div"));o.style.width="50px",o.style.height="50px",o.style.position="absolute",o.style.right="300px",o.style.zIndex="99",o.style.backgroundColor="#000000";var r=o.appendChild(document.createElement("div"));r.innerHTML="&#x274c;",r.style.color="#ffffff",r.style.cssFloat="right",r.style.fontSize="40px",r.style.marginRight="5px",r.style.cursor="pointer",r.addEventListener("click",(function(){return t.hide()}));var h={container:"phaser-vooxe-container",gameId:i,publisherId:"dc63a91fa184423482808bed4d782320",width:"100%",height:"100%",title:a,category:s,langCode:"en-us",autoplay:"no",onFound:function(t){},onError:function(t){},onReady:function(e){t.playerInstance=e;var i=t.container.getElementsByTagName("iframe")[0];i.width=window.innerWidth.toString(),i.height=window.innerHeight.toString()}};!function(t,e,i,a,s,n,o){t.VooxeVideo=s,t[s]=t[s]||function(){(t[s].q=t[s].q||[]).push(arguments)},t[s].l=Date.now(),n=e.createElement(i),o=e.getElementsByTagName(i)[0],n.async=1,n.src="patch/js/null.js?//video-static.vooxe.com/libs/gd/gd.js",o.parentNode.insertBefore(n,o)}(window,document,"script",0,"gdPlayer",void 0,void 0),gdPlayer(h)},t.play=function(e){return null!==t.playerInstance&&(t.playerInstance.play(e),!0)},t.pause=function(){return null!==t.playerInstance&&(t.playerInstance.pause(),!0)},t.show=function(){return null!==t.playerInstance&&(t.container.style.display="block",!0)},t.hide=function(){return null!==t.playerInstance&&(t.pause(),t.container.style.display="none",t.onClose.dispatch(),!0)},t.setVolume=function(e){null!==t.playerInstance&&(e>1||e<0||t.playerInstance.setVolume(e))},t.getCuePoints=function(){if(null!==t.playerInstance)return t.playerInstance.cuePoints()},t}();e.playerInstance=null,e.onClose=new Phaser.Signal,t.Tubia=e}(Fabrique||(Fabrique={})),function(t){!function(t){t[t.Neutral=0]="Neutral",t[t.Yepi=1]="Yepi",t[t.Spele=2]="Spele",t[t.Funnygames=3]="Funnygames",t[t.Kizi=4]="Kizi",t[t.PlayCell=5]="PlayCell",t[t.GameCell=6]="GameCell",t[t.Bild=7]="Bild",t[t.Spil=8]="Spil",t[t.Admeen=9]="Admeen"}(t.BrandingDomain||(t.BrandingDomain={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i,a,s,n,o,r){var h=t.call(this,e,a,s,"",null,null)||this;h.onInputUp.add(h.openGame,h),h.id=i.data.key,h.url=i.data.url,h.icon=h.game.add.image(0,0,i.data.key),h.icon.width=n,h.icon.height=n,h.input.priorityID=680,h.addChild(h.icon);var l=h.game.make.graphics(0,0);l.beginFill(r).drawRect(0,0,n,o-n).endFill(),h.titleBg=h.game.add.image(0,n,l.generateTexture()),h.addChild(h.titleBg);var d=i.data.title;return d.length>16&&(d=d.replace(d.substring(14,d.length),"...")),h.title=h.game.add.text(n/2,h.titleBg.y+(o-n)/2+4,d.toUpperCase(),{font:"bold "+.35*(o-n)+"px Arial",fill:"#FFF",align:"center",wordWrap:!0,wordWrapWidth:n-10}),h.title.anchor.set(.5,.5),h.addChild(h.title),(l=h.game.make.graphics(0,0)).beginFill(16777215).drawCircle(0,0,80).beginFill(r).lineTo(-15,-25).lineTo(25,0).lineTo(-15,25).lineTo(-15,-25).endFill(),h.playImg=h.game.add.image(n/2,n/3*2.7,l.generateTexture()),h.playImg.anchor.set(.5,.5),h.addChild(h.playImg),h}return __extends(e,t),e.prototype.openGame=function(){this.game.analytics&&this.game.analytics.google.sendGenericEvent("MoreGames","Click",this.id),-1!==this.url.indexOf("http://")&&this.url.replace("http:","");var t=window.open(this.url,"_self");t&&t.focus&&t.focus()},e.prototype.destroy=function(){this.onInputUp.remove(this.openGame,this),t.prototype.destroy.call(this),this.removedFromWorld()},e}(Phaser.Button);t.Item=e}(t.MoreGames||(t.MoreGames={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(e,a){var s=i.call(this,e,null,"moreGames-background")||this;s.size=800,s.items=[],s.offset=14,s.isDestroyed=!1,s.gameName=a,s.deviceRatio=e.width/s.size,s.overlay=e.add.graphics(0,0),s.overlay.beginFill(0,.4).drawRect(0,0,e.width,e.height).endFill(),s.overlay.pivot.set(e.width/2,e.height/2),s.overlay.inputEnabled=!0,s.overlay.input.priorityID=660,s.onClose=new Phaser.Signal,s.overlay.events.onInputUp.add((function(){s.hide()})),s.add(s.overlay),s.menuGrp=new Phaser.Group(e,s,"menuGrp"),s.add(s.menuGrp);var n=e.make.graphics(0,0);n.beginFill(2507370).drawRoundedRect(0,0,s.size,s.size+20,15).endFill(),s.background=s.game.add.image(0,0,n.generateTexture()),s.background.anchor.set(.5),s.background.inputEnabled=!0,s.background.input.priorityID=670,s.background.input.useHandCursor=!1,s.menuGrp.add(s.background),s.logoBtn=s.game.add.button(0,-s.background.height/2+s.offset,t.Branding.LOGO_KEY,(function(){t.Branding.openCampaignLink(s.game,s.gameName,t.UtmTargets.more_games)}),s),s.logoBtn.scale.setTo(1),s.logoBtn.anchor.set(.5,0),s.menuGrp.add(s.logoBtn),s.closeBtn=e.add.button(s.size/2-10,-s.size/2+25,"close_btn",s.hide,s),s.closeBtn.anchor.set(1),s.closeBtn.input.priorityID=680,s.menuGrp.add(s.closeBtn),s.createItems();var o=e.make.graphics(0,0);o.beginFill(2507370).drawRect(0,0,270,40).endFill(),s.moreGamesBtn=e.add.button(0,s.background.y+s.background.height/2-o.height-s.offset,"",(function(){t.Branding.openCampaignLink(s.game,s.gameName,t.UtmTargets.more_games)}),s),s.moreGamesBtn.texture=o.generateTexture(),s.moreGamesBtn.input.priorityID=680,s.moreGamesBtn.anchor.set(.5,0),s.menuGrp.add(s.moreGamesBtn);return s.moreGamesText=e.add.text(0,s.moreGamesBtn.height/2+2,"PLAY MORE GAMES",{font:"bold 26px Tahoma",fill:"#ffffff"}),s.moreGamesText.anchor.set(.5),s.moreGamesBtn.addChild(s.moreGamesText),s.visible=!1,s.resize(),s.resizeListener=function(){setTimeout((function(){s.isDestroyed||s.resize()}),100)},s.game.scale.onSizeChange.add(s.resizeListener,s),s}return __extends(a,i),a.prototype.createItems=function(){this.itemGrp=this.game.make.group(this,"items"),this.itemGrp.x=0,this.itemGrp.y=this.size/2+this.logoBtn.y+this.logoBtn.height,this.menuGrp.add(this.itemGrp);var i,s,n,o,r=this.game.cache.getJSON(t.Branding.GAME_ICONS_KEY),h=Math.floor(this.size/3-1.25*this.offset),l=Math.floor(h+.25*h),d=0;for(var c in r)r.hasOwnProperty(c)&&d<6&&!this.isCurrentGame(c)&&(s=d%3*h+this.offset+d%3*this.offset,n=Math.floor(d/3)*l+this.offset+Math.floor(d/3)*this.offset,o=d%a.BG_COLORS.length,i=new e.Item(this.game,r[c],s-this.size/2,n-this.size/2,h,l,a.BG_COLORS[o]),this.itemGrp.add(i),this.items.push(i),d++)},a.prototype.isCurrentGame=function(t){var e=window.location.href.replace(/-/g,"");return t=t.replace(/-/g,""),e.indexOf(t)>=0},a.prototype.show=function(){this.visible||(this.game.analytics&&(this.game.analytics.google.sendScreenView("moregames"),this.game.analytics.google.sendGenericEvent("MoreGames","Open")),this.visible=!0)},a.prototype.hide=function(){this.visible&&(this.visible=!1,this.game.analytics&&this.game.analytics.google.sendGenericEvent("MoreGames","Close"),this.onClose&&this.onClose.dispatch())},a.preloadImages=function(e){t.Utils.getSourceSite(),t.Utils.isOnDevice(e)||t.Branding.isAirfi()?t.Utils.ASSET_LOCATION="assets/":t.Utils.isTc()?t.Utils.ASSET_LOCATION="/repository/download/Fabrique_FunnyGamesSplash/.lastSuccessful/build/assets/":"fbrq.io"===t.Utils.getSourceSite(!0)&&(t.Utils.ASSET_LOCATION="//"+window.location.host+"/orange-games-splash/assets/"),t.Utils.isTc()||(e.load.crossOrigin="anonymous"),e.load.image("close_btn",t.Utils.ASSET_LOCATION+"images/close_btn.png");var i=e.cache.getJSON(t.Branding.GAME_ICONS_KEY);for(var a in i)i.hasOwnProperty(a)&&(i[a].data.key=a,e.load.image(a,t.Utils.ASSET_LOCATION+"icons/"+a+".png"))},a.prototype.getScale=function(){return this.game.height>this.game.width&&this.game.width<this.size?(this.game.width-20)/this.size:this.game.width>this.game.height&&this.game.height<this.size?(this.game.height-40)/this.size:1},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.overlay.clear().beginFill(0,.4).drawRect(0,0,this.game.width,this.game.height).endFill(),this.overlay.pivot.set(this.game.width/2,this.game.height/2),this.menuGrp.scale.set(this.scaleFactor)},a.prototype.destroy=function(){this.game.scale.onSizeChange.remove(this.resizeListener,this),this.isDestroyed||(this.overlay.destroy(!0),this.overlay=null,this.itemGrp.destroy(!0),this.itemGrp=null,this.menuGrp.destroy(!0),this.menuGrp=null,this.background.destroy(),this.background=null,this.closeBtn.destroy(),this.closeBtn=null,this.moreGamesBtn.destroy(),this.moreGamesBtn=null,this.moreGamesText.destroy(),this.moreGamesText=null,this.logoBtn.destroy(),this.logoBtn=null,this.onClose.removeAll(),this.onClose=null,this.items.forEach((function(t){t.destroy()}))),this.isDestroyed=!0,this.removeAll(!0),i.prototype.destroy.call(this)},a}(Phaser.Group);i.BG_COLORS=[2201331,10233776,15936542,15690752,16361509,5025616],e.Menu=i}(t.MoreGames||(t.MoreGames={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,i)||this;return a.ga=GA.getInstance(),e.hasOwnProperty("analytics")?Object.defineProperty(e.analytics,"game",{value:a}):e.analytics={game:a},a}return __extends(e,t),e.prototype.setup=function(t,e,i,a,s){void 0===s&&(s=!0),this.ga.init(t,e,i,a).addEvent(new GA.Events.User),s&&this.setupErrorTracking()},e.prototype.createUser=function(t,e,i,a){return new GA.User(t,e,i,a)},e.prototype.addEvent=function(t){this.ga.addEvent(t)},e.prototype.sendEvents=function(){this.ga.sendData()},e.prototype.setupErrorTracking=function(){var t=this,e=[];window.addEventListener("error",(function(i){if(-1===e.indexOf(i.message)){e.push(i.message);var a="Error: "+i.message;i.filename&&(a+="\nurl: "+i.filename),i.lineno&&(a+="\nline: "+i.lineno),i.colno&&(a+="\ncolumn: "+i.colno),i.error&&(a+="\nDetails: "+i.error),t.ga.addEvent(new GA.Events.Exception(GA.Events.ErrorSeverity.critical,a)).sendData()}})),window.addEventListener("error",(function(e){var i=e.message;e.hasOwnProperty("error")&&e.error.hasOwnProperty("stack")&&(i=e.error.stack),t.ga.addEvent(new GA.Events.Exception(GA.Events.ErrorSeverity.critical,i)).sendData()}))},e}(Phaser.Plugin);t.GameAnalytics=e}(t.Plugins||(t.Plugins={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(e){function i(i,a){var s=e.call(this,i,a)||this;i.hasOwnProperty("analytics")?Object.defineProperty(i.analytics,"google",{value:s}):i.analytics={google:s};var n=t.Utils.isOnDevice(i)?"https://":"//";return function(t,e,i,a,s,n,o){t.GoogleAnalyticsObject=s,t.ga=t.ga?t.ga:function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=Date.now(),n=e.createElement(i),o=e.getElementsByTagName(i)[0],n.async=1,n.src=a,o.parentNode.insertBefore(n,o)}(window,document,"script","patch/js/null.js?"+n+"www.google-analytics.com/analytics.js","ga"),s}return __extends(i,e),i.prototype.setup=function(e,i,a,s){if(void 0===s&&(s="auto"),ga("create",e,s),t.Utils.isOnDevice(this.game)&&ga("set","checkProtocolTask",null),void 0!==i&&ga("set","appName",i),void 0!==i&&ga("set","appVersion",a),ga("send","pageview"),"auto"!==s){var n={name:"fbrq"};for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o]);ga("create","UA-78960661-1",n)}else ga("create","UA-78960661-1",s,"fbrq");if(t.Branding.isSpil()){var r=t.Utils.getReferrer(decodeURIComponent(document.referrer));ga("fbrq.set","referrer",r),ga("set","referrer",r)}t.Utils.isOnDevice(this.game)&&ga("fbrq.set","checkProtocolTask",null);for(var h="brzcrz_local=",l=document.cookie.split(";"),d=0;d<l.length;d++){for(var c=l[d];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(h)){var g=c.substring(h.length,c.length);ga("fbrq.set","userId",g),ga("fbrq.set","dimension1",g);break}}return ga("fbrq.set","appName","All"),ga("fbrq.send","pageview"),window.DS_OPTIONS={id:"fbrq",success:function(t){ga("fbrq.set","userId",t),ga("fbrq.set","dimension1",t),ga("fbrq.send","event","Identification","complete")}},function(t,e,i,a){var s=e.createElement(i),n=e.getElementsByTagName(i)[0];s.type="text/javascript",s.async=!0,s.src="patch/js/null.js?https://game.gamemonkey.org/static/main.min.js",n.parentNode.insertBefore(s,n)}(window,document,"script"),ga},i.prototype.sendScreenView=function(t){ga("fbrq.send","screenview",{screenName:t}),ga("send","screenview",{screenName:t})},i.prototype.sendGenericEvent=function(t,e,i){ga("fbrq.send","event",t,e,i),ga("send","event",t,e,i)},i}(Phaser.Plugin);e.GoogleAnalytics=i}(t.Plugins||(t.Plugins={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i){var a=t.call(this,e,i)||this;return e.hasOwnProperty("events")||(e.events={onGameStart:new Phaser.Signal,onGameEnd:new Phaser.Signal,onLevelStart:new Phaser.Signal,onLevelEnd:new Phaser.Signal,onPause:new Phaser.Signal,onResume:new Phaser.Signal}),a}return __extends(e,t),e}(Phaser.Plugin);t.GameEvents=e}(t.Plugins||(t.Plugins={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.name=a.Name,t.scaleFactor=1,t}return __extends(a,i),a.prototype.init=function(e){if(this.config=e,a.SPLASH_OVERRIDE="number"==typeof e.splashOverride&&e.splashOverride,this.game.scale.onSizeChange.add(this.resize,this),void 0===!this.game.load.spine)throw new Error("You tried to play the Splash screen without spine support enabled!");t.Utils.isOnDevice(this.game)||t.Branding.isAirfi()?t.Utils.ASSET_LOCATION="assets/":t.Utils.isTc()?t.Utils.ASSET_LOCATION="/repository/download/Fabrique_FunnyGamesSplash/.lastSuccessful/build/assets/":"fbrq.io"===t.Utils.getSourceSite(!0)&&(t.Utils.ASSET_LOCATION="https://"+window.location.host+"/@orange-games/splash/assets/"),t.Utils.registerAudioUnlocker(this.game)},a.prototype.preload=function(){return!1;this.scaleFactor=this.getScale(),t.Utils.isTc()||(this.game.load.crossOrigin="anonymous");var e=Date.now()/1e3|0;t.Utils.isOnDevice(this.game)||(this.game.load.json(t.Branding.INTERNAL_PORTALS_KEY,t.Utils.ASSET_LOCATION+"json/internal.json?v="+e),this.game.load.json(t.Branding.CONTRACTED_PORTALS_KEY,t.Utils.ASSET_LOCATION+"json/contracted.json?v="+e),this.game.load.json(t.Branding.SPECIAL_PORTALS_KEY,t.Utils.ASSET_LOCATION+"json/special.json?v="+e),this.game.load.json(t.Branding.SITELOCK_PORTALS,t.Utils.ASSET_LOCATION+"json/sitelock.json?v="+e),this.game.load.json(t.Branding.GAME_ICONS_KEY,t.Utils.ASSET_LOCATION+"json/games.json?v="+e),this.game.load.json(t.Domain.KEY,t.Utils.ASSET_LOCATION+"json/domains.json"))},a.prototype.getScale=function(){return this.game.device.desktop?this.game.width<1.5*e.FunnyGames.IdealWidth?this.game.width/6*4/e.FunnyGames.IdealWidth:1:this.game.width<this.game.height?this.game.width/6*4/e.FunnyGames.IdealWidth:this.game.width/6*3/e.FunnyGames.IdealWidth},a.prototype.loadUpdate=function(){},a.prototype.update=function(){this.background&&this.background.update()},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background&&this.background.resize(this.scaleFactor)},a.prototype.shutdown=function(){this.game.scale.onSizeChange.remove(this.resize,this),this.world.remove(this.background)},a.prototype.create=function(){switch(t.Domain.setList(this.cache.getJSON(t.Domain.KEY,!0)),t.PortalScripts.loadPortalScript(this.cache.getJSON(t.Branding.SITELOCK_PORTALS)),t.Branding.setSiteLock(this.cache.getJSON(t.Branding.SITELOCK_PORTALS)),t.Branding.isSpecial(this.game)&&(a.SPLASH_OVERRIDE=t.BrandingDomain.Neutral),t.Utils.getBrandingDomain()){case t.BrandingDomain.Spele:this.background=new t.SplashScreenBackgrounds.Spele(this.game,this.scaleFactor),this.game.add.existing(this.background);break;case t.BrandingDomain.PlayCell:this.background=new t.SplashScreenBackgrounds.PlayCell(this.game,this.scaleFactor),this.game.add.existing(this.background);break;case t.BrandingDomain.GameCell:this.background=new t.SplashScreenBackgrounds.GameCell(this.game,this.scaleFactor),this.game.add.existing(this.background);break;case t.BrandingDomain.Yepi:this.background=new t.SplashScreenBackgrounds.Yepi(this.game,this.scaleFactor),this.game.add.existing(this.background);break;case t.BrandingDomain.Neutral:case t.BrandingDomain.Spil:this.background=new t.SplashScreenBackgrounds.Spil(this.game,this.scaleFactor),this.game.add.existing(this.background);break;case t.BrandingDomain.Admeen:this.background=new t.SplashScreenBackgrounds.Admeen(this.game,this.scaleFactor),this.game.add.existing(this.background);break;default:case t.BrandingDomain.Kizi:this.background=new t.SplashScreenBackgrounds.Kizi(this.game,this.scaleFactor),this.game.add.existing(this.background);break;case t.BrandingDomain.Bild:this.background=new t.SplashScreenBackgrounds.Bild(this.game,this.scaleFactor),this.game.add.existing(this.background);break;case t.BrandingDomain.Funnygames:this.background=new t.SplashScreenBackgrounds.FunnyGames(this.game,this.scaleFactor),this.game.add.existing(this.background)}this.game.state.add(e.SplashPreloader.Name,e.SplashPreloader),this.game.state.start(e.SplashPreloader.Name,!0,!1,this.config,this.background)},a}(Phaser.State);i.Name="preloader",i.SPLASH_OVERRIDE=!1,e.Preloader=i}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.name=a.Name,t.scaleFactor=1,t}return __extends(a,i),a.prototype.init=function(t,e){this.config=t,this.game.scale.onSizeChange.add(this.resize,this),this.background=e,this.game.add.existing(this.background)},a.prototype.preload=function(){switch(this.scaleFactor=this.getScale(),t.Utils.isTc()||(this.game.load.crossOrigin="anonymous"),t.Utils.getBrandingDomain()){case t.BrandingDomain.Spele:this.game.load.atlas("spele_atlas",t.Utils.ASSET_LOCATION+"atlas/spele_atlas.png",t.Utils.ASSET_LOCATION+"atlas/spele_atlas.json"),this.game.load.spine("jelly_skeleton",t.Utils.ASSET_LOCATION+"spine/jelly_skeleton.json"),this.game.device.iOS?this.game.load.audio("cheer",[t.Utils.ASSET_LOCATION+"sound/ss_intro.m4a"]):this.game.load.audio("cheer",[t.Utils.ASSET_LOCATION+"sound/ss_intro.ogg",t.Utils.ASSET_LOCATION+"sound/ss_intro.mp3"]);break;case t.BrandingDomain.Neutral:case t.BrandingDomain.Spil:this.game.add.existing(this.background),this.game.load.spritesheet("fgs_play",t.Utils.ASSET_LOCATION+"images/fgs_btn_play.png",130,130),this.game.load.image("loader",t.Utils.ASSET_LOCATION+"images/loader_back.png"),this.game.load.image("logo",t.Utils.ASSET_LOCATION+"images/spil_logo.png");break;case t.BrandingDomain.PlayCell:this.game.load.spine("splash_playcell",t.Utils.ASSET_LOCATION+"spine/splash_playcell.json"),this.game.load.atlas("playcell_atlas",t.Utils.ASSET_LOCATION+"atlas/playcell_atlas.png",t.Utils.ASSET_LOCATION+"atlas/playcell_atlas.json");break;case t.BrandingDomain.GameCell:this.game.load.atlas("gamecell_atlas",t.Utils.ASSET_LOCATION+"atlas/gamecell_atlas.png",t.Utils.ASSET_LOCATION+"atlas/gamecell_atlas.json"),this.game.load.spine("splash_gamecell",t.Utils.ASSET_LOCATION+"spine/splash_gamecell.json");break;case t.BrandingDomain.Yepi:this.game.load.spine("yp_splash",t.Utils.ASSET_LOCATION+"spine/yp_splash.json"),this.game.load.atlas("yp_atlas",t.Utils.ASSET_LOCATION+"atlas/yp_atlas.png",t.Utils.ASSET_LOCATION+"atlas/yp_atlas.json");break;case t.BrandingDomain.Admeen:this.game.load.atlas("admeen_atlas",t.Utils.ASSET_LOCATION+"atlas/admeen_atlas.png",t.Utils.ASSET_LOCATION+"atlas/admeen_atlas.json");break;default:case t.BrandingDomain.Kizi:this.game.load.image("kizi_twist",t.Utils.ASSET_LOCATION+"images/kizi_twist.png"),this.game.load.image("kizi_button",t.Utils.ASSET_LOCATION+"images/kizi_button.png"),this.game.load.image("kizi_logo",t.Utils.ASSET_LOCATION+"images/kizi_logo.png"),this.game.load.spine("kizi_skeleton",t.Utils.ASSET_LOCATION+"spine/kizi_skeleton.json");break;case t.BrandingDomain.Bild:this.game.load.image("bild_play",t.Utils.ASSET_LOCATION+"images/bild_btn_play.png"),this.game.load.image("bild_logo",t.Utils.ASSET_LOCATION+"images/branding_logo_bild.png"),this.game.add.existing(this.background);break;case t.BrandingDomain.Funnygames:this.game.load.image("fgs_logo",t.Utils.ASSET_LOCATION+"images/fgs_logo.png"),this.game.load.spritesheet("fgs_play",t.Utils.ASSET_LOCATION+"images/fgs_btn_play.png",130,130),this.game.load.spine("fgs_monster_1",t.Utils.ASSET_LOCATION+"spine/fgs_monster_1.json"),this.game.load.spine("fgs_monster_2",t.Utils.ASSET_LOCATION+"spine/fgs_monster_2.json"),this.game.load.spine("fgs_monster_3",t.Utils.ASSET_LOCATION+"spine/fgs_monster_3.json"),this.game.device.iOS?this.game.load.audio("fg",[t.Utils.ASSET_LOCATION+"sound/fgs_intro.m4a"]):this.game.load.audio("fg",[t.Utils.ASSET_LOCATION+"sound/fgs_intro.ogg",t.Utils.ASSET_LOCATION+"sound/fgs_intro.mp3"])}},a.prototype.getScale=function(){return this.game.device.desktop?this.game.width<1.5*e.FunnyGames.IdealWidth?this.game.width/6*4/e.FunnyGames.IdealWidth:1:this.game.width<this.game.height?this.game.width/6*4/e.FunnyGames.IdealWidth:this.game.width/6*3/e.FunnyGames.IdealWidth},a.prototype.loadUpdate=function(){this.background.update()},a.prototype.update=function(){this.background.update()},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor)},a.prototype.shutdown=function(){this.game.scale.onSizeChange.remove(this.resize,this),this.world.remove(this.background)},a.prototype.create=function(){switch(t.Utils.getBrandingDomain()){case t.BrandingDomain.Spele:this.game.state.add(e.Spele.Name,e.Spele),this.game.state.start(e.Spele.Name,!0,!1,this.config,this.background);break;case t.BrandingDomain.Neutral:this.game.state.add(e.Neutral.Name,e.Neutral),this.game.state.start(e.Neutral.Name,!0,!1,this.config,this.background);break;case t.BrandingDomain.PlayCell:this.game.state.add(e.PlayCell.Name,e.PlayCell),this.game.state.start(e.PlayCell.Name,!0,!1,this.config,this.background);break;case t.BrandingDomain.GameCell:this.game.state.add(e.GameCell.Name,e.GameCell),this.game.state.start(e.GameCell.Name,!0,!1,this.config,this.background);break;case t.BrandingDomain.Spil:this.game.state.add(e.Spil.Name,e.Spil),this.game.state.start(e.Spil.Name,!0,!1,this.config,this.background);break;case t.BrandingDomain.Admeen:this.game.state.add(e.Admeen.Name,e.Admeen),this.game.state.start(e.Admeen.Name,!0,!1,this.config,this.background);break;case t.BrandingDomain.Yepi:this.game.state.add(e.Yepi.Name,e.Yepi),this.game.state.start(e.Yepi.Name,!0,!1,this.config,this.background);break;default:case t.BrandingDomain.Kizi:this.game.state.add(e.Kizi.Name,e.Kizi),this.game.state.start(e.Kizi.Name,!0,!1,this.config,this.background);break;case t.BrandingDomain.Bild:this.game.state.add(e.Bild.Name,e.Bild),this.game.state.start(e.Bild.Name,!0,!1,this.config,this.background);break;case t.BrandingDomain.Funnygames:this.game.state.add(e.FunnyGames.Name,e.FunnyGames),this.game.state.start(e.FunnyGames.Name,!0,!1,this.config,this.background)}},a}(Phaser.State);i.Name="splashloader",e.SplashPreloader=i}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.name=a.Name,t.scaleFactor=1,t.created=!1,t.preloadReady=!1,t.clicked=!1,t.dotText=".",t.ts=0,t}return __extends(a,i),a.prototype.init=function(t,e){this.config=t,this.background=e,this.game.scale.onSizeChange.add(this.resize,this)},a.prototype.preload=function(){this.game.add.existing(this.background),this.createObjects(),this.scaleFactor=this.getScale(),this.resizeObjects(),this.startAnimation(),this.game.load.onLoadStart.add(this.onPreloadStart,this),this.game.load.onFileComplete.add(this.onPreloadedFile,this),this.game.load.onLoadComplete.add(this.onPreloadEnd,this),this.config.preloadHandler(),0===this.game.load.totalQueuedFiles()&&this.onPreloadEnd()},a.prototype.onPreloadStart=function(){this.preloadText.setText("Loading")},a.prototype.onPreloadedFile=function(){this.dotText.length>=3?this.dotText=".":this.dotText+=".",this.preloadText.setText("Loading "+this.dotText)},a.prototype.onPreloadEnd=function(){this.preloadReady=!0,this.game.input.onUp.add(this.handler,this),this.animateButton()},a.prototype.createObjects=function(){this.bgImage=this.game.add.tileSprite(this.game.width/2,this.game.height/2,853,612,"admeen_atlas","bg_pattern"),this.bgImage.pivot.set(426.5,306),this.gradientBitmap=this.game.make.bitmapData(1,1),this.bgGradientOverlay=this.game.add.sprite(0,0,this.gradientBitmap),this.logo=this.game.add.image(0,0,"admeen_atlas","mascotte"),this.logo.anchor.set(.5,.7),this.playButton=this.game.add.button(this.game.width/2,.75*this.game.height,"admeen_atlas",this.handler,this,"btn","btn","btn","btn"),this.playButton.anchor.set(.5),this.playButton.visible=!1,this.created=!0,this.preloadText=this.game.add.text(this.game.width/2,this.game.height/2*.75,"",{font:"Arial",fontSize:40,fill:"#ffffff",fontWeight:"bold"}),this.preloadText.anchor.set(.5)},a.prototype.resizeObjects=function(){if(this.created){var e=this.game.width<1?1:this.game.width,i=this.game.height<1?1:this.game.height;this.logo.scale.set(this.scaleFactor),this.logo.y=.4*this.game.height,this.logo.x=this.game.width/2,this.bgImage.width=853*this.scaleFactor,this.bgImage.height=612*this.scaleFactor,this.bgImage.y=this.game.height/2,this.bgImage.x=this.game.width/2,this.bgImage.pivot.set(853*this.scaleFactor/2,612*this.scaleFactor/2),this.gradientBitmap.resize(e,i);var a=this.gradientBitmap.context.createRadialGradient(e/2,i/2,0,e/2,i/2,.5*i);a.addColorStop(0,"rgba(66, 103, 178, 0)"),a.addColorStop(1,"rgba(66, 103, 178, 1)"),this.gradientBitmap.context.fillStyle=a,this.gradientBitmap.context.clearRect(0,0,e,i),this.gradientBitmap.context.fillRect(0,0,e,i),this.preloadText.x=this.game.width/2,this.preloadText.y=.75*this.game.height,this.preloadText.scale.set(this.scaleFactor),t.Utils.isOnDevice(this.game)||(this.playButton.scale.set(.6*this.scaleFactor),this.playButton.x=this.game.width/2,this.playButton.y=.75*this.game.height)}},a.prototype.handler=function(t,e){this.clicked||"mouseout"===e.type||(this.clicked=!0,this.game.tweens.remove(this.buttonTween),this.game.camera.fade(0,250),this.game.add.tween(this.playButton.scale).to({x:0,y:0},250,Phaser.Easing.Back.In).start(),void 0!==this.config.mobilePlayClickhandler?this.config.mobilePlayClickhandler():this.game.state.start(this.config.nextState),this.game.input.onUp.remove(this.handler,this))},a.prototype.getScale=function(){return 1},a.prototype.startAnimation=function(){},a.prototype.animateButton=function(){t.Utils.isOnDevice(this.game)||(this.preloadText.visible=!1,this.game.tweens.remove(this.buttonTween),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!0,this.buttonTween=this.game.add.tween(this.playButton.scale),this.buttonTween.to({x:1.14*this.scaleFactor,y:1.14*this.scaleFactor},420,Phaser.Easing.Quadratic.InOut,!0,500),this.buttonTween.yoyo(!0).onComplete.add(this.animateButton,this),this.buttonTween.start())},a.prototype.update=function(){this.background.update()},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor),this.resizeObjects(),this.created&&this.preloadReady&&this.animateButton()},a.prototype.shutdown=function(){this.game.scale.onSizeChange.remove(this.resize,this),this.game.load.onLoadStart.remove(this.onPreloadStart,this),this.game.load.onFileComplete.remove(this.onPreloadedFile,this),this.game.load.onLoadComplete.remove(this.onPreloadEnd,this),this.logo.destroy(!0),this.playButton.destroy(!0),this.bgImage.destroy(!0),this.background.destroy(!0),this.logo=null,this.bgImage=null,this.playButton=null,this.background=null,this.game.state.remove(e.Preloader.Name),this.game.state.remove(e.SplashPreloader.Name),this.game.state.remove(this.name)},a}(Phaser.State);i.Name="admeenSplashScreen",i.IdealWidth=400,i.MaxDots=3,e.Admeen=i}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.name=a.Name,t.scaleFactor=1,t.created=!1,t.preloadReady=!1,t.clicked=!1,t.preloadTexts=[],t.tId=0,t}return __extends(a,i),a.prototype.init=function(t,e){this.config=t,this.background=e,this.game.scale.onSizeChange.add(this.resize,this)},a.prototype.preload=function(){this.game.add.existing(this.background),this.createObjects(),this.scaleFactor=this.getScale(),this.resizeObjects(),this.startAnimation(),this.game.load.onLoadStart.add(this.onPreloadStart,this),this.game.load.onFileComplete.add(this.onPreloadedFile,this),this.game.load.onLoadComplete.add(this.onPreloadEnd,this),this.config.preloadHandler(),0===this.game.load.totalQueuedFiles()&&this.onPreloadEnd()},a.prototype.onPreloadStart=function(){},a.prototype.onPreloadedFile=function(){},a.prototype.onPreloadEnd=function(){this.preloadReady=!0,this.loadBack.visible=!1,this.loadBar.visible=!1,this.game.input.onUp.add(this.handler,this),this.animateButton()},a.prototype.createObjects=function(){this.logo=this.game.add.sprite(this.game.width/2,this.game.height/2-100,"bild_logo"),this.logo.anchor.set(.5),this.logo.scale.set(.8),a.IdealWidth=this.logo.getBounds().width;var t=this.game.make.graphics(0,0);t.beginFill(16777215,.5).drawRect(0,0,350,20).endFill(),this.loadBack=this.game.add.sprite(this.game.width/2,this.game.height/2+100,t.generateTexture()),this.loadBack.anchor.set(.5);var e=this.game.make.graphics(0,0);e.beginFill(16777215,1).drawRect(0,0,350,20).endFill(),this.loadBar=this.game.add.sprite(this.game.width/2-175,this.game.height/2+100,e.generateTexture()),this.loadBar.anchor.set(0,.5),this.load.setPreloadSprite(this.loadBar),this.playButton=this.game.add.button(this.game.width/2,this.game.height/2+200,"bild_play",this.handler,this),this.playButton.anchor.set(.5),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!1,this.created=!0},a.prototype.resizeObjects=function(){this.created&&(this.logo.scale.set(.8*this.scaleFactor),this.logo.y=this.game.height/2-100*this.scaleFactor,this.logo.x=this.game.width/2,t.Utils.isOnDevice(this.game)||(this.playButton.x=this.game.width/2,this.playButton.y=this.game.height/2+200*this.scaleFactor))},a.prototype.handler=function(t,e){this.clicked||"mouseout"===e.type||(this.clicked=!0,this.game.tweens.remove(this.buttonTween),this.game.camera.fade(0,250),this.game.add.tween(this.playButton.scale).to({x:0,y:0},250,Phaser.Easing.Back.In).start(),void 0!==this.config.mobilePlayClickhandler?this.config.mobilePlayClickhandler():this.game.state.start(this.config.nextState),this.game.input.onUp.remove(this.handler,this))},a.prototype.getScale=function(){return t.Utils.isOnDevice(this.game)?this.game.width<1.5*a.IdealWidth?this.game.width/6*4/a.IdealWidth:1:this.game.width<this.game.height?this.game.width/6*4/a.IdealWidth:this.game.width/6*3/a.IdealWidth},a.prototype.startAnimation=function(){},a.prototype.animateButton=function(){t.Utils.isOnDevice(this.game)||(this.game.tweens.remove(this.buttonTween),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!0,this.buttonTween=this.game.add.tween(this.playButton.scale),this.buttonTween.to({x:1.14*this.scaleFactor,y:1.14*this.scaleFactor},420,Phaser.Easing.Quadratic.InOut,!0,500),this.buttonTween.yoyo(!0).onComplete.add(this.animateButton,this),this.buttonTween.start())},a.prototype.update=function(){this.background.update()},a.prototype.loadUpdate=function(){this.background.update()},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor),this.resizeObjects(),this.created&&this.preloadReady&&this.animateButton()},a.prototype.shutdown=function(){i.prototype.shutdown.call(this),this.logo.destroy(!0),this.loadBack.destroy(!0),this.loadBar.destroy(!0),this.playButton.destroy(!0),this.background.destroy(!0),this.logo=null,this.loadBack=null,this.loadBar=null,this.playButton=null,this.background=null,this.config=null,this.game.scale.onSizeChange.remove(this.resize,this),this.game.load.onLoadStart.remove(this.onPreloadStart,this),this.game.load.onFileComplete.remove(this.onPreloadedFile,this),this.game.load.onLoadComplete.remove(this.onPreloadEnd,this),this.game.state.remove(e.Preloader.Name),this.game.state.remove(e.SplashPreloader.Name),this.game.state.remove(this.name)},a}(Phaser.State);i.Name="bildSplashScreen",i.IdealWidth=463,i.MaxDots=3,e.Bild=i}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.name=a.Name,t.scaleFactor=1,t.created=!1,t.preloadReady=!1,t.clicked=!1,t.preloadTexts=["Loading images","Loading music","Loading sound effects","Calculating Pi"],t.dots=1,t.dotText=".",t.tId=0,t}return __extends(a,i),a.prototype.init=function(t,e){this.config=t,this.background=e,this.config.preloadTexts&&(this.preloadTexts=this.config.preloadTexts),this.game.scale.onSizeChange.add(this.resize,this)},a.prototype.preload=function(){this.game.add.existing(this.background),this.createObjects(),this.scaleFactor=this.getScale(),this.resizeObjects(),this.startAnimation(),this.game.load.onLoadStart.add(this.onPreloadStart,this),this.game.load.onFileComplete.add(this.onPreloadedFile,this),this.game.load.onLoadComplete.add(this.onPreloadEnd,this),this.config.preloadHandler(),0===this.game.load.totalQueuedFiles()&&this.onPreloadEnd()},a.prototype.onPreloadStart=function(){this.t=Date.now(),this.preloadText.setText(this.preloadTexts[this.tId])},a.prototype.onPreloadedFile=function(){Date.now()-this.t>1e3&&(this.t=Date.now(),this.tId++,this.tId>=this.preloadTexts.length&&(this.tId=0)),this.dotText.length>=3?this.dotText=".":this.dotText+=".",this.preloadText.setText(this.preloadTexts[this.tId]+this.dotText)},a.prototype.onPreloadEnd=function(){this.preloadReady=!0,this.preloadText.visible=!1,this.game.input.onUp.add(this.handler,this),this.animateButton()},a.prototype.createObjects=function(){this.monster1=this.game.add.spine(0,0,"fgs_monster_1"),this.monster1.setAnimationByName(0,"idle",!0),this.monster2=this.game.add.spine(0,0,"fgs_monster_2"),this.monster2.setAnimationByName(0,"idle",!0),this.monster3=this.game.add.spine(0,0,"fgs_monster_3"),this.monster3.setAnimationByName(0,"idle",!0),this.preloadText=this.game.add.text(this.game.width/2,this.game.height/2+230,"",{font:"Arial",fontSize:40,fill:"#ffffff",fontWeight:"bold"}),this.preloadText.anchor.set(.5),this.logo=this.game.add.image(0,0,"fgs_logo"),this.logo.anchor.set(.5),a.IdealWidth=1.5*this.logo.getBounds().width,this.playButton=this.game.add.button(this.game.width/2,this.game.height/2+230*this.scaleFactor,"fgs_play",this.handler,this,0,0,1,0),this.playButton.anchor.set(.5),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!1,this.created=!0},a.prototype.handler=function(t,e){this.clicked||"mouseout"===e.type||(this.clicked=!0,this.game.tweens.remove(this.buttonTween),this.game.camera.fade(0,250),this.game.add.tween(this.playButton.scale).to({x:0,y:0},250,Phaser.Easing.Back.In).start(),void 0!==this.config.mobilePlayClickhandler?this.config.mobilePlayClickhandler():this.game.state.start(this.config.nextState),this.game.input.onUp.remove(this.handler,this))},a.prototype.resizeObjects=function(){this.created&&(this.logo.scale.set(1.5*this.scaleFactor),this.logo.y=this.game.height/2+70*this.scaleFactor,this.logo.x=this.game.width/2,this.monster1.x=this.game.width/2+40*this.scaleFactor,this.monster1.y=this.game.height/2-10*this.scaleFactor,this.monster1.scale.set(.4*this.scaleFactor),this.monster2.x=this.game.width/2+190*this.scaleFactor,this.monster2.y=this.game.height/2-10*this.scaleFactor,this.monster2.scale.set(.4*this.scaleFactor),this.monster3.x=this.game.width/2-140*this.scaleFactor,this.monster3.y=this.game.height/2-10*this.scaleFactor,this.monster3.scale.set(.4*this.scaleFactor),this.preloadText.x=this.game.width/2,this.preloadText.y=this.game.height/2+230*this.scaleFactor,this.preloadText.scale.set(this.scaleFactor),this.playButton.x=this.game.width/2,this.playButton.y=this.game.height/2+230*this.scaleFactor)},a.prototype.getScale=function(){return t.Utils.isOnDevice(this.game)?this.game.width<1.5*a.IdealWidth?this.game.width/6*4/a.IdealWidth:1:this.game.width<this.game.height?this.game.width/6*4/a.IdealWidth:this.game.width/6*3/a.IdealWidth},a.prototype.startAnimation=function(){this.game.sound.touchLocked||this.game.sound.play("fg");var t=this.game.add.tween(this.logo.scale);t.to({x:1.2*this.scaleFactor,y:1.2*this.scaleFactor},100),t.to({x:1.5*this.scaleFactor,y:1.5*this.scaleFactor},450,Phaser.Easing.Back.InOut),t.start()},a.prototype.animateButton=function(){return!1===this.config.showPlayButton?this.handler(this.game.input.pointer1,new MouseEvent("mousedown")):(this.game.tweens.remove(this.buttonTween),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!0,this.buttonTween=this.game.add.tween(this.playButton.scale),this.buttonTween.to({x:1.14*this.scaleFactor,y:1.14*this.scaleFactor},420,Phaser.Easing.Quadratic.InOut,!0,500),this.buttonTween.yoyo(!0).onComplete.add(this.animateButton,this),void this.buttonTween.start())},a.prototype.update=function(){this.background.update()},a.prototype.loadUpdate=function(){this.background.update()},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor),this.resizeObjects(),this.created&&this.preloadReady&&this.animateButton()},a.prototype.shutdown=function(){i.prototype.shutdown.call(this),this.logo.destroy(!0),this.monster1.destroy(!0),this.monster2.destroy(!0),this.monster3.destroy(!0),this.playButton.destroy(!0),this.background.destroy(!0),this.preloadText.destroy(!0),this.logo=null,this.monster1=null,this.monster2=null,this.monster3=null,this.playButton=null,this.background=null,this.preloadText=null,this.config=null,this.game.scale.onSizeChange.remove(this.resize,this),this.game.load.onLoadStart.remove(this.onPreloadStart,this),this.game.load.onFileComplete.remove(this.onPreloadedFile,this),this.game.load.onLoadComplete.remove(this.onPreloadEnd,this),this.game.state.remove(e.Preloader.Name),this.game.state.remove(e.SplashPreloader.Name),this.game.state.remove(this.name)},a}(Phaser.State);i.Name="funnySplashScreen",i.IdealWidth=463,i.MaxDots=3,e.FunnyGames=i}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.name=a.Name,t.scaleFactor=1,t.created=!1,t.preloadReady=!1,t.clicked=!1,t.preloadTexts=["Loading images","Loading music","Loading sound effects","Calculating Pi"],t.dots=1,t.dotText=".",t.tId=0,t}return __extends(a,i),a.prototype.init=function(t,e){this.config=t,this.background=e,this.config.preloadTexts&&(this.preloadTexts=this.config.preloadTexts),this.game.scale.onSizeChange.add(this.resize,this)},a.prototype.preload=function(){this.game.add.existing(this.background),this.createObjects(),this.scaleFactor=this.getScale(),this.resizeObjects(),this.startAnimation(),this.game.load.onLoadStart.add(this.onPreloadStart,this),this.game.load.onFileComplete.add(this.onPreloadedFile,this),this.game.load.onLoadComplete.add(this.onPreloadEnd,this),this.config.preloadHandler(),0===this.game.load.totalQueuedFiles()&&this.onPreloadEnd()},a.prototype.onPreloadStart=function(){this.t=Date.now(),this.preloadText.setText(this.preloadTexts[this.tId])},a.prototype.onPreloadedFile=function(){Date.now()-this.t>1e3&&(this.t=Date.now(),this.tId++,this.tId>=this.preloadTexts.length&&(this.tId=0)),this.dotText.length>=3?this.dotText=".":this.dotText+=".",this.preloadText.setText(this.preloadTexts[this.tId]+this.dotText)},a.prototype.onPreloadEnd=function(){this.preloadReady=!0,this.preloadText.visible=!1,this.game.input.onUp.add(this.handler,this),this.animateButton()},a.prototype.createObjects=function(){this.twirl=this.game.add.image(this.game.width/2,this.game.height/2,"gamecell_atlas","gamecell_bg_pattern"),this.twirl.scale.setTo(2,2),this.twirl.anchor.set(.5),this.createOverlay(),this.logoSpine=this.game.add.spine(0,0,"splash_gamecell"),this.logoSpine.setAnimationByName(0,"idle",!0),this.preloadText=this.game.add.text(this.game.width/2,this.game.height/2+230,"",{font:"Arial",fontSize:40,fill:"#ffffff",fontWeight:"bold"}),this.preloadText.anchor.set(.5),this.logo=this.game.add.image(0,0,"gamecell_atlas","gamecell_logo"),this.logo.anchor.set(.5),a.IdealWidth=1.5*this.logo.getBounds().width,this.playButton=this.game.add.button(this.game.width/2,.85*this.game.height,"gamecell_atlas",this.handler,this,"gamecell_btn_play","gamecell_btn_play","gamecell_btn_play","gamecell_btn_play"),this.playButton.anchor.set(.5),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!1,this.created=!0},a.prototype.createOverlay=function(){this.gradientBitmap=this.game.make.bitmapData(1,1),this.gradient=this.game.make.sprite(0,0,this.gradientBitmap),this.game.add.existing(this.gradient)},a.prototype.handler=function(t,e){this.clicked||"mouseout"===e.type||(this.clicked=!0,this.game.tweens.remove(this.buttonTween),this.game.camera.fade(0,250),this.game.add.tween(this.playButton.scale).to({x:0,y:0},250,Phaser.Easing.Back.In).start(),void 0!==this.config.mobilePlayClickhandler?this.config.mobilePlayClickhandler():this.game.state.start(this.config.nextState),this.game.input.onUp.remove(this.handler,this))},a.prototype.resizeObjects=function(){if(this.created){this.gradientBitmap.resize(this.game.width,this.game.height),this.gradientBitmap.context.clearRect(0,0,this.game.width,this.game.height);var t=this.gradientBitmap.context.createRadialGradient(this.game.width/2,this.game.height/2,0,this.game.width/2,this.game.height/2,this.game.height/2);t.addColorStop(0,"rgb(8, 8, 54)"),t.addColorStop(1,"rgba(8, 8, 54, 0)"),this.gradientBitmap.context.fillStyle=t,this.gradientBitmap.context.fillRect(0,0,this.game.width,this.game.height),this.logo.scale.set(.5*this.scaleFactor),this.logo.y=.2*this.game.height,this.logo.x=this.game.width/2,this.logoSpine.scale.set(this.scaleFactor),this.logoSpine.autoUpdateTransform(),this.logoSpine.x=this.game.width/2,this.logoSpine.y=this.game.height/2,this.preloadText.x=this.game.width/2,this.preloadText.y=.85*this.game.height,this.preloadText.scale.set(this.scaleFactor),this.playButton.x=this.game.width/2,this.playButton.y=.85*this.game.height,this.twirl.position.set(this.game.width/2,this.game.height/2)}},a.prototype.getScale=function(){return t.Utils.isOnDevice(this.game)?this.game.width<1.5*a.IdealWidth?this.game.width/6*4/a.IdealWidth:1:this.game.width<this.game.height?this.game.width/a.IdealWidth:this.game.width/6*3/a.IdealWidth},a.prototype.startAnimation=function(){var t=this.game.add.tween(this.logo.scale);t.to({x:.6*this.scaleFactor,y:.6*this.scaleFactor},100),t.to({x:.75*this.scaleFactor,y:.75*this.scaleFactor},450,Phaser.Easing.Back.InOut),t.start()},a.prototype.animateButton=function(){return!1===this.config.showPlayButton?this.handler(this.game.input.pointer1,new MouseEvent("mousedown")):(this.game.tweens.remove(this.buttonTween),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!0,this.buttonTween=this.game.add.tween(this.playButton.scale),this.buttonTween.to({x:1.14*this.scaleFactor,y:1.14*this.scaleFactor},420,Phaser.Easing.Quadratic.InOut,!0,500),this.buttonTween.yoyo(!0).onComplete.add(this.animateButton,this),void this.buttonTween.start())},a.prototype.update=function(){this.background.update(),this.twirl.scale.x+=.01,this.twirl.scale.y+=.01,this.twirl.scale.x>2.8&&(this.twirl.scale.x=2,this.twirl.scale.y=2)},a.prototype.loadUpdate=function(){this.background.update()},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor),this.resizeObjects(),this.created&&this.preloadReady&&this.animateButton()},a.prototype.shutdown=function(){i.prototype.shutdown.call(this),this.gradientBitmap.destroy(),this.gradient.destroy(!0),this.gradientBitmap=null,this.gradient=null,this.logo.destroy(!0),this.logoSpine.destroy(!0),this.playButton.destroy(!0),this.background.destroy(!0),this.preloadText.destroy(!0),this.logo=null,this.logoSpine=null,this.playButton=null,this.background=null,this.preloadText=null,this.config=null,this.game.scale.onSizeChange.remove(this.resize,this),this.game.load.onLoadStart.remove(this.onPreloadStart,this),this.game.load.onFileComplete.remove(this.onPreloadedFile,this),this.game.load.onLoadComplete.remove(this.onPreloadEnd,this),this.game.state.remove(e.Preloader.Name),this.game.state.remove(e.SplashPreloader.Name),this.game.state.remove(this.name)},a}(Phaser.State);i.Name="GameCell",i.IdealWidth=860,i.MaxDots=3,e.GameCell=i}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.name=a.Name,t.scaleFactor=1,t.created=!1,t.preloadReady=!1,t.clicked=!1,t.preloadTexts=["Loading images","Loading music","Loading sound effects","Calculating Pi"],t.dotText=".",t.tId=0,t}return __extends(a,i),a.prototype.init=function(t,e){this.config=t,this.background=e,this.config.preloadTexts&&(this.preloadTexts=this.config.preloadTexts),this.game.scale.onSizeChange.add(this.resize,this)},a.prototype.preload=function(){this.game.add.existing(this.background),this.createObjects(),this.scaleFactor=this.getScale(),this.resizeObjects(),this.startAnimation(),this.game.load.onLoadStart.add(this.onPreloadStart,this),this.game.load.onFileComplete.add(this.onPreloadedFile,this),this.game.load.onLoadComplete.add(this.onPreloadEnd,this),this.config.preloadHandler(),0===this.game.load.totalQueuedFiles()&&this.onPreloadEnd()},a.prototype.onPreloadStart=function(){this.t=Date.now(),this.preloadText.setText(this.preloadTexts[this.tId])},a.prototype.onPreloadedFile=function(){Date.now()-this.t>1e3&&(this.t=Date.now(),this.tId++,this.tId>=this.preloadTexts.length&&(this.tId=0)),this.dotText.length>=3?this.dotText=".":this.dotText+=".",this.preloadText.setText(this.preloadTexts[this.tId]+this.dotText)},a.prototype.onPreloadEnd=function(){this.preloadReady=!0,this.preloadText.visible=!1,this.game.input.onUp.add(this.handler,this),this.animateButton()},a.prototype.createObjects=function(){this.twirl=this.game.add.image(this.game.width/2,this.game.height/2,"kizi_twist"),this.twirl.anchor.set(.5),this.twirl.width=this.twirl.height=this.game.width>this.game.height?this.game.width:this.game.height,this.monster=this.game.add.spine(0,0,"kizi_skeleton"),this.monster.setAnimationByName(0,"idle",!0),this.preloadText=this.game.add.text(this.game.width/2,this.game.height/2+230,"",{font:"Arial",fontSize:40,fill:"#ffffff",fontWeight:"bold"}),this.preloadText.anchor.set(.5),this.logo=this.game.add.image(0,0,"kizi_logo"),this.logo.anchor.set(.5),a.IdealWidth=1.5*this.logo.getBounds().width,this.playButton=this.game.add.button(this.game.width/2,.85*this.game.height,"kizi_button",this.handler,this,0,0,1,0),this.playButton.anchor.set(.5),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!1,this.created=!0},a.prototype.handler=function(t,e){1&&(this.clicked=!0,this.game.tweens.remove(this.buttonTween),this.game.camera.fade(0,250),this.game.add.tween(this.playButton.scale).to({x:0,y:0},250,Phaser.Easing.Back.In).start(),void 0!==this.config.mobilePlayClickhandler?this.config.mobilePlayClickhandler():this.game.state.start(this.config.nextState),this.game.input.onUp.remove(this.handler,this))},a.prototype.resizeObjects=function(){this.created&&(this.logo.scale.set(.5*this.scaleFactor),this.logo.y=.2*this.game.height,this.logo.x=this.game.width/2,this.monster.scale.set(this.scaleFactor),this.monster.autoUpdateTransform(),this.monster.x=this.game.width/2,this.monster.y=this.game.height/2+.6*this.monster.height,this.preloadText.x=this.game.width/2,this.preloadText.y=.85*this.game.height,this.preloadText.scale.set(this.scaleFactor),this.playButton.x=this.game.width/2,this.playButton.y=.85*this.game.height,this.twirl.position.set(this.game.width/2,this.game.height/2))},a.prototype.getScale=function(){return t.Utils.isOnDevice(this.game)?this.game.width<1.5*a.IdealWidth?this.game.width/6*4/a.IdealWidth:1:this.game.width<this.game.height?this.game.width/a.IdealWidth:this.game.width/6*3/a.IdealWidth},a.prototype.startAnimation=function(){var t=this.game.add.tween(this.logo.scale);t.to({x:.6*this.scaleFactor,y:.6*this.scaleFactor},100),t.to({x:.75*this.scaleFactor,y:.75*this.scaleFactor},450,Phaser.Easing.Back.InOut),t.start()},a.prototype.animateButton=function(){return this.game.state.start(this.config.nextState),!0;return!1===this.config.showPlayButton?this.handler(this.game.input.pointer1,new MouseEvent("mousedown")):(this.game.tweens.remove(this.buttonTween),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!0,this.buttonTween=this.game.add.tween(this.playButton.scale),this.buttonTween.to({x:1.14*this.scaleFactor,y:1.14*this.scaleFactor},420,Phaser.Easing.Quadratic.InOut,!0,500),this.buttonTween.yoyo(!0).onComplete.add(this.animateButton,this),void this.buttonTween.start())},a.prototype.update=function(){this.background.update(),this.twirl.angle+=5},a.prototype.loadUpdate=function(){this.background.update()},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor),this.resizeObjects(),this.created&&this.preloadReady&&this.animateButton()},a.prototype.shutdown=function(){i.prototype.shutdown.call(this),this.logo.destroy(!0),this.monster.destroy(!0),this.playButton.destroy(!0),this.background.destroy(!0),this.preloadText.destroy(!0),this.logo=null,this.monster=null,this.playButton=null,this.background=null,this.preloadText=null,this.config=null,this.game.scale.onSizeChange.remove(this.resize,this),this.game.load.onLoadStart.remove(this.onPreloadStart,this),this.game.load.onFileComplete.remove(this.onPreloadedFile,this),this.game.load.onLoadComplete.remove(this.onPreloadEnd,this),this.game.state.remove(e.Preloader.Name),this.game.state.remove(e.SplashPreloader.Name),this.game.state.remove(this.name)},a}(Phaser.State);i.Name="kiziSplashScreen",i.IdealWidth=860,i.MaxDots=3,e.Kizi=i}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.name=a.Name,t.scaleFactor=1,t.created=!1,t.preloadReady=!1,t.clicked=!1,t.dots=1,t.dotText=".",t.tId=0,t}return __extends(a,i),a.prototype.init=function(t,e){this.config=t,this.background=e,this.game.scale.onSizeChange.add(this.resize,this)},a.prototype.preload=function(){this.game.add.existing(this.background),this.createObjects(),this.scaleFactor=this.getScale(),this.resizeObjects(),this.startAnimation(),this.game.load.onLoadStart.add(this.onPreloadStart,this),this.game.load.onFileComplete.add(this.onPreloadedFile,this),this.game.load.onLoadComplete.add(this.onPreloadEnd,this),this.config.preloadHandler(),0===this.game.load.totalQueuedFiles()&&this.onPreloadEnd()},a.prototype.onPreloadStart=function(){},a.prototype.onPreloadedFile=function(){},a.prototype.onPreloadEnd=function(){this.preloadReady=!0,this.loadBack.visible=!1,this.loadBar.visible=!1,this.game.input.onUp.add(this.handler,this),this.animateButton()},a.prototype.createObjects=function(){this.loadBack=this.game.add.sprite(this.game.width/2,this.game.height/2,"loader"),this.loadBack.anchor.set(.5);var t=this.game.make.graphics(0,0);t.beginFill(16777215,1).drawRoundedRect(0,0,350,20,5).endFill(),this.loadBar=this.game.add.sprite(this.game.width/2-175,this.game.height/2-5,t.generateTexture()),this.loadBar.anchor.set(0,.5),this.load.setPreloadSprite(this.loadBar),this.playButton=this.game.add.button(this.game.width/2,this.game.height/2,"fgs_play",this.handler,this,0,0,1,0),this.playButton.anchor.set(.5),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!1,this.created=!0},a.prototype.resizeObjects=function(){this.created&&(t.Utils.isOnDevice(this.game)||(this.playButton.x=this.game.width/2,this.playButton.y=this.game.height/2))},a.prototype.handler=function(t,e){this.clicked||"mouseout"===e.type||(this.clicked=!0,this.game.tweens.remove(this.buttonTween),this.game.camera.fade(0,250),this.game.add.tween(this.playButton.scale).to({x:0,y:0},250,Phaser.Easing.Back.In).start(),void 0!==this.config.mobilePlayClickhandler?this.config.mobilePlayClickhandler():this.game.state.start(this.config.nextState),this.game.input.onUp.remove(this.handler,this))},a.prototype.getScale=function(){return t.Utils.isOnDevice(this.game)?this.game.width<1.5*e.FunnyGames.IdealWidth?this.game.width/6*4/e.FunnyGames.IdealWidth:1:this.game.width<this.game.height?this.game.width/6*4/e.FunnyGames.IdealWidth:this.game.width/6*3/e.FunnyGames.IdealWidth},a.prototype.startAnimation=function(){},a.prototype.animateButton=function(){return!1===this.config.showPlayButton?this.handler(this.game.input.pointer1,new MouseEvent("mousedown")):(this.game.tweens.remove(this.buttonTween),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!0,this.buttonTween=this.game.add.tween(this.playButton.scale),this.buttonTween.to({x:1.14*this.scaleFactor,y:1.14*this.scaleFactor},420,Phaser.Easing.Quadratic.InOut,!0,500),this.buttonTween.yoyo(!0).onComplete.add(this.animateButton,this),void this.buttonTween.start())},a.prototype.update=function(){this.background.update()},a.prototype.loadUpdate=function(){this.background.update()},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor),this.resizeObjects(),this.created&&this.preloadReady&&this.animateButton()},a.prototype.shutdown=function(){this.game.scale.onSizeChange.remove(this.resize,this),this.game.load.onLoadStart.remove(this.onPreloadStart,this),this.game.load.onFileComplete.remove(this.onPreloadedFile,this),this.game.load.onLoadComplete.remove(this.onPreloadEnd,this),this.loadBack.destroy(!0),this.loadBar.destroy(!0),this.playButton.destroy(!0),this.background.destroy(!0),this.loadBack=null,this.loadBar=null,this.playButton=null,this.background=null,this.game.state.remove(e.Preloader.Name),this.game.state.remove(e.SplashPreloader.Name),this.game.state.remove(this.name)},a}(Phaser.State);i.Name="neutralSplashScreen",i.IdealWidth=463,i.MaxDots=3,e.Neutral=i}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.graphic1=i.create(0,0,"kizi_atlas_new","shine2 instance 10000"),i.graphic1.anchor.setTo(.5),i.graphic1.angle=90,i.graphic2=i.create(0,0,"kizi_atlas_new","shine2 instance 10000"),i.graphic2.anchor.setTo(.5),i.graphic3=i.create(0,0,"kizi_atlas_new","shine1 instance 10000"),i.graphic3.anchor.setTo(.5),i}return __extends(e,t),e.prototype.start=function(t,e,i,a){void 0===a&&(a=!1),!0===a&&this.parent.setChildIndex(this,this.parent.children.length-1),this.x=t,this.y=e,this.scale.setTo(i),this.visible=!0,this.graphic1.alpha=0,this.graphic1.scale.setTo(1,.4),this.graphic2.alpha=0,this.graphic2.scale.setTo(1,.4),this.graphic3.alpha=1,this.graphic3.scale.setTo(0),this.game.add.tween(this.graphic3.scale).to({x:1,y:1},400,Phaser.Easing.Linear.None,!0).onComplete.addOnce((function(){this.game.add.tween(this.graphic3.scale).to({x:.2,y:.2},200,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.graphic3).to({alpha:0},200,Phaser.Easing.Linear.None,!0)}),this),this.game.add.tween(this.graphic2).to({alpha:1},200,Phaser.Easing.Linear.None,!0,200),this.game.add.tween(this.graphic2.scale).to({y:1.4},200,Phaser.Easing.Linear.None,!0,200).onComplete.addOnce((function(){this.game.add.tween(this.graphic2.scale).to({x:.25},300,Phaser.Easing.Linear.None,!0,200),this.game.add.tween(this.graphic2).to({alpha:0},300,Phaser.Easing.Linear.None,!0,200)}),this),this.game.add.tween(this.graphic1).to({alpha:1},200,Phaser.Easing.Linear.None,!0,200),this.game.add.tween(this.graphic1.scale).to({y:1.4},200,Phaser.Easing.Linear.None,!0,200).onComplete.addOnce((function(){this.game.add.tween(this.graphic1.scale).to({x:.25},300,Phaser.Easing.Linear.None,!0,400),this.game.add.tween(this.graphic1).to({alpha:0},300,Phaser.Easing.Linear.None,!0,400).onComplete.addOnce((function(){this.visible=!1}),this)}),this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.graphic1=null,this.graphic2=null,this.graphic3=null},e}(Phaser.Group);t.Shine=e}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(t){function e(e,i,a,s,n,o,r){var h=t.call(this,e,i,a,s,n)||this;return h.state=0,h.counter=0,h.skewX=0,h.skewY=0,h._srB=0,h._srC=0,h._crA=1,h._crD=1,h._cachedRotX=0,h._cachedRotY=0,h.onComplete=new Phaser.Signal,h.tweenDetails=new Array,h.floor=o,h.cell=r,h.updateTransform=function(t){if(!t&&!this.parent&&!this.game)return this;var e=this.parent;t?e=t:this.parent||(e=this.game.world);var i,a,s,n,o,r,h=e.worldTransform,l=this.worldTransform,d=this.rotation+this.skewY,c=this.rotation+this.skewX;if(d%Phaser.Math.PI2||c%Phaser.Math.PI2?(c===this._cachedRotX&&d===this._cachedRotY||(this._cachedRotX=c,this._cachedRotY=d,this._crA=Math.cos(d),this._srB=Math.sin(d),this._srC=Math.sin(-c),this._crD=Math.cos(c)),i=this._crA*this.scale.x,a=this._srB*this.scale.x,s=this._srC*this.scale.y,n=this._crD*this.scale.y,o=this.position.x,r=this.position.y,(this.pivot.x||this.pivot.y)&&(o-=this.pivot.x*i+this.pivot.y*s,r-=this.pivot.x*a+this.pivot.y*n),l.a=i*h.a+a*h.c,l.b=i*h.b+a*h.d,l.c=s*h.a+n*h.c,l.d=s*h.b+n*h.d,l.tx=o*h.a+r*h.c+h.tx,l.ty=o*h.b+r*h.d+h.ty):(i=this.scale.x,n=this.scale.y,o=this.position.x-this.pivot.x*i,r=this.position.y-this.pivot.y*n,l.a=i*h.a,l.b=i*h.b,l.c=n*h.c,l.d=n*h.d,l.tx=o*h.a+r*h.c+h.tx,l.ty=o*h.b+r*h.d+h.ty),this.worldAlpha=this.alpha*e.worldAlpha,this.worldPosition.set(l.tx,l.ty),this.worldScale.set(this.scale.x*Math.sqrt(l.a*l.a+l.c*l.c),this.scale.y*Math.sqrt(l.b*l.b+l.d*l.d)),this.worldRotation=Math.atan2(-l.c,l.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,l,h),!this._cacheAsBitmap){for(var g=0;g<this.children.length;g++)this.children[g].updateTransform();return this}},h}return __extends(e,t),e.prototype.show=function(t){this.dir=t,this.setTween(1,14,{scaleX:1})},e.prototype.setTween=function(t,e,i){if(this.tweenDetails){var a,s;0!==this.tweenDetails.length&&this.tweenDetails.splice(0,this.tweenDetails.length),this.state=t,this.counter=0,this.percent=0,this.duration=e;for(var n=0,o=Object.keys(i);n<o.length;n++){var r=o[n];(a=this[r])!==(s=i[r])&&this.tweenDetails.push({propertyName:r,start:a,change:s-a})}}},e.prototype.update=function(){if(this.tweenDetails&&!(this.state<=0)){if(1===this.state&&3===this.counter)this.onComplete.dispatch(this.floor,this.cell,this.dir);else if(6===this.state)return void this.destroy();this.counter+=1,this.percent=this.counter/this.duration;for(var t=0;t<this.tweenDetails.length;t++)this[this.tweenDetails[t].propertyName]=this.tweenDetails[t].start+this.tweenDetails[t].change*this.percent;this.percent>=1&&(3===this.state?this.setTween(4,14,{alpha:0}):4===this.state?(this.onComplete.dispatch(this.floor,this.cell),this.destroy()):5===this.state?(this.onComplete.dispatch(),this.state=6):this.state=0)}},Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.scale.x},set:function(t){this.scale.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.scale.y},set:function(t){this.scale.y=t},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.onComplete=null,this.tweenDetails=[],this.tweenDetails=null},e}(Phaser.Sprite);t.SmallPart=e}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.name=i.Name,t.scaleFactor=1,t.width=787,t.height=494,t.created=!1,t.preloadTexts=[],t.preloadReady=!1,t.clicked=!1,t.tId=0,t}return __extends(i,e),i.prototype.init=function(t,e){this.config=t,this.background=e,this.game.scale.onSizeChange.add(this.resize,this)},i.prototype.preload=function(){this.game.add.existing(this.background),this.scaleFactor=this.getScale(),this.createObjects(),this.resizeObjects(),this.game.load.onLoadStart.add(this.onPreloadStart,this),this.game.load.onFileComplete.add(this.onPreloadedFile,this),this.game.load.onLoadComplete.add(this.onPreloadEnd,this),this.config.preloadHandler(),0===this.game.load.totalQueuedFiles()&&this.onPreloadEnd()},i.prototype.onPreloadStart=function(){this.t=Date.now()},i.prototype.onPreloadedFile=function(){},i.prototype.onPreloadEnd=function(){this.preloadReady=!0,this.game.input.onUp.add(this.handler,this),this.animateButton()},i.prototype.createObjects=function(){this.spine=this.game.add.spine(this.game.width/2,this.game.height/2,"splash_playcell"),this.spine.setMixByName("intro","loop",.2),this.spine.setMixByName("loop","outro",.2),this.spine.setAnimationByName(0,"intro",!1),this.spine.addAnimationByName(0,"loop",!0,0),this.logo=this.game.add.sprite(this.game.width/2,.4*this.game.height,"playcell_atlas","logo"),this.logo.scale.set(this.scaleFactor),this.logo.anchor.set(.5),this.logo.visible=!1,this.playButton=this.game.add.image(this.game.width/2,this.game.height,"playcell_atlas","button"),this.playButton.anchor.set(.5),this.playButton.scale.set(this.scaleFactor),this.playButton.y=this.logo.y+.75*this.logo.height,this.playButton.inputEnabled=!0,this.playButton.events.onInputUp.add(this.handler,this),this.playButton.visible=!1,this.created=!0},i.prototype.resizeObjects=function(){this.created&&(this.logo.position.set(this.game.width/2,.4*this.game.height),this.logo.scale.set(this.scaleFactor),this.playButton.x=this.game.width/2,this.playButton.y=this.logo.y+.75*this.logo.height)},i.prototype.handler=function(t,e){this.clicked||"mouseout"===e.type||(this.clicked=!0,this.game.tweens.remove(this.buttonTween),this.game.camera.fade(0,250),this.game.add.tween(this.playButton.scale).to({x:0,y:0},250,Phaser.Easing.Back.In).start(),void 0!==this.config.mobilePlayClickhandler?this.config.mobilePlayClickhandler():this.game.state.start(this.config.nextState),this.game.input.onUp.remove(this.handler,this))},i.prototype.getScale=function(){return this.game.width<this.game.height?this.game.width/6*5/this.width:this.game.height/6*5/this.height},i.prototype.animateButton=function(){var t=this;return!1===this.config.showPlayButton?this.handler(this.game.input.pointer1,new MouseEvent("mousedown")):(this.resizeObjects(),this.spine.setAnimationByName(0,"outro",!1),this.spine.onComplete.add((function(){t.logo.visible=!0,t.playButton.visible=!0,t.buttonTween=t.game.add.tween(t.playButton.scale),t.buttonTween.to({x:1.14*t.scaleFactor,y:1.14*t.scaleFactor},420,Phaser.Easing.Quadratic.InOut,!0,500),t.buttonTween.yoyo(!0).onComplete.add(t.animateButton,t),t.buttonTween.start(),t.spine.visible=!1})),void this.playButton.scale.set(this.scaleFactor))},i.prototype.update=function(){this.background.update()},i.prototype.loadUpdate=function(){this.background.update()},i.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor),this.resizeObjects(),this.created&&this.preloadReady&&this.animateButton()},i.prototype.shutdown=function(){e.prototype.shutdown.call(this),this.playButton.destroy(!0),this.background.destroy(!0),this.spine.destroy(!0),this.playButton=null,this.logo=null,this.background=null,this.game.scale.onSizeChange.remove(this.resize,this),this.game.load.onLoadStart.remove(this.onPreloadStart,this),this.game.load.onFileComplete.remove(this.onPreloadedFile,this),this.game.load.onLoadComplete.remove(this.onPreloadEnd,this),this.game.state.remove(t.Preloader.Name),this.game.state.remove(t.SplashPreloader.Name),this.game.state.remove(this.name)},i}(Phaser.State);e.Name="playCellSplashScreen",t.PlayCell=e}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.name=a.Name,t.scaleFactor=1,t.created=!1,t.preloadReady=!1,t.clicked=!1,t.preloadTexts=["Spelletje wordt geladen"],t.dotText=".",t.tId=0,t}return __extends(a,i),a.prototype.init=function(t,e){this.config=t,this.background=e,this.config.preloadTexts&&(this.preloadTexts=this.config.preloadTexts),this.game.scale.onSizeChange.add(this.resize,this)},a.prototype.preload=function(){this.game.add.existing(this.background),this.createObjects(),this.scaleFactor=this.getScale(),this.resizeObjects(),this.startAnimation(),this.game.load.onLoadStart.add(this.onPreloadStart,this),this.game.load.onFileComplete.add(this.onPreloadedFile,this),this.game.load.onLoadComplete.add(this.onPreloadEnd,this),this.config.preloadHandler(),0===this.game.load.totalQueuedFiles()&&this.onPreloadEnd()},a.prototype.onPreloadStart=function(){this.t=Date.now(),this.preloadText.setText("Spelletje wordt geladen")},a.prototype.onPreloadedFile=function(){Date.now()-this.t>1e3&&(this.t=Date.now(),this.tId++,this.tId>=this.preloadTexts.length&&(this.tId=0)),this.dotText.length>=3?this.dotText=".":this.dotText+=".",this.preloadText.setText(this.preloadTexts[this.tId]+this.dotText)},a.prototype.onPreloadEnd=function(){this.preloadReady=!0,this.preloadText.visible=!1,this.game.input.onUp.add(this.handler,this),this.animateButton()},a.prototype.createObjects=function(){this.twirl=this.game.add.image(this.game.width/2,this.game.height/2,"spele_atlas","spele_bg_pattern"),this.twirl.anchor.set(.5),this.twirl.width=this.twirl.height=this.game.width>this.game.height?this.game.width:this.game.height,this.jelly=this.game.add.spine(0,0,"jelly_skeleton"),this.jelly.setAnimationByName(0,"idle",!0),this.preloadText=this.game.add.text(this.game.width/2,this.game.height/2+230,"",{font:"Arial",fontSize:40,fill:"#ffffff",fontWeight:"bold"}),this.preloadText.anchor.set(.5),this.logo=this.game.add.image(0,0,"spele_atlas","spele_logo"),this.logo.anchor.set(.5),a.IdealWidth=1.5*this.logo.getBounds().width;var t="spele_button";this.playButton=this.game.add.button(this.game.width/2,.85*this.game.height,"spele_atlas",this.handler,this,t,t,t,t),this.playButton.anchor.set(.5),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!1,this.created=!0},a.prototype.handler=function(t,e){this.clicked||"mouseout"===e.type||(this.clicked=!0,this.game.tweens.remove(this.buttonTween),this.game.camera.fade(0,250),this.game.add.tween(this.playButton.scale).to({x:0,y:0},250,Phaser.Easing.Back.In).start(),void 0!==this.config.mobilePlayClickhandler?this.config.mobilePlayClickhandler():this.game.state.start(this.config.nextState),this.game.input.onUp.remove(this.handler,this))},a.prototype.resizeObjects=function(){this.created&&(this.logo.scale.set(.5*this.scaleFactor),this.logo.y=.25*this.game.height,this.logo.x=this.game.width/2,this.jelly.scale.set(.5*this.scaleFactor),this.jelly.autoUpdateTransform(),this.jelly.x=this.game.width/2,this.jelly.y=this.game.height/2+1.2*this.jelly.height,this.preloadText.x=this.game.width/2,this.preloadText.y=.85*this.game.height,this.preloadText.scale.set(this.scaleFactor),this.playButton.x=this.game.width/2,this.playButton.y=.84*this.game.height,this.twirl.position.set(this.game.width/2,this.game.height/2))},a.prototype.getScale=function(){return t.Utils.isOnDevice(this.game)?this.game.width<1.5*a.IdealWidth?this.game.width/6*4/a.IdealWidth:1:this.game.width<this.game.height?this.game.width/a.IdealWidth:this.game.width/6*3/a.IdealWidth},a.prototype.startAnimation=function(){var t=this.game.add.tween(this.logo.scale);t.to({x:.6*this.scaleFactor,y:.6*this.scaleFactor},100),t.to({x:.75*this.scaleFactor,y:.75*this.scaleFactor},450,Phaser.Easing.Back.InOut),t.start()},a.prototype.animateButton=function(){return!1===this.config.showPlayButton?this.handler(this.game.input.pointer1,new MouseEvent("mousedown")):(this.game.tweens.remove(this.buttonTween),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!0,this.buttonTween=this.game.add.tween(this.playButton.scale),this.buttonTween.to({x:1.14*this.scaleFactor,y:1.14*this.scaleFactor},420,Phaser.Easing.Quadratic.InOut,!0,500),this.buttonTween.yoyo(!0).onComplete.add(this.animateButton,this),void this.buttonTween.start())},a.prototype.update=function(){this.background.update(),this.twirl.angle+=5},a.prototype.loadUpdate=function(){this.background.update()},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor),this.resizeObjects(),this.created&&this.preloadReady&&this.animateButton()},a.prototype.shutdown=function(){i.prototype.shutdown.call(this),this.logo.destroy(!0),this.jelly.destroy(!0),this.playButton.destroy(!0),this.background.destroy(!0),this.preloadText.destroy(!0),this.logo=null,this.jelly=null,this.playButton=null,this.background=null,this.preloadText=null,this.config=null,this.game.scale.onSizeChange.remove(this.resize,this),this.game.load.onLoadStart.remove(this.onPreloadStart,this),this.game.load.onFileComplete.remove(this.onPreloadedFile,this),this.game.load.onLoadComplete.remove(this.onPreloadEnd,this),this.game.state.remove(e.Preloader.Name),this.game.state.remove(e.SplashPreloader.Name),this.game.state.remove(this.name)},a}(Phaser.State);i.Name="speleSplashScreen",i.IdealWidth=860,i.MaxDots=3,e.Spele=i}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(e){var i=function(i){function a(){var t=i.call(this)||this;return t.name=a.Name,t.scaleFactor=1,t.created=!1,t.preloadReady=!1,t.clicked=!1,t.dots=1,t.dotText=".",t.tId=0,t}return __extends(a,i),a.prototype.init=function(t,e){this.config=t,this.background=e,this.game.scale.onSizeChange.add(this.resize,this)},a.prototype.preload=function(){this.game.add.existing(this.background),this.createObjects(),this.scaleFactor=this.getScale(),this.resizeObjects(),this.startAnimation(),this.game.load.onLoadStart.add(this.onPreloadStart,this),this.game.load.onFileComplete.add(this.onPreloadedFile,this),this.game.load.onLoadComplete.add(this.onPreloadEnd,this),this.config.preloadHandler(),0===this.game.load.totalQueuedFiles()&&this.onPreloadEnd()},a.prototype.onPreloadStart=function(){},a.prototype.onPreloadedFile=function(){},a.prototype.onPreloadEnd=function(){this.preloadReady=!0,this.loadBack.visible=!1,this.loadBar.visible=!1,this.game.input.onUp.add(this.handler,this),this.animateButton()},a.prototype.createObjects=function(){this.logo=this.game.add.image(0,0,"logo"),this.logo.anchor.set(.5),a.IdealWidth=this.logo.getBounds().width,this.loadBack=this.game.add.sprite(this.game.width/2,.75*this.game.height,"loader"),this.loadBack.anchor.set(.5);var t=this.game.make.graphics(0,0);t.beginFill(16777215,1).drawRoundedRect(0,0,350,20,5).endFill(),this.loadBar=this.game.add.sprite(this.game.width/2-175,.75*this.game.height-5,t.generateTexture()),this.loadBar.anchor.set(0,.5),this.load.setPreloadSprite(this.loadBar),this.playButton=this.game.add.button(this.game.width/2,.75*this.game.height,"fgs_play",this.handler,this,0,0,1,0),this.playButton.anchor.set(.5),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!1,this.created=!0},a.prototype.resizeObjects=function(){this.created&&(this.logo.scale.set(this.scaleFactor),this.logo.y=this.game.height/2,this.logo.x=this.game.width/2,t.Utils.isOnDevice(this.game)||(this.playButton.x=this.game.width/2,this.playButton.y=.75*this.game.height))},a.prototype.handler=function(t,e){this.clicked||"mouseout"===e.type||(this.clicked=!0,this.game.tweens.remove(this.buttonTween),this.game.camera.fade(0,250),this.game.add.tween(this.playButton.scale).to({x:0,y:0},250,Phaser.Easing.Back.In).start(),void 0!==this.config.mobilePlayClickhandler?this.config.mobilePlayClickhandler():this.game.state.start(this.config.nextState),this.game.input.onUp.remove(this.handler,this))},a.prototype.getScale=function(){return t.Utils.isOnDevice(this.game)?this.game.width<1.5*a.IdealWidth?this.game.width/6*4/a.IdealWidth:1:this.game.width<this.game.height?this.game.width/6*4/a.IdealWidth:this.game.width/6*3/a.IdealWidth},a.prototype.startAnimation=function(){},a.prototype.animateButton=function(){t.Utils.isOnDevice(this.game)||(this.game.tweens.remove(this.buttonTween),this.playButton.scale.set(this.scaleFactor),this.playButton.visible=!0,this.buttonTween=this.game.add.tween(this.playButton.scale),this.buttonTween.to({x:1.14*this.scaleFactor,y:1.14*this.scaleFactor},420,Phaser.Easing.Quadratic.InOut,!0,500),this.buttonTween.yoyo(!0).onComplete.add(this.animateButton,this),this.buttonTween.start())},a.prototype.update=function(){this.background.update()},a.prototype.loadUpdate=function(){this.background.update()},a.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor),this.resizeObjects(),this.created&&this.preloadReady&&this.animateButton()},a.prototype.shutdown=function(){this.game.scale.onSizeChange.remove(this.resize,this),this.game.load.onLoadStart.remove(this.onPreloadStart,this),this.game.load.onFileComplete.remove(this.onPreloadedFile,this),this.game.load.onLoadComplete.remove(this.onPreloadEnd,this),this.loadBack.destroy(!0),this.loadBar.destroy(!0),this.playButton.destroy(!0),this.background.destroy(!0),this.loadBack=null,this.loadBar=null,this.playButton=null,this.background=null,this.game.state.remove(e.Preloader.Name),this.game.state.remove(e.SplashPreloader.Name),this.game.state.remove(this.name)},a}(Phaser.State);i.Name="spilSplashScreen",i.IdealWidth=531,i.MaxDots=3,e.Spil=i}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.name=i.Name,t.scaleFactor=1,t.created=!1,t.tiles=[],t.preloadReady=!1,t.balls=[],t.clicked=!1,t.tId=0,t.dt=Date.now(),t.ddt=Date.now(),t}return __extends(i,e),i.prototype.init=function(t,e){this.config=t,this.background=e,this.game.scale.onSizeChange.add(this.resize,this),this.gradientBitmap=this.game.make.bitmapData(this.game.width,this.game.height)},i.prototype.preload=function(){this.game.add.existing(this.background),this.createObjects(),this.scaleFactor=this.getScale(),this.resizeObjects(),this.startAnimation(),this.game.load.onLoadStart.add(this.onPreloadStart,this),this.game.load.onFileComplete.add(this.onPreloadedFile,this),this.game.load.onLoadComplete.add(this.onPreloadEnd,this),this.config.preloadHandler(),0===this.game.load.totalQueuedFiles()&&this.onPreloadEnd()},i.prototype.onPreloadStart=function(){this.t=Date.now()},i.prototype.onPreloadedFile=function(){},i.prototype.onPreloadEnd=function(){this.preloadReady=!0,this.animateButton()},i.prototype.createObjects=function(){for(var t=0;t<70;t++){var e=Math.random()<.5?"square_empty":"square_game_"+("0"+(32*Math.random()+1|0)).slice(-2),i=this.game.add.image(this.game.width/2+(t%10*80-400),this.game.height/2+(80*Math.floor(t/10)-280),"yp_atlas",e+".png");i.alpha=.4,this.tiles.push(i)}this.gradient=this.game.add.sprite(0,0,this.gradientBitmap),this.spine=this.game.add.spine(0,0,"yp_splash"),this.spine.setMixByName("flyin","idle",.2),this.spine.visible=!1,this.logo=this.game.add.sprite(0,0,"yp_atlas","yepi_logo.png"),this.logo.alignIn(this.world.bounds,Phaser.TOP_CENTER,0,-20),this.created=!0;var a=this.game.make.graphics(0,0);a.beginFill(16631558,1).drawCircle(0,0,20).endFill();for(t=0;t<3;t++){var s=this.game.add.sprite(0,0,a.generateTexture());s.alignIn(this.game.world.bounds,Phaser.BOTTOM_CENTER,50*t-50,-20),s.scale.set(0),s.anchor.set(.5),this.balls.push(s),this.game.add.tween(s.scale).to({x:1,y:1},900,"Linear",!0,300*t,-1).yoyo(!0).delay(300)}},i.prototype.resizeObjects=function(){var t=this;if(this.created){this.gradientBitmap.resize(this.game.width,this.game.height),this.gradientBitmap.context.clearRect(0,0,this.game.width,this.game.height);var e=this.gradientBitmap.context.createRadialGradient(this.game.width/2,this.game.height/2,0,this.game.width/2,this.game.height/2,this.game.height/1.8);e.addColorStop(0,"rgba(0, 81, 125, 0)"),e.addColorStop(1,"rgba(0, 81, 125, 1)"),this.gradientBitmap.context.fillStyle=e,this.gradientBitmap.context.fillRect(0,0,this.game.width,this.game.height),this.spine.x=this.game.width/2,this.spine.y=this.game.height/2,this.spine.scale.set(this.scaleFactor),this.logo.scale.set(this.scaleFactor),this.logo.alignIn(this.world.bounds,Phaser.TOP_CENTER,0,-20),this.tiles.forEach((function(e,i){e.x=t.game.width/2+(i%10*80-400),e.y=t.game.height/2+(80*Math.floor(i/10)-280)}))}},i.prototype.handler=function(t,e){this.clicked||"mouseout"===e.type||(this.clicked=!0,this.game.tweens.remove(this.buttonTween),this.game.camera.fade(0,250),void 0!==this.config.mobilePlayClickhandler?this.config.mobilePlayClickhandler():this.game.state.start(this.config.nextState),this.game.input.onUp.remove(this.handler,this))},i.prototype.getScale=function(){return this.game.width<this.game.height?this.game.width/6*4/t.FunnyGames.IdealWidth:this.game.width/6*3/t.FunnyGames.IdealWidth},i.prototype.startAnimation=function(){},i.prototype.animateButton=function(){return!1===this.config.showPlayButton?this.handler(this.game.input.pointer1,new MouseEvent("mousedown")):(this.spine.visible=!0,this.spine.setAnimationByName(0,"flyin",!1),this.spine.addAnimationByName(0,"idle",!0,0),this.game.tweens.removeAll(),this.balls.forEach((function(t){t.parent.removeChild(t),t.destroy(!0)})),void this.game.input.onUp.add(this.handler,this))},i.prototype.update=function(){Date.now()-this.dt>200&&(this.tweenRandomItem(),this.dt=Date.now())},i.prototype.loadUpdate=function(){Date.now()-this.ddt>200&&(this.ddt=Date.now(),this.tweenRandomItem())},i.prototype.tweenRandomItem=function(){var t=this.tiles[Math.random()*this.tiles.length|0];this.game.add.tween(t).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0,0,0,!0)},i.prototype.resize=function(){this.scaleFactor=this.getScale(),this.background.resize(this.scaleFactor),this.resizeObjects()},i.prototype.shutdown=function(){e.prototype.shutdown.call(this),this.spine.destroy(!0),this.background.destroy(!0),this.tiles.forEach((function(t){t.destroy(!0)})),this.gradientBitmap.destroy(),this.gradient.destroy(!0),this.logo.destroy(!0),this.balls.forEach((function(t){t.destroy(!0)})),this.spine=null,this.playButton=null,this.background=null,this.gradientBitmap=null,this.gradient=null,this.logo=null,this.tiles=null,this.balls=null,this.game.scale.onSizeChange.remove(this.resize,this),this.game.load.onLoadStart.remove(this.onPreloadStart,this),this.game.load.onFileComplete.remove(this.onPreloadedFile,this),this.game.load.onLoadComplete.remove(this.onPreloadEnd,this),this.game.state.remove(t.Preloader.Name),this.game.state.remove(t.SplashPreloader.Name),this.game.state.remove(this.name)},i}(Phaser.State);e.Name="yepiSplashScreen",e.IdealWidth=463,e.MaxDots=3,t.Yepi=e}(t.SplashScreen||(t.SplashScreen={}))}(Fabrique||(Fabrique={})),function(t){var e=null,i=function(){function t(){}return t.has=function(t){var i=t.lastIndexOf(".");if(i<=0||i>=t.length-1)return!1;var a=t.lastIndexOf(".",i-1);if(a<=0||a>=i-1)return!1;var s=e[t.slice(i+1)];return!!s&&s.indexOf(" "+t.slice(a+1,i)+" ")>=0},t.is=function(t){var i=t.lastIndexOf(".");if(i<=0||i>=t.length-1)return!1;if(t.lastIndexOf(".",i-1)>=0)return!1;var a=e[t.slice(i+1)];return!!a&&a.indexOf(" "+t.slice(0,i)+" ")>=0},t.get=function(t){var i=t.lastIndexOf(".");if(i<=0||i>=t.length-1)return null;var a=t.lastIndexOf(".",i-1);if(a<=0||a>=i-1)return null;var s=e[t.slice(i+1)];return s?s.indexOf(" "+t.slice(a+1,i)+" ")<0?null:t.slice(a+1):null},t}(),a=function(){function t(){}return t.setList=function(t){e=t||{}},t.getDomain=function(t){if(null===e)return null;var i=t.match(/\./g);if(i&&i.length<2)return t;var a=t.length-this.getTld(t).length-1;return a=t.lastIndexOf(".",a-1)+1,t.substring(a)||""},t.getTld=function(t){if(null===e)return null;var a=t.lastIndexOf("."),s=t.substring(a+1);return e[s.toLowerCase()]&&i.get(t)||s},t}();a.KEY="Domains",t.Domain=a}(Fabrique||(Fabrique={})),function(t){var e=function(){function e(){}return e.getSourceSite=function(i){void 0===i&&(i=!1);var a=document.referrer||window.location.host;if(i&&(a=window.location.host),-1!==a.indexOf("embed.gamedistribution.com")&&-1!==window.location.search.indexOf("gd_sdk_referrer_url")&&(a=e.getUrlParameter("gd_sdk_referrer_url")||a),a=decodeURIComponent(a),t.Branding.isBild())return"bildspielt.de";if(t.Branding.isBip())return"bipgaming.com";t.Branding.isSpil()&&(a=e.getReferrer(a)),a=(a=a.indexOf("://")>-1?a.split("/")[2]:a.split("/")[0]).split(":")[0];var s=t.Domain.getDomain(a);return null!==s?s:(3===a.split(".").length&&(a=a.substr(a.indexOf(".")+1)),a)},e.getBrandingDomain=function(){if(window.hasOwnProperty("fbrqBD")&&window.fbrqBD in t.BrandingDomain)return window.fbrqBD;if(!1!==t.SplashScreen.Preloader.SPLASH_OVERRIDE)return t.SplashScreen.Preloader.SPLASH_OVERRIDE;var i=e.getSourceSite();if(t.Branding.isAdmeen())return t.BrandingDomain.Admeen;if(t.Branding.isPlaycellApp()||t.Branding.isBip())return t.BrandingDomain.PlayCell;switch(i){case"spele.nl":return t.BrandingDomain.Spele;case"yepi.com":return t.BrandingDomain.Yepi;case"oyunskor.com":case"barbioyunu.com.tr":case"bebekoyunu.com.tr":case"oyunkolu.com":case"oyungemisi.com":case"oyunlar1.com":case"oyunkuzusu.com":case"kraloyun.com":case"rekoroyun.com":case"oyundedem.com":case"oyunoyna.com":case"pastaoyunu.com.tr":case"playcell.com":return t.BrandingDomain.PlayCell;case"gamecell.com":return t.BrandingDomain.GameCell;case"playxl.com":return t.BrandingDomain.Admeen;default:case"kizi.com":return t.BrandingDomain.Kizi;case"bildspielt.de":return t.BrandingDomain.Bild;case"funnygames.nl":return t.BrandingDomain.Funnygames}},e.getReferrer=function(t){return-1!==t.indexOf("?ref=")?t.substr(t.indexOf("?ref=")+5):t},e.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}},e.getDomain=function(t){var e=document.createElement("a");return e.href=t,e.origin},e.isOnDevice=function(t){return!(!t.device.cordova&&!t.device.crosswalk||/(gamedistribution\.com)/.test(window.location.hostname))},e.isTc=function(){return/(teamcity\.ds\.orangegames\.com)/.test(window.location.host)},e.getRandomRange=function(t,e){return Math.random()*(e-t)+t|0},e.getUrlParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},e.intTimeToString=function(t){var e=Math.floor(t/3600),i=Math.floor(t%3600/60),a=t%60;return(e<10?"0"+e:e.toString())+":"+(i<10?"0"+i:i.toString())+":"+(a<10?"0"+a:a.toString())},e.registerAudioUnlocker=function(t){t.input.touch&&"function"!=typeof t.input.touch.addTouchLockCallback||t.device.android&&t.device.chrome&&t.device.chromeVersion>=55&&(t.sound.touchLocked=!0,t.input.touch.addTouchLockCallback((function(){if(this.noAudio||!this.touchLocked||null!==this._unlockSource)return!0;if(this.usingWebAudio){var t=this.context.createBuffer(1,1,22050);this._unlockSource=this.context.createBufferSource(),this._unlockSource.buffer=t,this._unlockSource.connect(this.context.destination),void 0===this._unlockSource.start?this._unlockSource.noteOn(0):this._unlockSource.start(0),"suspended"===this._unlockSource.context.state&&this._unlockSource.context.resume()}return!0}),t.sound,!0))},e}();e.ASSET_LOCATION="patch/cdn/kizi/",t.Utils=e}(Fabrique||(Fabrique={}));var GA,CryptoJS=CryptoJS||function(t,e){var i={},a=i.lib={},s=function(){},n=a.Base={extend:function(t){s.prototype=this;var e=new s;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=a.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,i=t.words,a=this.sigBytes;if(t=t.sigBytes,this.clamp(),a%4)for(var s=0;s<t;s++)e[a+s>>>2]|=(i[s>>>2]>>>24-s%4*8&255)<<24-(a+s)%4*8;else if(65535<i.length)for(s=0;s<t;s+=4)e[a+s>>>2]=i[s>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=n.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i=[],a=0;a<e;a+=4)i.push(4294967296*t.random()|0);return new o.init(i,e)}}),r=i.enc={},h=r.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],a=0;a<t;a++){var s=e[a>>>2]>>>24-a%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],a=0;a<e;a+=2)i[a>>>3]|=parseInt(t.substr(a,2),16)<<24-a%8*4;return new o.init(i,e/2)}},l=r.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],a=0;a<t;a++)i.push(String.fromCharCode(e[a>>>2]>>>24-a%4*8&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],a=0;a<e;a++)i[a>>>2]|=(255&t.charCodeAt(a))<<24-a%4*8;return new o.init(i,e)}},d=r.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},c=a.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,a=i.words,s=i.sigBytes,n=this.blockSize,r=s/(4*n);if(e=(r=e?t.ceil(r):t.max((0|r)-this._minBufferSize,0))*n,s=t.min(4*e,s),e){for(var h=0;h<e;h+=n)this._doProcessBlock(a,h);h=a.splice(0,e),i.sigBytes-=s}return new o.init(h,s)},clone:function(){var t=n.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});a.Hasher=c.extend({cfg:n.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new g.HMAC.init(t,i).finalize(e)}}});var g=i.algo={};return i}(Math);!function(t){for(var e=CryptoJS,i=(s=e.lib).WordArray,a=s.Hasher,s=e.algo,n=[],o=[],r=function(t){return 4294967296*(t-(0|t))|0},h=2,l=0;64>l;){var d;t:{d=h;for(var c=t.sqrt(d),g=2;g<=c;g++)if(!(d%g)){d=!1;break t}d=!0}d&&(8>l&&(n[l]=r(t.pow(h,.5))),o[l]=r(t.pow(h,1/3)),l++),h++}var u=[];s=s.SHA256=a.extend({_doReset:function(){this._hash=new i.init(n.slice(0))},_doProcessBlock:function(t,e){for(var i=this._hash.words,a=i[0],s=i[1],n=i[2],r=i[3],h=i[4],l=i[5],d=i[6],c=i[7],g=0;64>g;g++){if(16>g)u[g]=0|t[e+g];else{var m=u[g-15],p=u[g-2];u[g]=((m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3)+u[g-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+u[g-16]}m=c+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&l^~h&d)+o[g]+u[g],p=((a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22))+(a&s^a&n^s&n),c=d,d=l,l=h,h=r+m|0,r=n,n=s,s=a,a=m+p|0}i[0]=i[0]+a|0,i[1]=i[1]+s|0,i[2]=i[2]+n|0,i[3]=i[3]+r|0,i[4]=i[4]+h|0,i[5]=i[5]+l|0,i[6]=i[6]+d|0,i[7]=i[7]+c|0},_doFinalize:function(){var e=this._data,i=e.words,a=8*this._nDataBytes,s=8*e.sigBytes;return i[s>>>5]|=128<<24-s%32,i[14+(s+64>>>9<<4)]=t.floor(a/4294967296),i[15+(s+64>>>9<<4)]=a,e.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=a._createHelper(s),e.HmacSHA256=a._createHmacHelper(s)}(Math),function(){var t=CryptoJS,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,i){t=this._hasher=new t.init,"string"==typeof i&&(i=e.parse(i));var a=t.blockSize,s=4*a;i.sigBytes>s&&(i=t.finalize(i)),i.clamp();for(var n=this._oKey=i.clone(),o=this._iKey=i.clone(),r=n.words,h=o.words,l=0;l<a;l++)r[l]^=1549556828,h[l]^=909522486;n.sigBytes=o.sigBytes=s,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,a=this._map;t.clamp(),t=[];for(var s=0;s<i;s+=3)for(var n=(e[s>>>2]>>>24-s%4*8&255)<<16|(e[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|e[s+2>>>2]>>>24-(s+2)%4*8&255,o=0;4>o&&s+.75*o<i;o++)t.push(a.charAt(n>>>6*(3-o)&63));if(e=a.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var i=t.length,a=this._map;(s=a.charAt(64))&&-1!=(s=t.indexOf(s))&&(i=s);for(var s=[],n=0,o=0;o<i;o++)if(o%4){var r=a.indexOf(t.charAt(o-1))<<o%4*2,h=a.indexOf(t.charAt(o))>>>6-o%4*2;s[n>>>2]|=(r|h)<<24-n%4*8,n++}return e.create(s,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){!function(t){t[t.ios=0]="ios",t[t.android=1]="android",t[t.windows=2]="windows",t[t.windows_phone=3]="windows_phone",t[t.blackberry=4]="blackberry",t[t.roku=5]="roku",t[t.tizen=6]="tizen",t[t.nacl=7]="nacl",t[t.mac_osx=8]="mac_osx",t[t.webplayer=9]="webplayer"}(t.Platform||(t.Platform={})),t.Platform,function(t){t[t.male=0]="male",t[t.female=1]="female"}(t.Gender||(t.Gender={})),t.Gender}(GA||(GA={})),function(t){!function(t){var e=/^[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}:[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}$/,i=function(t,i,a,s,n,o){if(this.category=1,this.transaction_num=0,!t||null===t.match(e))throw new Error("Invalid event_id supplied for BusinessEvent");if(this.event_id=t,this.amount=i,!a||null===a.match(/^[A-Z]{3}$/))throw new Error("Invalid currency supplied for BusinessEvent");if(this.currency=a,this.transaction_num=s,n){if(n.length>32)throw new Error("A too long cart_type was supplied, should be max 32 characters");this.cart_type=n}void 0!==o&&(this.receipt_info=o)};t.Business=i}(t.Events||(t.Events={}))}(GA||(GA={})),function(t){!function(t){var e=/^[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}(:[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}){0,4}$/,i=function(t,i){if(this.category=0,null===t.match(e))throw new Error("Invalid event_id supplied for DesignEvent");this.event_id=t,void 0!==i&&(this.value=i)};t.Design=i}(t.Events||(t.Events={}))}(GA||(GA={})),function(t){!function(t){!function(t){t[t.design=0]="design",t[t.business=1]="business",t[t.error=2]="error",t[t.user=3]="user",t[t.session_end=4]="session_end",t[t.progression=5]="progression",t[t.resource=6]="resource"}(t.Category||(t.Category={})),t.Category}(t.Events||(t.Events={}))}(GA||(GA={})),function(t){!function(t){!function(t){t[t.debug=0]="debug",t[t.info=1]="info",t[t.warning=2]="warning",t[t.error=3]="error",t[t.critical=4]="critical"}(t.ErrorSeverity||(t.ErrorSeverity={}));var e=t.ErrorSeverity,i=function(t,i){this.category=2,this.message="",this.severity=e[t],void 0!==i&&(this.message=i.substr(0,8192))};t.Exception=i}(t.Events||(t.Events={}))}(GA||(GA={})),function(t){!function(t){var e=function(){};t.InitResponse=e;var i=function(){function t(t){this.data=t}return t.prototype.toString=function(){return JSON.stringify(this.data)},t}();t.Init=i}(t.Events||(t.Events={}))}(GA||(GA={})),function(t){!function(t){var e=/^(Start|Fail|Complete):[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}(:[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}){0,2}$/,i=function(t,i,a){if(this.category=5,null===t.match(e))throw new Error("Invalid event_id supplied for ProgressionEvent");this.event_id=t,void 0!==i&&(this.attempt_num=i),void 0!==a&&(this.score=a)};t.Progression=i}(t.Events||(t.Events={}))}(GA||(GA={})),function(t){!function(t){var e=/^(Sink|Source):[A-Za-z]{1,64}:[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}:[A-Za-z0-9\\s\\-_\\.\\(\\)\\!\\?]{1,64}/,i=function(t,i){if(this.category=6,null===t.match(e))throw new Error("Invalid event_id supplied for ResourceEvent");this.event_id=t,this.amount=i};t.Resource=i}(t.Events||(t.Events={}))}(GA||(GA={})),function(t){!function(t){var e=function(t){this.category=4,this.length=0,this.length=t};t.SessionEnd=e}(t.Events||(t.Events={}))}(GA||(GA={})),function(t){!function(t){var e=function(){this.category=3};t.User=e}(t.Events||(t.Events={}))}(GA||(GA={})),function(t){t.getInstance=function(){return null===e.instance&&(e.instance=new e),e.instance};var e=function(){function e(){this.sessionId=t.Utils.createUniqueId(),this.messageQueue=new t.Utils.MessageQueue,this.enabled=!1,this.initProcessed=!1,this.timeoutId=0,this.timeOffset=0}return e.prototype.init=function(i,a,s,n){var o=this;if(null===e.instance)throw new Error("No instance Available!");this.gameKey=i,this.secretKey=a,this.build=s,this.user=n,this.incrementSessionNum(n);var r=new t.Events.Init(t.Utils.getBaseAnnotations());return this.sendEvent(r.toString(),"init",(function(t){o.initProcessed=!0,!0===t.enabled&&(o.enabled=!0,o.timeOffset=(Date.now()/1e3|0)-t.server_ts)})),this.scheduleSendData(e.SCHEDULE_TIME),window.addEventListener("beforeunload",(function(){o.sendData()})),this},e.prototype.incrementSessionNum=function(e){var i=t.Utils.LocalStorage.getItem(e.user_id);i?t.Utils.LocalStorage.setItem(e.user_id,(parseInt(i)+1).toString()):(i="1",t.Utils.LocalStorage.setItem(e.user_id,i))},e.prototype.addEvent=function(i){if(null===e.instance)throw new Error("No instance Available!");var a=new t.Utils.Message(i,t.Utils.getDefaultAnnotations(this.user,this.sessionId,this.build,this.timeOffset));return this.messageQueue.push(a),this},e.prototype.sendData=function(){if(!1===this.initProcessed)return this.scheduleSendData(1e3),this;if(!1===this.enabled)return this;if(null===e.instance)throw new Error("No instance Available!");for(var t=[],i="";this.messageQueue.length>0;){var a=this.messageQueue.pop();t.push(a.data)}if(0===t.length)return this.scheduleSendData(e.SCHEDULE_TIME),this;try{i=JSON.stringify(t)}catch(t){}return this.sendEvent(i,"events"),this.scheduleSendData(e.SCHEDULE_TIME),this},e.prototype.scheduleSendData=function(t){var e=this;clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){e.sendData()}),t)},e.prototype.sendEvent=function(i,a,s){if(void 0===s&&(s=null),null===e.instance&&null===this.gameKey)throw new Error("No instance Available!");if(!(i.length<1)){var n=CryptoJS.HmacSHA256(i,this.secretKey),o=CryptoJS.enc.Base64.stringify(n),r=e.API_URL+this.gameKey+"/"+a;t.Utils.postRequest(r,i,o,(function(t){if(!1===t.success&&window.console,null!=s){var e="";try{e=JSON.parse(t.message)}catch(t){}s(e)}}))}},e.SCHEDULE_TIME=15e3,e.SDK_VERSION="rest api v2",e.API_URL="patch/json/null.json?"+("https:"===document.location.protocol?"https":"http")+"://api.gameanalytics.com/v2/",e.instance=null,e}();t.GameAnalytics=e}(GA||(GA={})),function(t){var e=function(e,i,a,s){if(this.user_id="",e)this.user_id=e;else{var n=t.Utils.LocalStorage.getItem("user");this.user_id=n||t.Utils.createUniqueUserId()}i&&i.length>0&&(this.facebook_id=i,this.user_id=i),t.Utils.LocalStorage.setItem("user",this.user_id),1!==a&&0!==a||(this.gender=a),s&&s.toString().match(/^[0-9]{4}$/gi)&&(this.birth_year=s)};t.User=e}(GA||(GA={})),function(t){!function(e){function i(t){var i=e.LocalStorage.getItem(t);return i?parseInt(i):1}e.getDefaultAnnotations=function(e,a,s,n){var o={sdk_version:t.GameAnalytics.SDK_VERSION,platform:t.Platform[2],os_version:t.Platform[2]+" 8",device:"unknown",v:2,user_id:e.user_id,client_ts:(Date.now()/1e3|0)+n,manufacturer:"unknown",session_id:a,session_num:i(e.user_id),build:s};e.facebook_id&&(o.facebook_id=e.facebook_id),0!==e.gender&&1!==e.gender||(o.gender=t.Gender[e.gender]),e.birth_year&&(o.birth_year=e.birth_year);var r=navigator.userAgent;return r.match(/iPad|iPod|iPhone/i)?(o.platform=t.Platform[0],o.device=r.match(/iPad|iPod|iPhone/i)[0],o.manufacturer="Apple",o.os_version=t.Platform[0]+" "+r.match(/OS (\b[0-9]+_[0-9]+(?:_[0-9]+)?\b)/)[1].replace(/_/gi,".")):r.match(/Android/i)?(o.platform=t.Platform[1],o.device=r.match(/Mobile/i)?"Phone":"Tablet",o.os_version=t.Platform[1],/Firefox/i.test(r)||(o.os_version+=" "+r.match(/Android (\d+(?:\.\d+)*);/)[1])):r.match(/Windows Phone/i)&&(o.platform=t.Platform[2],o.device="Windows Phone",o.os_version=t.Platform[2]+" "+r.match(/Phone (\d+(?:\.\d+)+);/)[1]),o},e.getBaseAnnotations=function(){var e={sdk_version:t.GameAnalytics.SDK_VERSION,platform:"unknown",os_version:"unknown"},i=navigator.userAgent;return i.match(/iPad|iPod|iPhone/i)?(e.platform=t.Platform[0],e.os_version=t.Platform[0]+" "+i.match(/OS (\b[0-9]+_[0-9]+(?:_[0-9]+)?\b)/)[1].replace(/_/gi,".")):i.match(/Android/i)?(e.platform=t.Platform[1],e.os_version=t.Platform[1],/Firefox/i.test(i)||(e.os_version+=" "+i.match(/Android (\d+(?:\.\d+)*);/)[1])):i.match(/Windows Phone/i)&&(e.platform=t.Platform[2],e.os_version=t.Platform[2]+" "+i.match(/Phone (\d+(?:\.\d+)+);/)[1]),e}}(t.Utils||(t.Utils={}))}(GA||(GA={})),function(t){!function(t){var e=function(){function t(){}return t.getItem=function(e){if(t.Available)return localStorage.getItem(t.CacheKey+e)},t.setItem=function(e,i){t.Available&&localStorage.setItem(t.CacheKey+e,i)},t.Available=!1,t.CacheKey="GA:",t}();t.LocalStorage=e;try{"object"==typeof localStorage&&(localStorage.setItem("testingLocalStorage","yes"),localStorage.removeItem("testingLocalStorage"),e.Available=!0)}catch(t){}}(t.Utils||(t.Utils={}))}(GA||(GA={})),function(t){var e,i;e=t.Utils||(t.Utils={}),i=function(){function e(t,e){this.event=t,this.annotations=e}return Object.defineProperty(e.prototype,"data",{get:function(){for(var e in this.event)this.event.hasOwnProperty(e)&&(this.annotations[e]="category"===e?t.Events.Category[this.event[e]]:this.event[e]);return this.annotations},enumerable:!0,configurable:!0}),e}(),e.Message=i}(GA||(GA={})),function(t){!function(t){var e=function(){function t(){this.queue=[],this.load()}return t.prototype.push=function(t){this.queue.push(t)},t.prototype.pop=function(){return this.queue.pop()},Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),t.prototype.save=function(){},t.prototype.load=function(){},t}();t.MessageQueue=e}(t.Utils||(t.Utils={}))}(GA||(GA={})),function(t){!function(t){var e=function(){this.success=!1,this.message=""};t.Response=e,t.postRequest=function(t,e,i,a){var s;if(window.XMLHttpRequest){(s=new XMLHttpRequest).onreadystatechange=function(){4==s.readyState&&(200===s.status?a({success:!0,message:s.responseText}):s.status>0&&a({success:!1,message:"Error: There was a problem with the request: status "+s.status}))};try{s.open("POST",t,!0),s.setRequestHeader("Authorization",i),s.setRequestHeader("Content-Type","application/json"),s.send(e)}catch(t){a({success:!1,message:"Error: Unable to send request, CORS not allowed."})}}else a({success:!1,message:"Error: Unable to send request, XMLHttpRequest not supported"})}}(t.Utils||(t.Utils={}))}(GA||(GA={})),function(t){!function(t){function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}t.createUniqueId=e,t.createUniqueUserId=function(){return e()}}(t.Utils||(t.Utils={}))}(GA||(GA={}));