/*!
 * phaser-ads - version 2.2.7 
 * A Phaser plugin for providing nice ads integration in your phaser.io game
 *
 * OrangeGames
 * Build at 07-08-2018
 * Released under MIT License 
 */
var PhaserAds,__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();!function(e){var t;!function(e){e[e.start=0]="start",e[e.firstQuartile=1]="firstQuartile",e[e.midPoint=2]="midPoint",e[e.thirdQuartile=3]="thirdQuartile",e[e.complete=4]="complete"}(e.AdEvent||(e.AdEvent={})),function(e){e[e.interstitial=0]="interstitial",e[e.rewarded=1]="rewarded",e[e.banner=2]="banner",e[e.video=3]="video"}(t=e.AdType||(e.AdType={}));var n=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.onContentPaused=new Phaser.Signal,a.onContentResumed=new Phaser.Signal,a.onAdProgression=new Phaser.Signal,a.onAdsDisabled=new Phaser.Signal,a.onAdClicked=new Phaser.Signal,a.onAdRewardGranted=new Phaser.Signal,a.onBannerShown=new Phaser.Signal,a.onBannerHidden=new Phaser.Signal,a.bannerActive=!1,a.provider=null,a.wasMuted=!1,Object.defineProperty(t,"ads",{value:a}),a}return __extends(n,e),n.prototype.setAdProvider=function(e){this.provider=e,this.provider.setManager(this)},n.prototype.showAd=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(null===this.provider)throw new Error("Can not request an ad without an provider, please attach an ad provider!");e[0]!==t.banner&&(this.wasMuted=this.game.sound.mute,this.game.sound.mute=!0),this.provider.showAd.apply(this.provider,e)},n.prototype.preloadAd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null===this.provider)throw new Error("Can not preload an ad without an provider, please attach an ad provider!");this.provider.preloadAd.apply(this.provider,e)},n.prototype.destroyAd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null===this.provider)throw new Error("Can not destroy an ad without an provider, please attach an ad provider!");this.provider.destroyAd.apply(this.provider,e)},n.prototype.hideAd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");this.unMuteAfterAd(),this.provider.hideAd.apply(this.provider,e)},n.prototype.adsEnabled=function(){return this.provider.adsEnabled},n.prototype.unMuteAfterAd=function(){this.wasMuted||(this.game.sound.mute=!1)},n}(Phaser.Plugin);e.AdManager=n}(PhaserAds||(PhaserAds={})),function(e){!function(t){var n;!function(e){e[e.AdMob=0]="AdMob",e[e.MoPub=1]="MoPub",e[e.Chartboost=2]="Chartboost",e[e.Heyzap=3]="Heyzap"}(n=t.CocoonProvider||(t.CocoonProvider={}));var a=function(){function t(e,t,a){if(this.adsEnabled=!1,this.banner=null,this.bannerShowable=!1,this.interstitial=null,this.interstitialShowable=!1,this.rewarded=null,this.rewardedShowable=!1,(e.device.cordova||e.device.crosswalk)&&Cocoon&&Cocoon.Ad){switch(this.adsEnabled=!0,t){default:case n.AdMob:this.cocoonProvider=Cocoon.Ad.AdMob;break;case n.Chartboost:this.cocoonProvider=Cocoon.Ad.Chartboost;break;case n.Heyzap:this.cocoonProvider=Cocoon.Ad.Heyzap;break;case n.MoPub:this.cocoonProvider=Cocoon.Ad.MoPub}this.cocoonProvider.configure(a)}}return t.prototype.setManager=function(e){this.adManager=e},t.prototype.showAd=function(t){if(!this.adsEnabled)return this.adManager.unMuteAfterAd(),void(t!==e.AdType.banner&&this.adManager.onContentResumed.dispatch());if(t===e.AdType.banner){if(!this.bannerShowable||null===this.banner)return void this.adManager.unMuteAfterAd();this.adManager.onBannerShown.dispatch(this.banner.width,this.banner.height),this.adManager.bannerActive=!0,this.banner.show()}if(t===e.AdType.interstitial){if(!this.interstitialShowable||null===this.interstitial)return this.adManager.unMuteAfterAd(),void this.adManager.onContentResumed.dispatch(e.AdType.interstitial);this.interstitial.show()}if(t===e.AdType.rewarded){if(!this.rewardedShowable||null===this.rewarded)return this.adManager.unMuteAfterAd(),void this.adManager.onContentResumed.dispatch(e.AdType.rewarded);this.rewarded.show()}},t.prototype.preloadAd=function(t,n,a){var i=this;this.adsEnabled&&(this.destroyAd(t),t===e.AdType.banner&&(this.banner=this.cocoonProvider.createBanner(n),a&&this.banner.setLayout(a),this.banner.on("load",(function(){i.bannerShowable=!0})),this.banner.on("fail",(function(){i.bannerShowable=!1,i.banner=null})),this.banner.on("click",(function(){i.adManager.onAdClicked.dispatch(e.AdType.banner)})),this.banner.on("show",(function(){})),this.banner.on("dismiss",(function(){})),this.banner.load()),t===e.AdType.interstitial&&(this.interstitial=this.cocoonProvider.createInterstitial(n),this.interstitial.on("load",(function(){i.interstitialShowable=!0})),this.interstitial.on("fail",(function(){i.interstitialShowable=!1,i.interstitial=null})),this.interstitial.on("click",(function(){i.adManager.onAdClicked.dispatch(e.AdType.interstitial)})),this.interstitial.on("show",(function(){i.adManager.onContentPaused.dispatch(e.AdType.interstitial)})),this.interstitial.on("dismiss",(function(){i.adManager.unMuteAfterAd(),i.adManager.onContentResumed.dispatch(e.AdType.interstitial),i.interstitialShowable=!1,i.interstitial=null})),this.interstitial.load()),t===e.AdType.rewarded&&(this.rewarded=this.cocoonProvider.createRewardedVideo(n),this.rewarded.on("load",(function(){i.rewardedShowable=!0})),this.rewarded.on("fail",(function(){i.rewardedShowable=!1,i.rewarded=null})),this.rewarded.on("click",(function(){i.adManager.onAdClicked.dispatch(e.AdType.rewarded)})),this.rewarded.on("show",(function(){i.adManager.onContentPaused.dispatch(e.AdType.rewarded)})),this.rewarded.on("dismiss",(function(){i.adManager.unMuteAfterAd(),i.adManager.onContentResumed.dispatch(e.AdType.rewarded),i.rewardedShowable=!1,i.rewarded=null})),this.rewarded.on("reward",(function(){i.adManager.unMuteAfterAd(),i.adManager.onAdRewardGranted.dispatch(e.AdType.rewarded),i.rewardedShowable=!1,i.rewarded=null})),this.rewarded.load()))},t.prototype.destroyAd=function(t){if(this.adsEnabled){if(t===e.AdType.banner&&null!==this.banner){try{this.cocoonProvider.releaseBanner(this.banner)}catch(e){}this.banner=null,this.bannerShowable=!1}t===e.AdType.interstitial&&null!==this.interstitial&&(this.cocoonProvider.releaseInterstitial(this.interstitial),this.interstitial=null,this.interstitialShowable=!1)}},t.prototype.hideAd=function(t){this.adsEnabled&&(t===e.AdType.interstitial&&null!==this.interstitial&&this.interstitial.hide(),t===e.AdType.banner&&null!==this.banner&&(this.adManager.bannerActive&&(this.adManager.bannerActive=!1,this.adManager.onBannerHidden.dispatch(this.banner.width,this.banner.height)),this.banner.hide()),t===e.AdType.rewarded&&null!==this.rewarded&&this.rewarded.hide())},t}();t.CocoonAds=a}(e.AdProvider||(e.AdProvider={}))}(PhaserAds||(PhaserAds={})),function(e){!function(e){var t=function(){function e(e,t,n,a){void 0===a&&(a=!1),this.adsEnabled=!1,void 0===cordova.plugins||void 0!==cordova.plugins&&void 0===cordova.plugins.gdApi||(a&&cordova.plugins.gdApi.enableTestAds(),this.setAdListeners(),cordova.plugins.gdApi.init([t,n],(function(e){}),(function(e){})))}return e.prototype.setAdListeners=function(){var e=this;cordova.plugins.gdApi.setAdListener((function(t){switch(t.event){case"BANNER_STARTED":e.adManager.onContentPaused.dispatch();break;case"API_IS_READY":e.adsEnabled=!0;break;case"API_ALREADY_INITIALIZED":break;case"BANNER_CLOSED":case"API_NOT_READY":case"BANNER_FAILED":e.adManager.onContentResumed.dispatch()}}),(function(t){e.adsEnabled=!1}))},e.prototype.setManager=function(e){this.adManager=e},e.prototype.showAd=function(e){var t=this;this.adsEnabled?cordova.plugins.gdApi.showBanner((function(e){}),(function(e){t.adManager.onContentResumed.dispatch()})):this.adManager.onContentResumed.dispatch()},e.prototype.preloadAd=function(){},e.prototype.destroyAd=function(){},e.prototype.hideAd=function(){},e}();e.CordovaGameDistribution=t}(e.AdProvider||(e.AdProvider={}))}(PhaserAds||(PhaserAds={})),function(e){!function(e){var t;!function(e){e[e.Interstitial=0]="Interstitial",e[e.Video=1]="Video",e[e.Rewarded=2]="Rewarded",e[e.Banner=3]="Banner"}(t=e.HeyzapAdTypes||(e.HeyzapAdTypes={}));var n=function(){function e(e,t){var n=this;this.adsEnabled=!1,(e.device.cordova||e.device.crosswalk)&&(this.adsEnabled=!0,HeyzapAds.start(t).then((function(){}),(function(e){n.adsEnabled=!1})))}return e.prototype.setManager=function(e){this.adManager=e},e.prototype.showAd=function(e,n){var a=this;switch(this.adsEnabled||(this.adManager.unMuteAfterAd(),this.adManager.onContentResumed.dispatch()),e){case t.Interstitial:HeyzapAds.InterstitialAd.addEventListener(HeyzapAds.InterstitialAd.Events.HIDE,(function(){a.adManager.unMuteAfterAd(),a.adManager.onContentResumed.dispatch(HeyzapAds.InterstitialAd.Events.HIDE)})),HeyzapAds.InterstitialAd.addEventListener(HeyzapAds.InterstitialAd.Events.SHOW_FAILED,(function(){a.adManager.unMuteAfterAd(),a.adManager.onContentResumed.dispatch(HeyzapAds.InterstitialAd.Events.SHOW_FAILED)})),HeyzapAds.InterstitialAd.addEventListener(HeyzapAds.InterstitialAd.Events.CLICKED,(function(){a.adManager.onAdClicked.dispatch(HeyzapAds.InterstitialAd.Events.CLICKED)})),HeyzapAds.InterstitialAd.show().then((function(){a.adManager.onContentPaused.dispatch()}),(function(e){a.adManager.unMuteAfterAd(),a.adManager.onContentResumed.dispatch()}));break;case t.Video:HeyzapAds.VideoAd.addEventListener(HeyzapAds.VideoAd.Events.HIDE,(function(){a.adManager.unMuteAfterAd(),a.adManager.onContentResumed.dispatch(HeyzapAds.VideoAd.Events.HIDE)})),HeyzapAds.VideoAd.addEventListener(HeyzapAds.VideoAd.Events.SHOW_FAILED,(function(){a.adManager.unMuteAfterAd(),a.adManager.onContentResumed.dispatch(HeyzapAds.VideoAd.Events.SHOW_FAILED)})),HeyzapAds.VideoAd.addEventListener(HeyzapAds.VideoAd.Events.CLICKED,(function(){a.adManager.onAdClicked.dispatch(HeyzapAds.VideoAd.Events.CLICKED)})),HeyzapAds.VideoAd.show().then((function(){a.adManager.onContentPaused.dispatch()}),(function(e){a.adManager.unMuteAfterAd(),a.adManager.onContentResumed.dispatch()}));break;case t.Rewarded:HeyzapAds.IncentivizedAd.addEventListener(HeyzapAds.IncentivizedAd.Events.HIDE,(function(){a.adManager.unMuteAfterAd(),a.adManager.onContentResumed.dispatch(HeyzapAds.IncentivizedAd.Events.HIDE)})),HeyzapAds.IncentivizedAd.addEventListener(HeyzapAds.IncentivizedAd.Events.SHOW_FAILED,(function(){a.adManager.unMuteAfterAd(),a.adManager.onContentResumed.dispatch(HeyzapAds.IncentivizedAd.Events.SHOW_FAILED)})),HeyzapAds.IncentivizedAd.addEventListener(HeyzapAds.IncentivizedAd.Events.CLICKED,(function(){a.adManager.onAdClicked.dispatch(HeyzapAds.IncentivizedAd.Events.CLICKED)})),HeyzapAds.IncentivizedAd.show().then((function(){a.adManager.onContentPaused.dispatch()}),(function(e){a.adManager.unMuteAfterAd(),a.adManager.onContentResumed.dispatch()}));break;case t.Banner:HeyzapAds.BannerAd.show(n).then((function(){}),(function(e){}))}},e.prototype.preloadAd=function(e){this.adsEnabled&&e===t.Rewarded&&HeyzapAds.IncentivizedAd.fetch().then((function(){}),(function(e){}))},e.prototype.destroyAd=function(e){this.adsEnabled&&e===t.Banner&&HeyzapAds.BannerAd.destroy().then((function(){}),(function(e){}))},e.prototype.hideAd=function(e){this.adsEnabled&&e===t.Banner&&HeyzapAds.BannerAd.hide().then((function(){}),(function(e){}))},e}();e.CordovaHeyzap=n}(e.AdProvider||(e.AdProvider={}))}(PhaserAds||(PhaserAds={})),function(e){!function(e){!function(e){e[e.preroll=0]="preroll",e[e.midroll=1]="midroll"}(e.GameDistributionAdType||(e.GameDistributionAdType={}));var t=function(){function e(e,t,n){void 0===n&&(n="");var a=this;this.adsEnabled=!0,this.areAdsEnabled(),GD_OPTIONS={gameId:t,userId:n,advertisementSettings:{autoplay:!1},onEvent:function(e){switch(e.name){case"SDK_GAME_START":"undefined"!=typeof gdApi&&gdApi.play(),a.adManager.unMuteAfterAd(),a.adManager.onContentResumed.dispatch();break;case"SDK_GAME_PAUSE":a.adManager.onContentPaused.dispatch();break;case"SDK_READY":break;case"SDK_ERROR":}}},function(e,t,n){var a,i=e.getElementsByTagName(t)[0];e.getElementById(n)||((a=e.createElement(t)).id=n,a.src="patch/js/gd-main.js",i.parentNode.insertBefore(a,i))}(document,"script","gamedistribution-jssdk")}return e.prototype.setManager=function(e){this.adManager=e},e.prototype.showAd=function(){if(this.adsEnabled){if("undefined"==typeof gdApi||gdApi&&void 0===gdApi.showBanner)return this.adsEnabled=!1,this.adManager.unMuteAfterAd(),void this.adManager.onContentResumed.dispatch();gdApi.showBanner()}else this.adManager.unMuteAfterAd(),this.adManager.onContentResumed.dispatch()},e.prototype.preloadAd=function(){},e.prototype.destroyAd=function(){},e.prototype.hideAd=function(){},e.prototype.areAdsEnabled=function(){var e=this,t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox",t.style.position="absolute",t.style.fontSize="10px",document.body.appendChild(t);window.setTimeout((function(){e.adsEnabled=function(){var e=!0;return 0===t.offsetHeight&&(e=!1),t.parentNode.removeChild(t),e}()}),100)},e}();e.GameDistributionAds=t}(e.AdProvider||(e.AdProvider={}))}(PhaserAds||(PhaserAds={})),function(e){!function(t){var n=function(){function t(e,t){this.adsManager=null,this.googleEnabled=!1,this.adsEnabled=!0,this.adTagUrl="",this.adRequested=!1,this.adManager=null,this.resizeListener=null,this.areAdsEnabled(),"undefined"!=typeof google&&(this.googleEnabled=!0,this.gameContent="string"==typeof e.parent?document.getElementById(e.parent):e.parent,this.gameContent.style.position="absolute",this.gameContent.style.width="100%",this.adContent=this.gameContent.parentNode.appendChild(document.createElement("div")),this.adContent.id="phaser-ad-container",this.adContent.style.position="absolute",this.adContent.style.zIndex="9999",this.adContent.style.display="none",this.adContent.style.top="0",this.adContent.style.left="0",this.adContent.style.width="100%",this.adContent.style.height="100%",this.adContent.style.overflow="hidden",this.adTagUrl=t,this.game=e,this.adDisplay=new google.ima.AdDisplayContainer(this.adContent),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale("nl"),this.adLoader=new google.ima.AdsLoader(this.adDisplay),this.adLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdManagerLoader,!1,this),this.adLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1,this))}return t.prototype.setManager=function(e){this.adManager=e},t.prototype.showAd=function(e){if(!this.adRequested){if(this.adsEnabled||this.adManager.onAdsDisabled.dispatch(!0),!this.googleEnabled)return void this.onContentResumeRequested();this.adDisplay.initialize();var t=new google.ima.AdsRequest;t.adTagUrl=this.adTagUrl+this.parseCustomParams(e);var n=window.innerWidth,a=window.innerHeight;this.game.scale.isFullScreen&&document.body.clientHeight<window.innerHeight&&(a=document.body.clientHeight,n=document.body.clientWidth),t.linearAdSlotWidth=n,t.linearAdSlotHeight=a,t.nonLinearAdSlotWidth=n,t.nonLinearAdSlotHeight=a,t.forceNonLinearFullSlot=!0;try{this.adRequested=!0,this.adLoader.requestAds(t)}catch(e){this.onContentResumeRequested()}}},t.prototype.preloadAd=function(){},t.prototype.destroyAd=function(){},t.prototype.hideAd=function(){},t.prototype.onAdManagerLoader=function(e){var t=this,n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0;var a=e.getAdsManager(this.gameContent,n);this.adsManager=a,a.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested,!1,this),a.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested,!1,this),a.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1,this),[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE].forEach((function(e){a.addEventListener(e,t.onAdEvent,!1,t)}));try{this.adContent.style.display="block";var i=window.innerWidth,d=window.innerHeight;this.adsManager.init(i,d,google.ima.ViewMode.NORMAL),this.adsManager.start(),this.resizeListener=function(){null!==t.adsManager&&t.adsManager.resize(window.innerWidth,window.innerHeight,google.ima.ViewMode.NORMAL)},window.addEventListener("resize",this.resizeListener)}catch(e){this.onAdError(e)}},t.prototype.onAdEvent=function(t){switch(t.type){case google.ima.AdEvent.Type.CLICK:this.adManager.onAdClicked.dispatch();break;case google.ima.AdEvent.Type.LOADED:this.adRequested=!1,t.getAd().isLinear()||this.onContentResumeRequested();break;case google.ima.AdEvent.Type.STARTED:this.adManager.onAdProgression.dispatch(e.AdEvent.start);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:this.adManager.onAdProgression.dispatch(e.AdEvent.firstQuartile);break;case google.ima.AdEvent.Type.MIDPOINT:this.adManager.onAdProgression.dispatch(e.AdEvent.midPoint);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:this.adManager.onAdProgression.dispatch(e.AdEvent.thirdQuartile);break;case google.ima.AdEvent.Type.COMPLETE:this.adManager.onAdProgression.dispatch(e.AdEvent.complete);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.onContentResumeRequested()}},t.prototype.onAdError=function(e){null!==this.adsManager&&(this.adsManager.destroy(),this.adsManager=null,null!==this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)),this.adRequested&&(this.adRequested=!1),this.onContentResumeRequested()},t.prototype.onContentPauseRequested=function(){this.adManager.onContentPaused.dispatch()},t.prototype.onContentResumeRequested=function(){return"undefined"==typeof google?(this.adManager.unMuteAfterAd(),void this.adManager.onContentResumed.dispatch()):(this.adContent.style.display="none",this.adManager.unMuteAfterAd(),void this.adManager.onContentResumed.dispatch())},t.prototype.parseCustomParams=function(e){if(void 0!==e){var t="";for(var n in e)if(e.hasOwnProperty(n)){t.length>0&&(t+="&"),t+=n+"="+(Array.isArray(e[n])?e[n].join(","):e[n])}return"&cust_params="+encodeURIComponent(t)}return""},t.prototype.areAdsEnabled=function(){var e=this,t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox",t.style.position="absolute",t.style.fontSize="10px",document.body.appendChild(t);window.setTimeout((function(){e.adsEnabled=function(){var e=!0;return 0===t.offsetHeight&&(e=!1),t.parentNode.removeChild(t),e}()}),100)},t}();t.Ima3=n}(e.AdProvider||(e.AdProvider={}))}(PhaserAds||(PhaserAds={}));