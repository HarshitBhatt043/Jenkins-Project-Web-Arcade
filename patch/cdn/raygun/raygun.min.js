/*! Raygun4js - v2.26.0 - 2023-06-27
 * https://github.com/MindscapeHQ/raygun4js
 * Copyright (c) 2023 MindscapeHQ; Licensed MIT */
function getHighFidelityUAString(e){if(!window.raygunUserAgentData)return e;var t;"Windows"===window.raygunUserAgentData.platform&&(t=(window.raygunUserAgentData.platformVersion||"").split("."),13<=(parseInt(t[0],10)||0)&&(e=e.replace("Windows NT 10.0","Windows NT 11.0")));var n=window.raygunUserAgentData.fullVersionList;if(!n)return e;for(var r=/Chrome\/(\d+)\.(\d+)\.(\d+)\.(\d+)/i,i=/Edg\/(\d+)\.(\d+)\.(\d+)\.(\d+)/i,a=0;a<n.length;a++){var o=n[a].version,s=n[a].brand;"Chromium"===s&&(e=e.replace(r,"Chrome/"+o)),"Microsoft Edge"===s&&(e=e.replace(i,"Edg/"+o))}return e}function raygunCoreWebVitalFactory(e){function t(){this.cleanWebVitalData=function(e){var t=e;return t.value&&t.value.toFixed&&(t.value=t.value.toFixed(3)),t}}var n=null,r=null;return t.prototype.attach=function(t,i){n=t,r=i,void 0!==e&&e.webVitals&&(e.webVitals.getLCP&&e.webVitals.getLCP(this.handler),e.webVitals.getFID&&e.webVitals.getFID(this.handler),e.webVitals.getCLS&&e.webVitals.getCLS(this.handler))},t.prototype.handler=function(e){e.value&&e.value.toFixed&&(e.value=e.value.toFixed(3));var t={url:e.name,timing:{t:"w",du:e.value},parentResource:r};n(t)},new t}window.raygunUserAgent=navigator.userAgent,window.raygunUserAgentData=window.navigator.userAgentData||null,window.raygunUserAgentDataStatus=1,setTimeout((function(){1===window.raygunUserAgentDataStatus&&(window.raygunUserAgentDataStatus=3)}),200),window&&window.navigator&&window.navigator.userAgentData&&window.navigator.userAgentData.getHighEntropyValues&&window.navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]).then((function(e){window.raygunUserAgentData=e,window.raygunUserAgent=getHighFidelityUAString(window.raygunUserAgent),window.raygunUserAgentDataStatus=2}),(function(e){window.console.error("Error calling getHighEntropyValues: ",e)})),function(e){var t,n,r,i,a,o,s,u,c={},l=e.TraceKit,d=[].slice,f="?";function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){return void 0===e}function h(e,t){var n=null;if(!t||c.collectWindowErrors){for(var r in i)if(g(i,r))try{i[r].apply(null,[e].concat(d.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function m(t,r,i,s,u){var l,d=null;return u?d=c.computeStackTrace(u):o?(c.computeStackTrace.augmentStackTraceWithInitialElement(o,r,i,t),d=o,a=o=null):((l={url:r,line:i,column:s}).func=c.computeStackTrace.guessFunctionName(l.url,l.line),l.context=c.computeStackTrace.gatherContext(l.url,l.line),d={mode:"onerror",message:t,url:document.location.href,stack:[l],useragent:e.raygunUserAgent}),h(d,"from window.onerror"),!!n&&n.apply(this,arguments)}function v(n){var r;if("undefined"!=typeof document&&(r=d.call(arguments,1)),o){if(a===n)return;var i=o;h.apply(a=o=null,[i,null].concat(r))}var s=c.computeStackTrace(n);if(o=s,a=n,e.setTimeout((function(){a===n&&h.apply(a=o=null,[s,null].concat(r))}),s.incomplete?2e3:0),!t.Utilities.isReactNative())throw n}function y(t){var n,r;return g(u,t)||(n="",t=t||"",r="undefined"!=typeof document?document.domain:e.location.hostname,t.indexOf&&-1!==t.indexOf(r)&&(n="string"!=typeof t?[]:""),u[t]=n?n.split("\n"):[]),u[t]}function b(e,t){var n,r=/function ([^(]*)\(([^)]*)\)/,i=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",o=y(e);if(!o.length)return f;for(var s=0;s<10;++s)if(!p(a=o[t-s]+a)){if(n=i.exec(a))return n[1];if(n=r.exec(a))return n[1]}return f}function w(e,t){var n=y(e);if(!n.length)return null;var r=[],i=Math.floor(c.linesOfContext/2),a=i+c.linesOfContext%2,o=Math.max(0,t-i-1),s=Math.min(n.length,t+a-1);--t;for(var u=o;u<s;++u)p(n[u])||r.push(n[u]);return 0<r.length?r:null}function U(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function S(e){return U(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function E(e,t){for(var n,r,i=0,a=t.length;i<a;++i)if((n=y(t[i])).length&&(n=n.join("\n"),r=e.exec(n)))return{url:t[i],line:n.substring(0,r.index).split("\n").length,column:r.index-n.lastIndexOf("\n",r.index)-1};return null}function k(e,t,n){var r,i=y(t),a=new RegExp("\\b"+U(e)+"\\b");return--n,i&&i.length>n&&(r=a.exec(i[n]))?r.index:null}function R(t){for(var n,r,i,a,o,s=[e.location.href],u=document.getElementsByTagName("script"),c=""+t,l=0;l<u.length;++l){var d=u[l];d.src&&s.push(d.src)}if(r=E((n=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(c))?(i=n[1]?"\\s+"+n[1]:"",a=n[2].split(",").join("\\s*,\\s*"),o=U(n[3]).replace(/;$/,";?"),new RegExp("function"+i+"\\s*\\(\\s*"+a+"\\s*\\)\\s*{\\s*"+o+"\\s*}")):new RegExp(U(c).replace(/\s+/g,"\\s+")),s))return r;if(n=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(c)){var f=n[1];if(o=S(n[2]),r=E(new RegExp("on"+f+"=[\\'\"]\\s*"+o+"\\s*[\\'\"]","i"),s[0]))return r;if(r=E(new RegExp(o),s))return r}return null}function x(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){e.incomplete=!1,i.func||(i.func=b(i.url,i.line)),i.context||(i.context=w(i.url,i.line));var a=/ '([^']+)' /.exec(r);if(a&&(i.column=k(a[1],i.url,i.line)),0<e.stack.length&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,e.stack[0].context=i.context,!1}return e.stack.unshift(i),e.partial=!0}return!(e.incomplete=!0)}function T(t,n){for(var r,i,a,o,s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,u=[],l={},d=!1,g=T.caller;g&&!d;g=g.caller)if(g!==A&&g!==c.report){if(i={url:null,func:f,line:null,column:null},g.name?i.func=g.name:(r=s.exec(g.toString()))&&(i.func=r[1]),void 0===i.func)try{i.func=r.input.substring(0,r.input.indexOf("{"))}catch(t){}(a=R(g))&&(i.url=a.url,i.line=a.line,i.func===f&&(i.func=b(i.url,i.line)),(o=/ '([^']+)' /.exec(t.message||t.description))&&(i.column=k(o[1],a.url,a.line))),l[""+g]?d=!0:l[""+g]=!0,u.push(i)}n&&u.splice(0,n);var p={mode:"callers",name:t.name,message:t.message,url:document.location.href,stack:u,useragent:e.raygunUserAgent};return x(p,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),p}function A(n,r){var i=null;r=null==r?0:+r;try{if(i=function(t){for(var n,r=t.stacktrace,i=/ line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i,a=r?r.split("\n"):[],o=[],s=0,u=a.length;s<u;s+=2)if(n=i.exec(a[s])){var c={line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[],url:n[6]};if(!c.func&&c.line&&(c.func=b(c.url,c.line)),c.line)try{c.context=w(c.url,c.line)}catch(t){}c.context||(c.context=[a[s+1]]),o.push(c)}return o.length?{mode:"stacktrace",name:t.name,message:t.message,url:document.location.href,stack:o,useragent:e.raygunUserAgent,stackstring:r}:null}(n))return i}catch(n){if(s)throw n}try{if(i=function(n){if(!n.stack)return null;var r,i=/^\s*at (.*?) ?\(((?:file|https?|\s*|blob|chrome-extension|native|webpack|ionic|capacitor|app|eval|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|ionic|capacitor|app|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=n.stack.split("\n"),u=[],c=/^(.*) is undefined$/.exec(n.message);if(t.Utilities.isReactNative())for(var l,d,g,p=/^(.*@)?.*\/[^\.]+(\.app|CodePush)\/?(.*)/,h=0;h<s.length;h++)null!==(g=p.exec(s[h]))&&(l=g[1]?g[1]:"anonymous@",d=g[3],s[h]=l+"file://reactnative.local/"+d);h=0;for(var m=s.length;h<m;++h){if(g=a.exec(s[h]))r={url:g[3],func:g[1]||f,args:g[2]?g[2].split(","):"",line:+g[4],column:g[5]?+g[5]:null};else if(g=i.exec(s[h]))r={url:g[2],func:g[1]||f,line:+g[3],column:g[4]?+g[4]:null};else{if(!(g=o.exec(s[h])))continue;r={url:g[2],func:g[1]||f,line:+g[3],column:g[4]?+g[4]:null}}!r.func&&r.line&&(r.func=b(r.url,r.line)),"undefined"!=typeof document&&r.line&&(r.context=w(r.url,r.line)),u.push(r)}return u[0]&&u[0].line&&!u[0].column&&c?u[0].column=k(c[1],u[0].url,u[0].line):u[0].column||void 0===n.columnNumber||(u[0].column=n.columnNumber+1),u.length?{mode:"stack",name:n?n.name:"",message:n?n.message:"",url:"undefined"!=typeof document?document.location.href:"",stack:u,useragent:navigator?e.raygunUserAgent:"",stackstring:n&&n.stack?n.stack.toString():""}:null}(n))return i}catch(n){if(s)throw n}try{if(i=function(t){var n=t.message.split("\n");if(n.length<4)return null;var r,i,a,o=/^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,u=/^\s*Line (\d+) of function script\s*$/i,c=[],l=document.getElementsByTagName("script"),d=[];for(i in l)g(l,i)&&!l[i].src&&d.push(l[i]);for(i=2,a=n.length;i<a;i+=2){var f,p,h,m,v,U,k,R,x=null;(r=o.exec(n[i]))?x={url:r[2],func:r[3],line:+r[1]}:(r=s.exec(n[i]))?(x={url:r[3],func:r[4]},f=+r[1],(p=d[r[2]-1])&&(!(m=y(x.url))||0<=(h=(m=m.join("\n")).indexOf(p.innerText))&&(x.line=f+m.substring(0,h).split("\n").length))):(r=u.exec(n[i]))&&(v=e.location.href.replace(/#.*$/,""),U=r[1],x={url:v,line:(m=E(new RegExp(S(n[i+1])),[v]))?m.line:U,func:""}),x&&(x.func||(x.func=b(x.url,x.line)),R=(k=w(x.url,x.line))?k[Math.floor(k.length/2)]:null,k&&R.replace(/^\s*/,"")===n[i+1].replace(/^\s*/,"")?x.context=k:x.context=[n[i+1]],c.push(x))}return c.length?{mode:"multiline",name:t.name,message:n[0],url:document.location.href,stack:c,useragent:e.raygunUserAgent}:null}(n))return i}catch(n){if(s)throw n}try{if(i=T(n,r+1))return i}catch(n){if(s)throw n}return{tracekitResult:"failedToComputeAnyStackTrace"}}c.setRaygun=function(e){t=t||e},c.noConflict=function(){return e.TraceKit=l,c},c.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw c.report(e),e}}},c.report=(i=[],o=a=null,v.subscribe=function(t){!0!==r&&(n=e.onerror,e.onerror=m,r=!0),i.push(t)},v.unsubscribe=function(e){for(var t=i.length-1;0<=t;--t)i[t]===e&&i.splice(t,1)},v),c.computeStackTrace=(s=!1,u={},A.augmentStackTraceWithInitialElement=x,A.guessFunctionName=b,A.gatherContext=w,A.ofCaller=function(e){e=1+(null==e?0:+e);try{throw new Error}catch(t){return A(t,e+1)}},A),c.extendToAsynchronousCallbacks=function(){function t(t){var n=e[t];e[t]=function(){var e=d.call(arguments),t=e[0];return"function"==typeof t&&(e[0]=c.wrap(t)),n.apply?n.apply(this,e):n(e[0],e[1])}}t("setTimeout"),t("setInterval")},c.remoteFetching||(c.remoteFetching=!0),c.collectWindowErrors||(c.collectWindowErrors=!0),(!c.linesOfContext||c.linesOfContext<1)&&(c.linesOfContext=11),e.TraceKit=c}(window),function(e,t){"use strict";var n,r,i;e&&e.event&&e.event.add&&(n=e.event.add,e.event.add=function(r,i,a,o,s){return"function"!=typeof a&&"function"!=typeof a.handler||(a.handler?(u=a.handler,a.handler=t.wrap(a.handler)):(u=a,a=t.wrap(a)),u.guid?a.guid=u.guid:a.guid=u.guid=e.guid++),n.call(this,r,i,a,o,s);var u},r=e.fn.ready,e.fn.ready=function(e){return r.call(this,t.wrap(e))},i=e.ajax,e.ajax=function(n,r){"object"==typeof n&&(r=n,n=void 0),r=r||{};for(var a,o=["complete","error","success"];a=o.pop();)e.isFunction(r[a])&&(r[a]=t.wrap(r[a]));try{return n?i.call(this,n,r):i.call(this,r)}catch(n){throw t.report(n),n}})}(window.jQuery,window.TraceKit),Date.prototype.toISOString||function(){function e(e){var t=String(e);return 1===t.length&&(t="0"+t),t}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0==i)return-1;var a=0|t;if(i<=a)return-1;for(n=Math.max(0<=a?a:i-Math.abs(a),0);n<i;){if(n in r&&r[n]===e)return n;n++}return-1}),Array.prototype.map||(Array.prototype.map=function(e){var t,n,r;if(null==this)throw new TypeError("this is null or not defined");var i,a,o=Object(this),s=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(t=arguments[1]),n=new Array(s),r=0;r<s;)r in o&&(i=o[r],a=e.call(t,i,r,o),n[r]=a),r++;return n}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,n;if(null==this)throw new TypeError("this is null or not defined");var r,i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(t=arguments[1]),n=0;n<a;)n in i&&(r=i[n],e.call(t,r,n,i)),n++}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){}function n(){return i.apply(this instanceof t&&e?this:e,r.concat(Array.prototype.slice.call(arguments)))}var r=Array.prototype.slice.call(arguments,1),i=this;return t.prototype=this.prototype,n.prototype=new t,n}),function(){var e,t,n,r,i,a,o,s,u,c,l,d;"undefined"!=typeof document&&(i={passive:!0,capture:!0},a=new Date,o=function(){r=[],t=-1,e=null,l(addEventListener)},s=function(r,i){e||(e=i,t=r,n=new Date,l(removeEventListener),u())},u=function(){var i;0<=t&&t<n-a&&(i={entryType:"first-input",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+t},r.forEach((function(e){e(i)})),r=[])},c=function(e){var t,n,r,a;function o(){s(n,r),a()}function u(){a()}e.cancelable&&(t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp,"pointerdown"==e.type?(n=t,r=e,a=function(){removeEventListener("pointerup",o,i),removeEventListener("pointercancel",u,i)},addEventListener("pointerup",o,i),addEventListener("pointercancel",u,i)):s(t,e))},l=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,c,i)}))},d="hidden"===document.visibilityState?0:1/0,addEventListener("visibilitychange",(function e(t){"hidden"===document.visibilityState&&(d=t.timeStamp,removeEventListener("visibilitychange",e,!0))}),!0),o(),self.webVitals={firstInputPolyfill:function(e){r.push(e),u()},resetFirstInputPolyfill:o,get firstHiddenTime(){return d}})}(),window.raygunUtilityFactory=function(e,t){var n,r={getUuid:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return e()+e(!0)+e(!0)+e()},createCookie:function(e,t,n,r){var i,a,o;this.isReactNative()||(a=n?((i=new Date).setTime(i.getTime()+60*n*60*1e3),"; expires="+i.toGMTString()):"",o=r?"; secure":"",document.cookie=e+"="+t+a+"; path=/"+o)},readCookie:function(e){if(this.isReactNative())return"none";for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},clearCookie:function(e){this.isReactNative()||this.createCookie(e,"",-1)},log:function(n,r){t.Options._debugMode&&e.console&&e.console.log&&(e.console.log(n),r&&e.console.log(r))},isApiKeyConfigured:function(){return!(!t.Options._raygunApiKey||""===t.Options._raygunApiKey)||(t.Utilities.log("Raygun API key has not been configured."),!1)},isReactNative:function(){return"undefined"==typeof document&&"undefined"!=typeof __DEV__},defaultReactNativeGlobalHandler:function(e,t){"function"==typeof n&&n(e,t)},localStorageAvailable:function(){try{return"localStorage"in e&&null!==e.localStorage}catch(e){return!1}},sessionStorageAvailable:function(){try{return"sessionStorage"in e&&null!==e.sessionStorage}catch(e){return!1}},truncateURL:function(e){var t,n,r,i,a=e,o=e.split("//")[1];return o&&(t=o.indexOf("?"),r=(n=o.toString().substring(0,t)).split("/").slice(0,4).join("/"),i=n.substring(0,48),(a=r.length<i.length?r:i)!==n&&(a+="..")),a},merge:function(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r},mergeMutate:function(e,t){var n;for(n in t)e[n]=t[n];return e},mergeArray:function(e,t){return null!=t?e.concat(t):e.slice(0)},forEach:function(e,t){for(var n=0;n<e.length;n++)t.call(null,n,e[n])},isEmpty:function(e){if(this.isNil(e))return!0;if("string"==typeof e||e instanceof Array)return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},isNil:function(e){return null==e},contains:function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},getRandomInt:function(){return Math.floor(9007199254740992*Math.random())},parseUrl:function(t,n){function r(e){return!isNaN(parseFloat(e))&&isFinite(e)}return function(t,n){if("undefined"==typeof document)return"";var i=n||e.location.toString();if(!t)return i;t=t.toString(),"//"===i.substring(0,2)?i="http:"+i:1===i.split("://").length&&(i="http://"+i);var a={auth:""},o=1===(o=(n=i.split("/"))[2].split("@")).length?o[0].split(":"):(a.auth=o[0],o[1].split(":"));a.protocol=n[0],a.hostname=o[0],a.port=o[1]||("https"===a.protocol.split(":")[0].toLowerCase()?"443":"80"),a.pathname=(3<n.length?"/":"")+n.slice(3,n.length).join("/").split("?")[0].split("#")[0];var s=a.pathname;"/"===s.charAt(s.length-1)&&(s=s.substring(0,s.length-1));var u=a.hostname,c=u.split("."),l=s.split("/");if("hostname"===t)return u;if("domain"===t)return/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(u)?u:c.slice(-2).join(".");if("sub"===t)return c.slice(0,c.length-2).join(".");if("port"===t)return a.port;if("protocol"===t)return a.protocol.split(":")[0];if("auth"===t)return a.auth;if("user"===t)return a.auth.split(":")[0];if("pass"===t)return a.auth.split(":")[1]||"";if("path"===t)return a.pathname;if("."===t.charAt(0)){if(r(t=t.substring(1)))return c[(t=parseInt(t,10))<0?c.length+t:t-1]||""}else{if(r(t))return l[(t=parseInt(t,10))<0?l.length+t:t]||"";if("file"===t)return l.slice(-1)[0];if("filename"===t)return l.slice(-1)[0].split(".")[0];if("fileext"===t)return l.slice(-1)[0].split(".")[1]||"";if("?"===t.charAt(0)||"#"===t.charAt(0)){var d=i,f=null;if("?"===t.charAt(0)?d=(d.split("?")[1]||"").split("#")[0]:"#"===t.charAt(0)&&(d=d.split("#")[1]||""),!t.charAt(1))return d;t=t.substring(1);for(var g=0,p=(d=d.split("&")).length;g<p;g++)if((f=d[g].split("="))[0]===t)return f[1]||"";return null}}return""}(t,n)},enhance:function(e,t,n){var r=e[t];return e[t]=function(){n.apply(this,arguments),"function"==typeof r&&r.apply(this,arguments)},function(){e[t]=r}},addEventHandler:function(e,t,n,r){var i=r||!1;return e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n,function(){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=function(){}}},nodeText:function(e){var t=e.textContent||e.innerText||"";return-1!==["submit","button"].indexOf(e.type)&&(t=e.value||t),t=t.replace(/^\s+|\s+$/g,"")},nodeSelector:function(e){var t=[e.tagName];return e.id&&t.push("#"+e.id),e.className&&e.className.length&&t.push("."+e.className.split(" ").join(".")),t.join("")},truncate:function(e,t){return e.length>t?e.slice(0,t-"(...)".length)+"(...)":e},getOrigin:function(){return e.location.origin?e.location.origin:e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")},resolveFullUrl:function(t){if(t&&0===t.indexOf("//")&&(t=e.location.protocol+t),t&&e.location.pathname&&-1===t.indexOf("://")){var n=this.getOrigin();if(0===t.indexOf("/"))return n+t;var r=e.location.pathname.split("/");return r.pop(),n+r.join("/")+"/"+t}return t},removeFromArray:function(e,t){for(var n=[],r=0;r<e.length;r++)e[r]!==t&&n.push(e[r]);return n},isIE:function(){return-1<e.navigator.userAgent.indexOf("Trident")||-1<e.navigator.userAgent.indexOf("MSIE")},any:function(e,t){if(this.isEmpty(e))return!1;for(var n=0;n<e.length;n++)if(!0===t(e[n]))return!0;return!1}};return r.isReactNative()&&!0!==__DEV__&&e.ErrorUtils&&e.ErrorUtils.getGlobalHandler&&(n=e.ErrorUtils.getGlobalHandler()),r},window.raygunErrorUtilitiesFactory=function(e,t){function n(e){return!o.isNil(e.line)&&0<e.line||!o.isNil(e.column)&&0<e.column||!(o.isNil(e.url)||-1!==a.indexOf(e.url)&&"?"===e.func)}var r="Script error",i=e&&e.location?e.location:{host:null,toString:function(){return null}},a=i.toString(),o=t.Utilities;return{isScriptError:function(e,t){var n=r;return e.message?n=e.message:t&&t.status&&(n=t.status),o.isNil(n)&&(n=r),!(o.isReactNative()||"function"!=typeof n.substring||n.substring(0,r.length)!==r||o.isNil(e.stack[0].url)||-1!==e.stack[0].url.indexOf(i.host)||0!==e.stack[0].line&&"?"!==e.stack[0].func)},isBrowserExtensionError:function(e){var t=e.stack;return!o.isEmpty(t)&&o.any(t,(function(e){var t,n=e.url;return!o.isNil(n)&&(0===(t=n).indexOf("chrome-extension://")||0===t.indexOf("moz-extension://")||0===t.indexOf("safari-extension://")||0===t.indexOf("safari-web-extension://"))}))},isValidStackTrace:function(e){var t=e.stack;return!o.isNil(e.message)&&!o.isEmpty(t)&&o.any(t,n)},stackTraceHasValidDomain:function(e,t){for(var n=!1,r=0;!n&&e.stack&&r<e.stack.length;r++){var a=e.stack[r];if(!o.isNil(a)&&!o.isNil(a.url)){for(var s in t)t.hasOwnProperty(s)&&-1<a.url.indexOf(t[s])&&(n=!0);-1<a.url.indexOf(i.host)&&(n=!0)}}return n}}},window.raygunNetworkTrackingFactory=function(e,t){function n(){this.requestHandlers=[],this.responseHandlers=[],this.errorHandlers=[],this.wrapWithHandler=function(e){return function(){try{return e.apply(this,arguments)}catch(e){t.Utilities.log(e)}}},this.executeHandlers=this.wrapWithHandler((function(e,t){for(var n=0;n<e.length;n++)e[n](JSON.parse(JSON.stringify(t)))})),this.wrapPrototypeWithHandlers(),this.attach()}return n.prototype.on=function(e,t){switch(e){case"request":this.requestHandlers.push(t);break;case"response":this.responseHandlers.push(t);break;case"error":this.errorHandlers.push(t)}},n.prototype.off=function(e,n){switch(e){case"request":this.requestHandlers=t.Utilities.removeFromArray(this.requestHandlers,n);break;case"response":this.responseHandlers=t.Utilities.removeFromArray(this.responseHandlers,n);break;case"error":this.errorHandlers=t.Utilities.removeFromArray(this.errorHandlers,n)}},n.prototype.attach=function(){var n=this;e.XMLHttpRequest.prototype.addEventListener&&t.Utilities.enhance(e.XMLHttpRequest.prototype,"open",n.wrapWithHandler((function(){var e=(new Date).getTime(),r=t.Utilities.resolveFullUrl(arguments[1])||"Unknown",i=r.split("?")[0],a=arguments[0];t.Utilities.enhance(this,"send",n.wrapWithHandler((function(){var e={method:a,requestURL:r,baseUrl:i};arguments[0]&&"string"==typeof arguments[0]&&(e.body=arguments[0]),n.executeHandlers(n.requestHandlers,e)}))),this.addEventListener("load",n.wrapWithHandler((function(){var a="N/A for non text responses";""!==this.responseType&&"text"!==this.responseType||(a=this.responseText),t.Utilities.log("Tracking XHR response for",r),n.executeHandlers(n.responseHandlers,{status:this.status,requestURL:r,responseURL:this.responseURL,baseUrl:i,body:a,duration:(new Date).getTime()-e})}))),this.addEventListener("error",n.wrapWithHandler((function(){n.executeHandlers(n.errorHandlers,{requestURL:r,responseURL:this.responseURL,duration:(new Date).getTime()-e})})))})));var r,i=e.__raygunOriginalFetch||e.fetch;"function"!=typeof i||void 0!==i.polyfill||t.Utilities.isIE()||(r=function(){var r,a,o=arguments[0],s=arguments[1],u=s&&s.method||"GET",c=(new Date).getTime();"string"==typeof o?r=o:void 0!==e.Request&&o instanceof e.Request?(r=o.url,o.method&&(u=o.method)):r=String(o),r=t.Utilities.resolveFullUrl(r),a=r.split("?")[0];var l=i.apply(null,arguments);try{var d={method:u,requestURL:r,baseUrl:a};s&&s.body&&(d.body=s.body),n.executeHandlers(n.requestHandlers,d),l.then(n.wrapWithHandler((function(e){var i="N/A when the fetch response does not support clone()",o="function"==typeof e.clone?e.clone():void 0;function s(){t.Utilities.log("tracking fetch response for",r),n.executeHandlers(n.responseHandlers,{status:e.status,requestURL:r,responseURL:e.url,body:i,baseUrl:a,duration:(new Date).getTime()-c})}if(o)try{o.text().then((function(e){i=t.Utilities.truncate(e,500),s()})).catch((function(){s()}))}catch(e){s()}else s()}))).catch(n.wrapWithHandler((function(e){n.executeHandlers(n.errorHandlers,{metadata:{requestUrl:r,error:e.toString(),duration:(new Date).getTime()-c}})})))}catch(o){t.Utilities.log(o)}return l},e.__raygunOriginalFetch?e.__raygunFetchCallback=r:e.fetch=r)},n.prototype.wrapPrototypeWithHandlers=function(){var e,t;for(e in n.prototype)"function"==typeof(t=n.prototype[e])&&(n.prototype[e]=this.wrapWithHandler(t))},new n},window.raygunViewportFactory=function(e,t,n){"use strict";function r(e){return!i.isNil(e)&&!isNaN(e)&&0<e}var i=n.Utilities,a={width:null,height:null};return{getViewportDimensions:function(){if(i.isNil(t)||i.isNil(e))return a;var n=Math.max(t.documentElement.clientWidth||0,e.innerWidth||0),o=Math.max(t.documentElement.clientHeight||0,e.innerHeight||0);return r(n)||r(o)?{width:n,height:o}:a}}},window.raygunBreadcrumbsFactory=function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("string"==typeof r&&e&&-1<e.indexOf(r))return!0;if("object"==typeof r&&r.exec(e))return!0}return!1}function r(){this.MAX_BREADCRUMBS=32,this.MAX_MESSAGE_SIZE=1024,this.BREADCRUMB_LEVELS=["debug","info","warning","error"],this.DEFAULT_BREADCRUMB_LEVEL="info",this.DEFAULT_XHR_IGNORED_HOSTS=["raygun"],this.breadcrumbLevel="info",this.logXhrContents=!1,this.xhrIgnoredHosts=[].concat(this.DEFAULT_XHR_IGNORED_HOSTS),this.breadcrumbs=[],this.wrapWithHandler=function(e){return function(){try{return e.apply(this,arguments)}catch(e){t.Utilities.log(e)}}},this.disableConsoleFunctions=[],this.disableNavigationFunctions=[],this.disableXHRLogging=function(){},this.disableClicksTracking=function(){},this.enableAutoBreadcrumbs(),this.wrapPrototypeWithHandlers()}return r.prototype.recordBreadcrumb=function(e,n){var r={level:this.DEFAULT_BREADCRUMB_LEVEL,timestamp:(new Date).getTime(),type:"manual"};switch(typeof e){case"object":r=t.Utilities.merge(r,e);break;case"string":r=t.Utilities.merge(t.Utilities.merge(r,{message:e,metadata:n}));break;default:return void t.Utilities.log("expected first argument to recordBreadcrumb to be a 'string' or 'object', got "+typeof e)}-1===this.BREADCRUMB_LEVELS.indexOf(r.level)&&(t.Utilities.log("unknown breadcrumb level "+r.level+" setting to default of '"+this.DEFAULT_BREADCRUMB_LEVEL+"'"),r.level=this.DEFAULT_BREADCRUMB_LEVEL),this.shouldRecord(r)&&(r.message=t.Utilities.truncate(r.message,this.MAX_MESSAGE_SIZE),this.breadcrumbs.push(r),this.breadcrumbs=this.breadcrumbs.slice(-this.MAX_BREADCRUMBS))},r.prototype.shouldRecord=function(e){var t=this.BREADCRUMB_LEVELS.indexOf(e.level);return this.BREADCRUMB_LEVELS.indexOf(this.breadcrumbLevel)<=t},r.prototype.setBreadcrumbLevel=function(e){-1!==this.BREADCRUMB_LEVELS.indexOf(e)?this.breadcrumbLevel=e:t.Utilities.log("Breadcrumb level of '"+e+"' is invalid, setting to default of '"+this.DEFAULT_BREADCRUMB_LEVEL+"'")},r.prototype.setOption=function(e,t){var r;"breadcrumbsLevel"===e?this.setBreadcrumbLevel(t):"xhrIgnoredHosts"===e?(this.xhrIgnoredHosts=t.concat(this.DEFAULT_XHR_IGNORED_HOSTS),(r=this).removeBreadcrumbsWithPredicate((function(e){return"request"===e.type&&n(e.metadata.requestURL||e.metadata.responseURL,r.xhrIgnoredHosts)}))):"logXhrContents"===e&&(this.logXhrContents=t)},r.prototype.any=function(){return 0<this.breadcrumbs.length},r.prototype.all=function(){for(var e=[],t=0;t<this.breadcrumbs.length;t++){var n=this.breadcrumbs[t];n&&"request"===n.type&&!this.logXhrContents&&n.metadata&&n.metadata.body&&(n.metadata.body="Disabled because logContentsOfXhrCalls has not been enabled"),e.push(n)}return e},r.prototype.enableAutoBreadcrumbs=function(){this.enableAutoBreadcrumbsXHR(),this.enableAutoBreadcrumbsClicks(),this.enableAutoBreadcrumbsConsole(),this.enableAutoBreadcrumbsNavigation()},r.prototype.disableAutoBreadcrumbs=function(){this.disableAutoBreadcrumbsXHR(),this.disableAutoBreadcrumbsClicks(),this.disableAutoBreadcrumbsConsole(),this.disableAutoBreadcrumbsNavigation()},r.prototype.removeBreadcrumbsWithPredicate=function(e){for(var t=this.breadcrumbs,n=[],r=0;r<t.length;r++){var i=t[r];e(i)||n.push(i)}this.breadcrumbs=n},r.prototype.removeCrumbsOfType=function(e){this.removeBreadcrumbsWithPredicate((function(t){return t.type===e}))},r.prototype.enableAutoBreadcrumbsConsole=function(){var n,r;void 0!==e.console&&(n=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=t[r];null!=i&&n.push(i.toString())}this.recordBreadcrumb({type:"console",level:e,message:Array.prototype.slice.call(n).join(", ")})}.bind(this),(r=this).disableConsoleFunctions=["log","warn","error"].map((function(e){return t.Utilities.enhance(console,e,r.wrapWithHandler((function(){n("log"===e?"info":"warn"===e?"warning":"error",arguments)})))})))},r.prototype.disableAutoBreadcrumbsConsole=function(){this.disableConsoleFunctions.forEach((function(e){e()})),this.removeCrumbsOfType("console")},r.prototype.enableAutoBreadcrumbsNavigation=function(){var n,r,i,a;e.addEventListener&&e.history&&e.history.pushState&&(n=function(t,n,r,i){var a=location.pathname+location.search+location.hash,o=null;return e.history.state&&(o=history.state),{message:"History "+t,type:"navigation",level:"info",metadata:{from:a,to:i||a,prevState:JSON.stringify(o)||"unsupported",nextState:JSON.stringify(n)}}}.bind(this),r=function(e){return e.split("#")[1]||""},this.disableNavigationFunctions=this.disableNavigationFunctions.concat(["pushState","replaceState"].map(function(e){return t.Utilities.enhance(history,e,this.wrapWithHandler(function(t,r,i){this.recordBreadcrumb(n(e,t,r,i))}.bind(this)))}.bind(this))),i=function(e){return this.wrapWithHandler(function(){this.recordBreadcrumb(e.apply(null,arguments))}.bind(this))}.bind(this),a=[{element:e,event:"hashchange",handler:function(e){var t=e.oldURL,n=e.newURL;return{type:"navigation",message:"Hash change",metadata:t&&n?{from:r(t),to:r(n)}:{to:location.hash}}}},{element:e,event:"load",handler:function(){return{type:"navigation",message:"Page loaded"}}},{element:e,event:"popstate",handler:function(){return{type:"navigation",message:"Navigated back"}}},{element:e,event:"pagehide",handler:function(){return{type:"navigation",message:"Page hidden"}}},{element:e,event:"pageshow",handler:function(){return{type:"navigation",message:"Page shown"}}},{element:document,event:"DOMContentLoaded",handler:function(){return{type:"navigation",message:"DOMContentLoaded"}}}],this.disableNavigationFunctions=this.disableNavigationFunctions.concat(a.map(function(e){return t.Utilities.addEventHandler(e.element,e.event,i(e.handler))}.bind(this))))},r.prototype.disableAutoBreadcrumbsNavigation=function(){this.disableNavigationFunctions.forEach((function(e){e()})),this.disableNavigationFunctions=[],this.removeCrumbsOfType("navigation")},r.prototype.enableAutoBreadcrumbsClicks=function(){this.disableClicksTracking=t.Utilities.addEventHandler(e,"click",this.wrapWithHandler(function(e){var n,r;try{n=t.Utilities.truncate(t.Utilities.nodeText(e.target),150),r=t.Utilities.nodeSelector(e.target)}catch(e){r=n="[unknown]",t.Utilities.log("Error retrieving node text/selector. Most likely due to a cross domain error")}this.recordBreadcrumb({type:"click-event",message:"UI Click",level:"info",metadata:{text:n,selector:r}})}.bind(this),!0))},r.prototype.disableAutoBreadcrumbsClicks=function(){this.disableClicksTracking(),this.removeCrumbsOfType("click-event")},r.prototype.enableAutoBreadcrumbsXHR=function(){var e=this,r=e.wrapWithHandler((function(r){n(r.requestURL,e.xhrIgnoredHosts)||(r.body&&(r.body=t.Utilities.truncate(r.body,500)),e.recordBreadcrumb({type:"request",message:"Opening request to "+r.requestURL,level:"info",metadata:r}))})),i=e.wrapWithHandler((function(r){n(r.requestURL,e.xhrIgnoredHosts)||n(r.responseURL,e.xhrIgnoredHosts)||(r.body&&(r.body=t.Utilities.truncate(r.body,500)),r.duration=r.duration+"ms",e.recordBreadcrumb({type:"request",message:"Finished request to "+r.requestURL,level:"info",metadata:r}))})),a=e.wrapWithHandler((function(t){n(t.requestURL,e.xhrIgnoredHosts)||(t.duration=t.duration+"ms",e.recordBreadcrumb({type:"request",message:"Failed request to "+t.requestUrl,level:"info",metadata:t}))}));t.NetworkTracking.on("request",r),t.NetworkTracking.on("response",i),t.NetworkTracking.on("error",a),this.disableXHRLogging=function(){t.NetworkTracking.off("request",r),t.NetworkTracking.off("response",i),t.NetworkTracking.off("error",a)}},r.prototype.disableAutoBreadcrumbsXHR=function(){this.disableXHRLogging(),this.removeCrumbsOfType("request")},r.prototype.wrapPrototypeWithHandlers=function(){var e,t;for(e in r.prototype)"function"==typeof(t=r.prototype[e])&&(r.prototype[e]=this.wrapWithHandler(t))},r},window.raygunCoreWebVitalFactory=raygunCoreWebVitalFactory;var raygunFactory=function(e,t,n){var r={};r.Utilities=raygunUtilityFactory(e,r),r.ErrorUtilities=raygunErrorUtilitiesFactory(e,r),r.NetworkTracking=raygunNetworkTrackingFactory(e,r),r.Breadcrumbs=raygunBreadcrumbsFactory(e,r),r.CoreWebVitals=raygunCoreWebVitalFactory(e),r.Viewport=raygunViewportFactory(e,document,r);var i,a,o,s,u,c,l,d,f,g,p,h,m=0,v=1,y="raygun4js-userid",b=TraceKit,w=e.Raygun,U=!1,S=!1,E=!1,k=!1,R=!1,x=!1,T=!1,A=!0,C=!1,L=!1,N=!0,O=!0,D={},B=[],H=[],M="https://api.raygun.io",F=null,I=null,q="customData",P=null,_=new r.Breadcrumbs,V=null,j=!0,W=m,J=[],X=[],K=null,$=!0,G=!1,z=!1,Q={Rand:Math.random(),Options:{},noConflict:function(){return w&&(e.Raygun=w),r},constructNewRaygun:function(){return raygunFactory(e,e.jQuery)},init:function(e,a,o){return b.remoteFetching=!1,this.Options._raygunApiKey=e,o&&(D=o),t&&(g=t(document)),a&&(S=a.ignoreAjaxAbort||!1,E=a.ignoreAjaxError||!1,x=a.disableAnonymousUserTracking||!1,T=a.disableErrorTracking||!1,A=a.disablePulse===n||a.disablePulse,F=a.excludedHostnames||!1,I=a.excludedUserAgents||!1,V=a.pulseMaxVirtualPageDuration||null,j=a.pulseIgnoreUrlCasing||!1,K=a.pulseCustomLoadTimeEnabled||!1,G=a.setCookieAsSecure||!1,z=a.captureMissingRequests||!1,L=a.automaticPerformanceCustomTimings||!1,N=a.trackCoreWebVitals===n||a.trackCoreWebVitals,O=a.trackViewportDimensions===n||a.trackViewportDimensions,a.apiUrl&&(M=a.apiUrl),void 0!==a.wrapAsynchronousCallbacks&&(C=a.wrapAsynchronousCallbacks),void 0!==a.captureUnhandledRejections&&($=a.captureUnhandledRejections),a.debugMode&&(U=a.debugMode),this.Options._debugMode=U,a.ignore3rdPartyErrors&&(R=!0),a.apiEndpoint&&(M=a.apiEndpoint),a.from&&(f=a.from),a.clientIp&&(p=a.clientIp)),i||x?te():function(e){var t;if(r.Utilities.localStorageAvailable()&&null!==(t=localStorage.getItem(y)))return e(t);null!==(t=r.Utilities.readCookie(y))&&r.Utilities.localStorageAvailable()&&(r.Utilities.clearCookie(y),localStorage.setItem(y,t)),e(t)}(Y),r},withCustomData:function(e){return D=e,r},withTags:function(e){return B=e,P!==n&&null!==P&&P.withTags(e),r},attach:function(){return!r.Utilities.isApiKeyConfigured()||T||(e.RaygunObject&&e[e.RaygunObject]&&e[e.RaygunObject].q&&(e.onerror=null),$&&(h=r.Utilities.addEventHandler(e,"unhandledrejection",ee)),r.Utilities.isReactNative()&&!0!==__DEV__&&e.ErrorUtils&&e.ErrorUtils.setGlobalHandler&&e.ErrorUtils.setGlobalHandler((function(e,t){var n=d;d=function(){"function"==typeof n&&n(),r.Utilities.defaultReactNativeGlobalHandler(e,t),d=n},TraceKit.report(e)})),b.report.subscribe(se),C&&b.extendToAsynchronousCallbacks(),g&&g.ajaxError&&!E&&g.ajaxError(oe)),r},detach:function(){return b.report.unsubscribe(se),g&&g.unbind("ajaxError",oe),$&&h&&h(),r},send:function(e,t,n){if(T)return r.Utilities.log("Error not sent due to disabled error tracking"),r;try{se(b.computeStackTrace(e),{customData:"function"==typeof D?r.Utilities.merge(D(),t):r.Utilities.merge(D,t),tags:"function"==typeof B?r.Utilities.mergeArray(B(),n):r.Utilities.mergeArray(B,n)},!0,e)}catch(t){if(e!==t)throw t}return r},setUser:function(e,t,a,o,s,u){return i={Identifier:e},"boolean"==typeof t&&(i.IsAnonymous=t),a&&(i.Email=a),o&&(i.FullName=o),s&&(i.FirstName=s),u&&(i.UUID=u),P!==n&&null!==P&&P.setUser(i),r},resetAnonymousUser:function(){r.Utilities.localStorageAvailable()?localStorage.removeItem(y):r.Utilities.clearCookie(y)},setVersion:function(e){return a=e,r},saveIfOffline:function(e){return void 0!==e&&"boolean"==typeof e&&(k=e),r},filterSensitiveData:function(e){return o=e,r},setFilterScope:function(e){return"customData"!==e&&"all"!==e||(q=e),r},whitelistCrossOriginDomains:function(e){return H=e,r},onBeforeSend:function(e){return s=e,r},onBeforeSendRum:function(e){return u=e,r},groupingKey:function(e){return c=e,r},onBeforeXHR:function(e){return l=e,r},onAfterSend:function(e){return d=e,r},endSession:function(){r.RealUserMonitoring!==n&&P&&P.endSession()},trackEvent:function(e,t){var i;W===v?r.RealUserMonitoring!==n&&P&&(i=P.parentResource,"pageView"===e&&t.path?P.virtualPageLoaded(t.path):"customTiming"===e?P.trackCustomTiming(t.name,t.duration,t.offset,i):"customTimings"===e&&t.timings&&P.sendCustomTimings(t.timings,i)):X.push({type:e,options:t})},setClientIp:function(e){p=e},captureMissingRequests:function(e){r.RealUserMonitoring!==n&&P&&P.captureMissingRequests(e)},recordBreadcrumb:function(){_.recordBreadcrumb.apply(_,arguments)},enableAutoBreadcrumbs:function(e){e?_["enableAutoBreadcrumbs"+e]():_.enableAutoBreadcrumbs()},disableAutoBreadcrumbs:function(e){e?_["disableAutoBreadcrumbs"+e]():_.disableAutoBreadcrumbs()},setBreadcrumbOption:function(e,t){_.setOption(e,t)},setBreadcrumbs:function(e){_=e},getBreadcrumbs:function(){return _.all()}};function Z(e){"function"==typeof d&&d(e)}function Y(e){var t,n="Unknown";e?n=e:(t=n=r.Utilities.getUuid(),r.Utilities.localStorageAvailable()?localStorage.setItem(y,t):r.Utilities.createCookie(y,t,744,G)),r.setUser(n,!0,null,null,null,n),te()}function ee(e){var t=e.reason;!t&&e.detail&&e.detail.reason&&(t=e.detail.reason),t instanceof Error||!e.reason||!e.reason.error||(t=e.reason.error),t||((t=new Error("Unhandled promise rejection")).stack=null),Q.send(t,null,["UnhandledPromiseRejection"])}function te(){var t;W!==v&&(W=v,r.RealUserMonitoring===n||A||(t=function(){(P=new r.RealUserMonitoring(r.Options._raygunApiKey,M,ce,i,a,B,F,I,U,V,j,K,u,G,z,L,N,O)).attach()},r.Utilities.isReactNative()?r.Utilities.log("Not enabling RUM because Raygun4JS has detected a React Native environment, see #310 on Github"):"onLoad"===f?t():e.addEventListener?e.addEventListener("load",t):e.attachEvent("onload",t)),function(){var e;for(e=0;e<J.length;e++)se(J[e].stackTrace,J[e].options,J[e].userTriggered,J[e].error);for(J=[],e=0;e<X.length;e++)Q.trackEvent(X[e].type,X[e].options);X=[]}(),re())}function ne(e,t){var n=(new Date).toJSON();try{var i="raygunjs+"+r.Options._raygunApiKey+"="+n+"="+r.Utilities.getRandomInt();void 0===localStorage[i]&&(localStorage[i]=JSON.stringify({url:e,data:t}))}catch(e){r.Utilities.log("Raygun4JS: LocalStorage full, cannot save exception")}}function re(){if(r.Utilities.localStorageAvailable())for(var e in localStorage)if(-1<e.indexOf("raygunjs+"+r.Options._raygunApiKey)){try{var t=JSON.parse(localStorage[e]);ce(t.url,t.data)}catch(e){r.Utilities.log("Raygun4JS: Invalid JSON object in LocalStorage")}try{localStorage.removeItem(e)}catch(e){r.Utilities.log("Raygun4JS: Unable to remove error")}}}function ie(e,t){if(o)for(var r=0;r<o.length;r++)if("object"==typeof o[r]&&"function"==typeof o[r].exec){var i=o[r].exec(e);if(null!==i&&i!==n)return"[removed by filter]"}else if(o[r]===e)return"[removed by filter]";return t}function ae(e,t){if(null==e)return e;if("[object Object]"!==Object.prototype.toString.call(e))return e;var n={};for(var r in e){var i=e[r];"[object Object]"===Object.prototype.toString.call(i)?n[r]="Details"!==t||"Client"!==r?ae(ie(r,i),r):i:"[object Function]"!==Object.prototype.toString.call(i)&&(void 0!==t?n[r]=ie(r,i):"OccurredOn"===r&&(n[r]=i))}return n}function oe(e,t,i,a){var o="AJAX Error: "+(t.statusText||"unknown")+" "+(i.type||"unknown")+" "+(r.Utilities.truncateURL(i.url)||"unknown");(!S||0!==t.status&&t.getAllResponseHeaders())&&r.send(a||e.type,{status:t.status,statusText:t.statusText,type:i.type,url:i.url,ajaxErrorMessage:o,contentType:i.contentType,requestData:i.data&&i.data.slice?i.data.slice(0,10240):n,responseData:t.responseText&&t.responseText.slice?t.responseText.slice(0,10240):n,activeTarget:e.target&&e.target.activeElement&&e.target.activeElement.outerHTML&&e.target.activeElement.outerHTML.slice?e.target.activeElement.outerHTML.slice(0,10240):n})}function se(t,o,u,l){if(W===v){var d="Script error",f=[],g={};if(!R||!function(e,t){return r.Utilities.isEmpty(e.stack)?(r.Utilities.log("Raygun4JS: Cancelling send due to null stacktrace"),1):r.ErrorUtilities.isScriptError(e,t)?(r.Utilities.log("Raygun4JS: cancelling send due to third-party script error with no stacktrace and message",{stackTrace:e,options:t}),1):r.ErrorUtilities.isBrowserExtensionError(e)?(r.Utilities.log("Raygun4JS: cancelling send due to the error coming from a browser extension",e),1):r.ErrorUtilities.isValidStackTrace(e)?!r.ErrorUtilities.stackTraceHasValidDomain(e,H)&&(r.Utilities.log("Raygun4JS: cancelling send due to error on non-origin, non-whitelisted domain"),!0):(r.Utilities.log("Raygun4JS: cancelling send due to invalid stacktrace data",e),!0)}(t,o)){if(F instanceof Array)for(var p in F)if(F.hasOwnProperty(p)&&e.location.hostname&&e.location.hostname.match(F[p]))return void r.Utilities.log("Raygun4JS: cancelling send as error originates from an excluded hostname");if(I instanceof Array&&!r.Utilities.isReactNative())for(var h in I)if(I.hasOwnProperty(h)&&e.raygunUserAgent.match(I[h]))return void r.Utilities.log("Raygun4JS: cancelling send as error originates from an excluded user agent");if(r.Utilities.isReactNative()||!e.raygunUserAgent.match("RaygunPulseInsightsCrawler")){t.stack&&t.stack.length&&r.Utilities.forEach(t.stack,(function(e,t){f.push({LineNumber:t.line,ColumnNumber:t.column,ClassName:"line "+t.line+", column "+t.column,FileName:t.url,MethodName:t.func||"[anonymous]"})}));var m=r.Utilities.parseUrl("?");0<m.length&&r.Utilities.forEach(m.split("&"),(function(e,t){var n,r,i=t.split("=");i&&2===i.length&&(r=ie(n=decodeURIComponent(i[0]),i[1]),g[n]=r)})),o===n&&(o={}),r.Utilities.isEmpty(o.customData)&&(o.customData="function"==typeof D?D():D),r.Utilities.isEmpty(o.tags)&&(o.tags="function"==typeof B?B():"string"==typeof B?[B]:B),u||(o.tags||(o.tags=[]),r.Utilities.contains(o.tags,"UnhandledException")||o.tags.push("UnhandledException")),r.Utilities.isReactNative()&&!r.Utilities.contains(o.tags,"React Native")&&o.tags.push("React Native");var y=r.Viewport.getViewportDimensions(),b=e.screen||{width:y.width,height:y.height,colorDepth:8},w=o.customData&&o.customData.ajaxErrorMessage,U="customData"===q?ae(o.customData,"UserCustomData"):o.customData;try{JSON.stringify(U)}catch(t){var S="Cannot add custom data; may contain circular reference";U={error:S},r.Utilities.log("Raygun4JS: "+S)}var E,k=d;w?k=w:t.message?k=t.message:o&&o.status?k=o.status:"string"==typeof l&&(k=l),void 0===k&&(k=d),k&&"string"==typeof k&&(k=k.substring(0,512)),E=r.Utilities.isReactNative()?"/":[location.protocol,"//",location.host,location.pathname,location.hash].join("");var x,T={OccurredOn:new Date,Details:{Error:{ClassName:t.name,Message:k,StackTrace:f,StackString:t.stackstring},Environment:{UtcOffset:(new Date).getTimezoneOffset()/-60,"User-Language":navigator.userLanguage,"Document-Mode":r.Utilities.isReactNative()?"Not available":document.documentMode,"Browser-Width":y.width,"Browser-Height":y.height,"Screen-Width":b.width,"Screen-Height":b.height,"Color-Depth":b.colorDepth,Browser:navigator.appCodeName,"Browser-Name":navigator.appName,"Browser-Version":navigator.appVersion,Platform:navigator.platform},Client:{Name:"raygun-js",Version:"2.26.0"},UserCustomData:U,Tags:o.tags,Request:{Url:E,QueryString:g,Headers:{"User-Agent":e.raygunUserAgent,Referer:r.Utilities.isReactNative()?"Not available":document.referrer,Host:r.Utilities.isReactNative()?"Not available":document.domain}},Version:a||"Not supplied"}};T.Details.User=i,_.any()&&(T.Details.Breadcrumbs=[],(_.all()||[]).forEach((function(e){e.metadata&&(e.CustomData=e.metadata,delete e.metadata),T.Details.Breadcrumbs.push(e)}))),"all"===q&&(T=ae(T)),"function"==typeof c&&(r.Utilities.log("Raygun4JS: calling custom grouping key"),T.Details.GroupingKey=c(T,t,o)),"function"==typeof s?(x=s(T))&&ue(x):ue(T)}}}else J.push({stackTrace:t,options:o,userTriggered:u,error:l})}function ue(e){r.Utilities.isApiKeyConfigured()&&(r.Utilities.log("Sending exception data to Raygun:",e),ce(M+"/entries?apikey="+encodeURIComponent(r.Options._raygunApiKey),JSON.stringify(e)))}function ce(t,n,i,a){var o,s,u=("POST",o=t,(s=new e.XMLHttpRequest).timeout=1e4,("withCredentials"in s||r.Utilities.isReactNative())&&s.open("POST",o,!0),s);"function"==typeof u.setRequestHeader&&(u.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),void 0!==p&&u.setRequestHeader("X-Remote-Address",p)),"function"==typeof l&&l(u),r.Utilities.log("Is offline enabled? "+k),"withCredentials"in u||r.Utilities.isReactNative()?(u.onreadystatechange=function(){4===u.readyState&&(202===u.status?re():k&&403!==u.status&&400!==u.status&&429!==u.status&&ne(t,n))},u.onload=function(){r.Utilities.log("posted to Raygun"),Z(this),i&&"function"==typeof i&&i(u,t,n)}):e.XDomainRequest&&(u.ontimeout=function(){k&&(r.Utilities.log("Raygun: saved locally"),ne(t,n))},u.onload=function(){r.Utilities.log("posted to Raygun"),re(),Z(this),i&&"function"==typeof i&&i(u,t,n)}),u.onerror=function(){r.Utilities.log("failed to post to Raygun"),Z(this),a&&"function"==typeof a&&a(u,t,n)},u?(r.Utilities.isReactNative()&&u.setRequestHeader("Content-type","application/json;charset=UTF-8"),u.send(n)):r.Utilities.log("CORS not supported")}return r=r.Utilities.mergeMutate(r,Q),e.__raygunNoConflict||(e.Raygun=r),TraceKit.setRaygun(r),r};window.__instantiatedRaygun=raygunFactory(window,window.jQuery),function(){var e,t,n,r,i,a,o,s,u,c,l,d;"undefined"!=typeof document&&(e=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},t=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},n=function(e,t){function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))}addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},r=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},i=function(e,t,n){var r;return function(i){0<=t.value&&(i||n)&&(t.delta=t.value-(r||0),!t.delta&&void 0!==r||(r=t.value,e(t)))}},o=function(){n((function(e){var t=e.timeStamp;a=t}),!0)},s=function(){return a<0&&((a=self.webVitals.firstHiddenTime)===1/0&&o(),r((function(){setTimeout((function(){a="hidden"===document.visibilityState?0:1/0,o()}),0)}))),{get firstHiddenTime(){return a}}},c=!(u=function(n,a){function o(e){"first-contentful-paint"===e.name&&(f&&f.disconnect(),e.startTime<c.firstHiddenTime&&(l.value=e.startTime,l.entries.push(e),u(!0)))}var u,c=s(),l=e("FCP"),d=performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],f=d?null:t("paint",o);(d||f)&&(u=i(n,l,a),d&&o(d),r((function(t){l=e("FCP"),u=i(n,l,a),requestAnimationFrame((function(){requestAnimationFrame((function(){l.value=performance.now()-t.timeStamp,u(!0)}))}))})))}),l=a=-1,d=new Set,window.webVitals.getCLS=function(a,o){function s(e){-1<l&&a(e)}function d(e){var t,n;e.hadRecentInput||(t=h[0],n=h[h.length-1],p&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(p+=e.value,h.push(e)):(p=e.value,h=[e]),p>g.value&&(g.value=p,g.entries=h,f()))}c||(u((function(e){l=e.value})),c=!0);var f,g=e("CLS",0),p=0,h=[],m=t("layout-shift",d);m&&(f=i(s,g,o),n((function(){m.takeRecords().map(d),f(!0)})),r((function(){l=-1,g=e("CLS",p=0),f=i(s,g,o)})))},window.webVitals.getFCP=u,window.webVitals.getFID=function(a,o){function u(e){e.startTime<c.firstHiddenTime&&(l.value=e.processingStart-e.startTime,l.entries.push(e),f(!0))}var c=s(),l=e("FID"),d=t("first-input",u),f=i(a,l,o);d&&n((function(){d.takeRecords().map(u),d.disconnect()}),!0),d||window.webVitals.firstInputPolyfill(u),r((function(){l=e("FID"),f=i(a,l,o),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(u)}))},window.webVitals.getLCP=function(a,o){function u(e){var t=e.startTime;t<f.firstHiddenTime&&(g.value=t,g.entries.push(e)),c()}var c,l,f=s(),g=e("LCP"),p=t("largest-contentful-paint",u);p&&(c=i(a,g,o),l=function(){d.has(g.id)||(p.takeRecords().map(u),p.disconnect(),d.add(g.id),c(!0))},["keydown","click"].forEach((function(e){addEventListener(e,l,{once:!0,capture:!0})})),n(l,!0),r((function(t){g=e("LCP"),c=i(a,g,o),requestAnimationFrame((function(){requestAnimationFrame((function(){g.value=performance.now()-t.timeStamp,d.add(g.id),c(!0)}))}))})))},window.webVitals.getTTFB=function(t){var n,r=e("TTFB");n=function(){try{var e=performance.getEntriesByType("navigation"),n=e?e[0]:function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();if(r.value=r.delta=n.responseStart,r.value<0)return;r.entries=[n],t(r)}catch(e){}},"complete"===document.readyState?setTimeout(n,0):addEventListener("pageshow",n)})}();var raygunRumFactory=function(e,t,n){n.RealUserMonitoring=function(t,r,i,a,o,s,u,c,l,d,f,g,p,h,m,v,y,b){var w=this,U={};this.cookieName="raygun4js-sid",this.apiKey=t,this.apiUrl=r,this.debugMode=l,this.excludedHostNames=u,this.excludedUserAgents=c,this.maxVirtualPageDuration=d||18e5,this.ignoreUrlCasing=f,this.customTimingsEnabled=g,this.automaticPerformanceCustomTimings=v,this.trackCoreWebVitals=y,this.beforeSend=p||function(e){return e},this.pendingPayloadData=g||!1,this.queuedPerformanceTimings=[],this.pendingVirtualPage=null,this.sessionId=null,this.virtualPage=null,this.user=a,this.version=o,this.tags=s,this.heartBeatInterval=null,this.heartBeatIntervalTime=3e4,this.offset=0,this._captureMissingRequests=m||!1,this.sendUsingNavigatorBeacon=!1,this.stopCollectingMetrics=!1,this.queuedItems=[],this.maxQueueItemsSent=50,this.setCookieAsSecure=h,this.xhrRequestMap={},this.xhrStatusMap={};var S="p",E="v",k="x",R="e",x="c",T="t";function A(){H(ce({sessionId:w.sessionId,timestamp:(new Date).toISOString(),type:"session_start",user:w.user,version:w.version||"Not supplied",tags:w.tags,device:e.raygunUserAgent}))}function C(e){return new Date(ue(e,"timestamp"))<new Date(new Date-18e5)}function L(){w.sessionId=ee(32),oe(w.sessionId)}function N(t,n){var r=function(t,n,r){if(!te("timing","object")||void 0===e.performance.timing.fetchStart||isNaN(e.performance.timing.fetchStart))return null;var i=[];return n&&i.push(function(){var t=e.location.pathname;w.ignoreUrlCasing&&(t=t.toLowerCase());var n=e.location.protocol+"//"+e.location.host+t;return 800<n.length&&(n=n.substring(0,800)),{url:n,userAgent:e.raygunUserAgent,timing:function(){var t=e.performance.timing,n={du:t.duration,t:S};return n.a=t.fetchStart,t.domainLookupStart&&0<t.domainLookupStart&&(n.b=t.domainLookupStart-n.a),t.domainLookupEnd&&0<t.domainLookupEnd&&(n.c=t.domainLookupEnd-n.a),t.connectStart&&0<t.connectStart&&(n.d=t.connectStart-n.a),t.connectEnd&&0<t.connectEnd&&(n.e=t.connectEnd-n.a),t.responseStart&&0<t.responseStart&&(n.f=t.responseStart-n.a),t.responseEnd&&0<t.responseEnd&&(n.g=t.responseEnd-n.a),t.domLoading&&0<t.domLoading&&(n.h=t.domLoading-n.a),t.domInteractive&&0<t.domInteractive&&(n.i=t.domInteractive-n.a),t.domContentLoadedEventEnd&&0<t.domContentLoadedEventEnd&&(n.j=t.domContentLoadedEventEnd-n.a),t.domComplete&&0<t.domComplete&&(n.k=re(t.domComplete-n.a)),t.loadEventStart&&0<t.loadEventStart&&(n.l=t.loadEventStart-n.a),t.loadEventEnd&&0<t.loadEventEnd&&(n.m=t.loadEventEnd-n.a),t.secureConnectionStart&&0<t.secureConnectionStart&&(n.n=t.secureConnectionStart-t.connectStart-n.a),n=function(t){if(!te("getEntriesByName","function"))return t;var n=e.performance.getEntriesByName("first-paint");0<n.length&&0<n[0].startTime?t.fp=n[0].startTime.toFixed(2):e.performance.timing&&e.performance.timing.msFirstPaint&&(t.fp=(e.performance.timing.msFirstPaint-e.performance.timing.fetchStart).toFixed(2));var r=e.performance.getEntriesByName("first-contentful-paint");return 0<r.length&&0<r[0].startTime&&(t.fcp=r[0].startTime.toFixed(2)),t}(n=Y(n))}(),size:0}}()),P(i),t&&(i.push(function(t,n){w.ignoreUrlCasing&&(t=t.toLowerCase()),-1!==t.indexOf("?")&&(t=t.split("?")[0]);var r=e.location.protocol+"//"+e.location.host+t;return 800<r.length&&(r=r.substring(0,800)),{url:r,userAgent:e.raygunUserAgent,timing:function(e){return{t:E,startTime:e,staticLoad:w.initalStaticPageLoadTimestamp,pending:!0}}(n),size:0}}(t,ne(0))),P(i,!0)),i=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];n.push(K(i,t))}return n}(i,r)}(w.virtualPage,t,n);null===r||r.length<0||I(r,!1)}function O(e){e&&B();var t=[];P(t,void 0,e),I(t,e)}function D(){0<w.queuedItems.length&&(w.queuedItems=("timestamp",w.queuedItems.sort(function(e){return function(t,n){if(!t.hasOwnProperty(e)||!n.hasOwnProperty(e))return ie('Raygun4JS: Property "'+e+'" not found in items in this collection'),0;var r=t[e],i=n[e],a=0;return i<r?a=1:r<i&&(a=-1),a}}("timestamp"))),M(w.queuedItems.splice(0,w.maxQueueItemsSent)))}function B(){for(var e,t,n,r=0;r<w.queuedPerformanceTimings.length;r++)(e=w.queuedPerformanceTimings[r]).timing.t===E&&e.timing.pending&&(e.timing=(t=e.timing,n=ne(0),{t:t.t,du:Math.min(w.maxVirtualPageDuration,n-t.startTime),o:Math.min(w.maxVirtualPageDuration,n-t.staticLoad)}))}function H(e){M([e])}function M(t){!function(t,n,r){"function"!=typeof n&&(n=function(){}),"function"!=typeof r&&(r=function(){}),function(t,n,r,a){if(w.excludedUserAgents instanceof Array)for(var o in w.excludedUserAgents)if(w.excludedUserAgents.hasOwnProperty(o)&&e.raygunUserAgent.match(w.excludedUserAgents[o]))return ie("Raygun4JS: cancelling send as error originates from an excluded user agent");if(w.excludedHostNames instanceof Array)for(var s in w.excludedHostNames)if(w.excludedHostNames.hasOwnProperty(s)&&e.location.hostname&&e.location.hostname.match(w.excludedHostNames[s]))return ie("Raygun4JS: cancelling send as error originates from an excluded hostname");e.raygunUserAgent.match("RaygunPulseInsightsCrawler")||setTimeout((function(){!function(t){if(t.eventData)for(var n=0;n<t.eventData.length;n++)if(t.eventData[n].data&&Array.isArray(t.eventData[n].data))for(var r=0;r<t.eventData[n].data.length;r++){var i,a=t.eventData[n].data[r];a.device&&e.raygunUserAgentData&&e.raygunUserAgentData.platformVersion&&(i=(e.raygunUserAgentData.platformVersion||"").split("."),a.device={Family:e.raygunUserAgentData.platform,Major:i[0]||"",Minor:i[1]||"",Patch:i[2]||"",PatchMinor:i[3]||""})}}(n);var o=w.beforeSend(n);if(o){if(o.eventData)for(var s=0;s<o.eventData.length;s++)o.eventData[s].data&&"string"!=typeof o.eventData[s].data&&(o.eventData[s].data=JSON.stringify(o.eventData[s].data));var u=JSON.stringify(o);if(w.sendUsingNavigatorBeacon&&navigator.sendBeacon)try{navigator.sendBeacon(t,u)}catch(o){ie(o,{url:t,payload:u})}else i(t,u,r,a)}else ie("Raygun4JS: cancelling send because onBeforeSendRUM returned falsy value")}),1===e.raygunUserAgentDataStatus?200:0)}(w.apiUrl+"/events?apikey="+encodeURIComponent(w.apiKey),t,n,r)}({eventData:t},(function(){ie("Raygun4JS: Items sent successfully. Queue length: "+w.queuedItems.length)}),(function(e){var n;n=t,w.queuedItems=n.concat(w.queuedItems),ie("Raygun4JS: Items failed to send. Queue length: "+w.queuedItems.length+" Response status code: "+e.status)}))}function F(e){if(!w.pendingPayloadData||e){function t(){a.push(ae(i)),o=!(i=[])}function n(){0<i.length&&t(),0<a.length&&(M(a),o=!(i=[]))}for(var r,i=[],a=[],o=!1,s=0;s<w.queuedPerformanceTimings.length;s++){var u=(r=w.queuedPerformanceTimings[s]).timing.t===S||r.timing.t===E;if(o&&u&&t(),0<i.length&&u&&t(),u&&(w.requestId=ee(16)),r.timing.t===E&&r.timing.pending)return n(),void w.queuedPerformanceTimings.splice(0,s);i.push(r),o=o||r.timing.t===S||r.timing.t===E}n(),w.queuedPerformanceTimings=[]}}function I(e,t){!1===w.stopCollectingMetrics&&(w.queuedPerformanceTimings=w.queuedPerformanceTimings.concat(e),F(t))}function q(e){H(ae([e]))}function P(t,n,r){var i;if(te("getEntries","function"))try{for(var a=n?0:e.performance.timing.navigationStart,o=e.performance.getEntries(),s=w.offset;s<o.length;s++){var u,c=o[s];if(!r&&j(c))break;G(c)?w.automaticPerformanceCustomTimings&&(u=z(c),t.push(K(u,w.parentResource))):Z((i=c).name.split("?")[0])||"paint"===i.entryType||"navigation"===i.entryType||"mark"===i.entryType||t.push(W(c,a))}w.offset=s,this._captureMissingRequests&&_(t,a)}catch(t){ie(t)}}this.Utilities={},this.attach=function(){!function(e){var t,n=se(),r=null===n,i=!1;r||(i=C(n)),r||i?(L(),e(!0)):(oe(t=ue(n,"id")),w.sessionId=t,e(!1))}((function(e){w.pageLoaded(e)})),this.trackCoreWebVitals&&n.CoreWebVitals.attach(q,w.parentResource);var t=function(){this.updateStorageTimestamp()}.bind(U),r=function(){O(w.sendUsingNavigatorBeacon=!0),D()}.bind(U),i=function(){"visible"===document.visibilityState&&this.updateStorageTimestamp()}.bind(U),a=function(){O(w.sendUsingNavigatorBeacon=!0),D(),w.stopCollectingMetrics=!0}.bind(U);e.addEventListener?(e.addEventListener("click",t),document.addEventListener("visibilitychange",i),e.addEventListener("beforeunload",r),e.addEventListener("pagehide",a)):e.attachEvent&&document.attachEvent("onclick",t),n.NetworkTracking.on("request",function(e){this.xhrRequestMap[e.baseUrl]||(this.xhrRequestMap[e.baseUrl]=[]),ie("adding request to xhr request map",e);var t=K(e,w.parentResource);this.xhrRequestMap[e.baseUrl].push(t)}.bind(this)),n.NetworkTracking.on("error",function(e){var t=this.xhrRequestMap[e.baseUrl];t&&0<t.length&&(this.xhrRequestMap[e.baseUrl].shift(),ie("request encountered an error",e))}.bind(this)),n.NetworkTracking.on("response",function(e){var t,n,r=this.xhrRequestMap[e.baseUrl];r&&0<r.length?(t=r[0].parentResource,this.xhrRequestMap[e.baseUrl].shift(),0===this.xhrRequestMap[e.baseUrl].length&&delete this.xhrRequestMap[e.baseUrl],this.xhrStatusMap[e.baseUrl]||(this.xhrStatusMap[e.baseUrl]=[]),ie("adding response to xhr status map",e),n=K(e,t),this.xhrStatusMap[e.baseUrl].push(n)):ie("response fired from non-handled request")}.bind(this))},this.pageLoaded=function(t){t&&A();var n=X(J(e.location.pathname),S);N(!0,w.parentResource=n),function(){if(null!==w.heartBeatInterval)return ie("Raygun4JS: Heartbeat already exists. Skipping heartbeat creation.");w.heartBeatInterval=setInterval((function(){O(),D(),w.xhrStatusMap={}}),w.heartBeatIntervalTime)}(),w.initalStaticPageLoadTimestamp=ne(0)},this.virtualPageLoaded=function(t){"string"==typeof t&&(0<t.length&&"/"!==t[0]&&(t+="/"),800<t.length&&(t=t.substring(0,800)),this.virtualPage=t);var n=X(J(t),E);w.parentResource=n,w.stopCollectingMetrics&&(w.offset=e.performance.getEntries().length,w.stopCollectingMetrics=!1),B(),N(!1,n)},this.setUser=function(e){w.user=e},this.withTags=function(e){w.tags=e},this.endSession=function(){w.pendingPayloadData=!1,F(),H(ce({sessionId:w.sessionId,requestId:w.requestId,timestamp:(new Date).toISOString(),type:"session_end"})),L(),A()},this.sendCustomTimings=function(e,t){"object"!=typeof e||"number"!=typeof e.custom1&&"number"!=typeof e.custom2&&"number"!=typeof e.custom3&&"number"!=typeof e.custom4&&"number"!=typeof e.custom5&&"number"!=typeof e.custom6&&"number"!=typeof e.custom7&&"number"!=typeof e.custom8&&"number"!=typeof e.custom9&&"number"!=typeof e.custom10||w.pendingPayloadData&&0<w.queuedPerformanceTimings.length&&(w.pendingPayloadData=!1,w.queuedPerformanceTimings[0].customTiming=e,w.queuedPerformanceTimings[0].parentResource=t,F())},this.trackCustomTiming=function(e,t,n,r){var i,a;"number"==typeof t?(i=[],a=Q(e,t,n),i.push(K(a,r)),I(i,!1)):ie('Raygun4JS: Custom timing "'+e+'" duration value is not a number')},this.captureMissingRequests=function(e){this._captureMissingRequests=e};var _=function(e,t){for(var n in ie("checking for missing WRT data",this.xhrStatusMap),this.xhrStatusMap)if(this.xhrStatusMap.hasOwnProperty(n)){var r=this.xhrStatusMap[n];if(r&&0<r.length)do{var i,a=r.shift();ie("checking response",a),Z(a.baseUrl)||(ie("adding missing WRT data for url"),i={url:a.baseUrl,statusCode:a.status,timing:{du:re(a.duration).toFixed(2),a:t.toFixed(2),t:k}},e.push(K(i,a.parentResource)))}while(0<r.length);delete this.xhrStatusMap[n]}}.bind(this),V=function(e){var t=e.name.split("?")[0];return w.ignoreUrlCasing&&(t=t.toLowerCase()),800<t.length&&(t=t.substring(0,800)),t}.bind(this),j=function(e){var t=V(e),n=this.xhrRequestMap[t];return n&&0<n.length}.bind(this),W=function(e,t){var n=V(e),r={url:n,timing:function(e,t){var n={du:re($(e)).toFixed(2),t:function(e){return function(e){return"xmlhttprequest"===e||"fetch"===e||"preflight"===e||"beacon"===e}(e.initiatorType)||!function(e){switch(e.initiatorType){case"img":case"css":case"script":case"link":case"other":case"use":return 1}}(e)&&function(e){return"string"==typeof e.initiatorType&&""===e.initiatorType}(e)?k:function(e){return 0===e.duration?R:x}(e)}(e),a:t+e.fetchStart};return e.domainLookupStart&&0<e.domainLookupStart&&(n.b=t+e.domainLookupStart-n.a),e.domainLookupEnd&&0<e.domainLookupEnd&&(n.c=t+e.domainLookupEnd-n.a),e.connectStart&&0<e.connectStart&&(n.d=t+e.connectStart-n.a),e.connectEnd&&0<e.connectEnd&&(n.e=t+e.connectEnd-n.a),e.responseStart&&0<e.responseStart&&(n.f=t+e.responseStart-n.a),e.responseEnd&&0<e.responseEnd&&(n.g=t+e.responseEnd-n.a),e.secureConnectionStart&&0<e.secureConnectionStart&&(n.n=t+(e.secureConnectionStart-e.connectStart)-n.a),n.a=n.a.toFixed(2),n=Y(n)}(e,t),size:e.decodedBodySize||0,parentResource:w.parentResource};ie("retrieving secondary timing data for",e.name);var i,a=this.xhrStatusMap[n];return a&&0<a.length?(i=this.xhrStatusMap[n].shift(),r.statusCode=i.status,r.parentResource=i.parentResource,ie("found status for timing",r.statusCode),0===this.xhrStatusMap[n].length&&delete this.xhrStatusMap[n]):ie("no status found for timing",this.xhrStatusMap),r}.bind(this);function J(t,n){var r=t;n&&(r=r.toLowerCase());var i=e.location.protocol+"//"+e.location.host+r;return 800<i.length&&(i=i.substring(0,800)),i}function X(e,t){return{url:e,type:t}}function K(e,t){return t?n.Utilities.merge(e,{parentResource:t}):e}function $(e){var t=e.duration;return 0!==t?t:e.responseEnd-e.startTime}function G(e){return!(!e||"measure"!==e.entryType)}function z(e){return Q(e.name,e.duration,e.startTime)}function Q(e,t,n){return{url:e,timing:{t:T,du:t.toFixed(2),a:(n||0).toFixed(2)}}}function Z(e){return 0===e.indexOf(w.apiUrl)||0<e.indexOf("favicon.ico")||0===e.indexOf("about:blank")||"j"===e[0]&&1===e.indexOf("avascript:")||0===e.indexOf("chrome-extension://")||0===e.indexOf("res://")||0===e.indexOf("file://")}function Y(e){for(var t in e)isNaN(e[t])&&"string"!=typeof e[t]&&(e[t]=0);return e}function ee(e){return Math.round(Math.pow(36,e+1)-Math.random()*Math.pow(36,e)).toString(36).slice(1)}function te(t,n){return"object"==typeof e.performance&&(!t||t&&typeof e.performance[t]===n)}function ne(t){return te("now","function")?e.performance.now():t}function re(e){return Math.min(e,3e5)}function ie(t,n){w.debugMode&&e.console&&e.console.log&&(n?e.console.log(t,n):e.console.log(t))}function ae(t){return ce({sessionId:w.sessionId,requestId:w.requestId,timestamp:(new Date).toISOString(),type:"web_request_timing",user:w.user,version:w.version||"Not supplied",device:e.raygunUserAgent,tags:w.tags,data:t})}function oe(e){var t="id|"+e+"&timestamp|"+(new Date).toISOString();n.Utilities.localStorageAvailable()?localStorage.setItem(w.cookieName,t):n.Utilities.createCookie(w.cookieName,t,null,w.setCookieAsSecure)}function se(){var e;return n.Utilities.localStorageAvailable()&&null!==(e=localStorage.getItem(w.cookieName))||(n.Utilities.sessionStorageAvailable()&&null!==(e=sessionStorage.getItem(w.cookieName))?oe(e):null!==(e=n.Utilities.readCookie(w.cookieName))&&n.Utilities.localStorageAvailable()&&(n.Utilities.clearCookie(w.cookieName),localStorage.setItem(w.cookieName,e))),e}function ue(e,t){var n=e.split(/[|&]/);return"id"===t?n[1]:"timestamp"===t?n[3]:void 0}function ce(e){return b&&!e.hasOwnProperty("viewport")&&(e.viewport=n.Viewport.getViewportDimensions()),e}this.Utilities.getTimingDuration=$,this.Utilities.isCustomTimingMeasurement=G,this.Utilities.getCustomTimingMeasurement=z,this.Utilities.createCustomTimingMeasurement=Q,U.updateStorageTimestamp=function(){var e=se(),t=!1;e&&(t=C(e)),!t&&e||(w.sessionId=ee(32)),oe(w.sessionId),t&&A()}}};raygunRumFactory(window,window.jQuery,window.__instantiatedRaygun),function(e,t){var n,r,i,a,o,s,u,c,l,d,f,g,p,h,m;e.RaygunObject&&e[e.RaygunObject]&&(n=e[e.RaygunObject].o,r=!1,i=[],l=["function (b,c,d,f,g){","||(g=new Error(b)),a[e].q=a[e].q||[]"],d=e[e.RaygunObject].q,g=["trackEvent","send","recordBreadcrumb"],p=function(e){var t,n,r,i=e[0],l=e[1];if(i)switch(i){case"boot":m();break;case"noConflict":c=l;break;case"apiKey":a=l;break;case"options":o=l;break;case"attach":case"enableCrashReporting":s=l;break;case"enableRUM":case"enablePulse":u=l;break;case"detach":f.detach();break;case"getRaygunInstance":return l&&"function"==typeof l&&l(f),f;case"setUser":f.setUser(l.identifier,l.isAnonymous,l.email,l.fullName,l.firstName,l.uuid);break;case"onBeforeSend":f.onBeforeSend(l);break;case"onBeforeSendRUM":f.onBeforeSendRum(l);break;case"onBeforeXHR":f.onBeforeXHR(l);break;case"onAfterSend":f.onAfterSend(l);break;case"withCustomData":f.withCustomData(l);break;case"withTags":f.withTags(l);break;case"setVersion":f.setVersion(l);break;case"filterSensitiveData":f.filterSensitiveData(l);break;case"setFilterScope":f.setFilterScope(l);break;case"whitelistCrossOriginDomains":f.whitelistCrossOriginDomains(l);break;case"saveIfOffline":"boolean"==typeof l&&f.saveIfOffline(l);break;case"groupingKey":f.groupingKey(l);break;case"endSession":f.endSession();break;case"send":l.error?(t=l.error,l.tags&&(n=l.tags),l.customData&&(r=l.customData)):t=l,f.send(t,r,n);break;case"trackEvent":l.type&&l.path?f.trackEvent(l.type,{path:l.path}):l.type&&l.name&&l.duration?f.trackEvent(l.type,{name:l.name,duration:l.duration,offset:l.offset}):l.type&&l.timings&&f.trackEvent(l.type,{timings:l.timings});break;case"recordBreadcrumb":f.recordBreadcrumb(e[1],e[2]);break;case"enableAutoBreadcrumbs":f.enableAutoBreadcrumbs();break;case"disableAutoBreadcrumbs":f.disableAutoBreadcrumbs();break;case"enableAutoBreadcrumbsConsole":f.enableAutoBreadcrumbs("Console");break;case"disableAutoBreadcrumbsConsole":f.disableAutoBreadcrumbs("Console");break;case"enableAutoBreadcrumbsNavigation":f.enableAutoBreadcrumbs("Navigation");break;case"disableAutoBreadcrumbsNavigation":f.disableAutoBreadcrumbs("Navigation");break;case"enableAutoBreadcrumbsClicks":f.enableAutoBreadcrumbs("Clicks");break;case"disableAutoBreadcrumbsClicks":f.disableAutoBreadcrumbs("Clicks");break;case"enableAutoBreadcrumbsXHR":f.enableAutoBreadcrumbs("XHR");break;case"disableAutoBreadcrumbsXHR":f.disableAutoBreadcrumbs("XHR");break;case"setBreadcrumbLevel":f.setBreadcrumbOption("breadcrumbsLevel",e[1]);break;case"setAutoBreadcrumbsXHRIgnoredHosts":f.setBreadcrumbOption("xhrIgnoredHosts",e[1]);break;case"logContentsOfXhrCalls":f.setBreadcrumbOption("logXhrContents",e[1]);break;case"clientIp":f.setClientIp(l);break;case"captureMissingRequests":f.captureMissingRequests(l);break;case"captureUnhandledRejections":}},h=function(){e[e.RaygunObject]=function(){return p(arguments)},r=!0},m=function(){var m;if(function(){for(var t in n=e[e.RaygunObject].o){var r;!n.hasOwnProperty(t)||(r=n[t])&&(-1===g.indexOf(r[0])?p(r):i.push(r))}}(),c&&(f=t.noConflict()),a&&(o=o||{},u&&(o.disablePulse=!1),o.from="onLoad",f.init(a,o,null)),s)for(var v in f.attach(),d=e[e.RaygunObject].q)f.send(d[v].e,{handler:"From Raygun4JS snippet global error handler"});else"function"!=typeof e.onerror||-1!==(m=e.onerror.toString()).indexOf(l[0])&&-1!==m.indexOf(l[1])&&(e.onerror=null);for(var y in i)i.hasOwnProperty(y)&&p(i[y]);i=[],r||h(),e[e.RaygunObject].q=d},(f=t).Utilities.isReactNative()?h():"complete"===document.readyState?m():e.addEventListener?e.addEventListener("load",m):e.attachEvent("onload",m))}(window,window.__instantiatedRaygun);try{delete window.__instantiatedRaygun}catch(e){window.__instantiatedRaygun=void 0}