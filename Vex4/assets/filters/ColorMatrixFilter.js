PIXI.ColorMatrixFilter=function(){PIXI.AbstractFilter.call(this),this.passes=[this],this.uniforms={m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}},this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform float m[25];","uniform sampler2D uSampler;","void main(void)","{","","    vec4 c = texture2D(uSampler, vTextureCoord);","","    gl_FragColor.r = (m[0] * c.r);","        gl_FragColor.r += (m[1] * c.g);","        gl_FragColor.r += (m[2] * c.b);","        gl_FragColor.r += (m[3] * c.a);","        gl_FragColor.r += m[4];","    gl_FragColor.g = (m[5] * c.r);","        gl_FragColor.g += (m[6] * c.g);","        gl_FragColor.g += (m[7] * c.b);","        gl_FragColor.g += (m[8] * c.a);","        gl_FragColor.g += m[9];","     gl_FragColor.b = (m[10] * c.r);","        gl_FragColor.b += (m[11] * c.g);","        gl_FragColor.b += (m[12] * c.b);","        gl_FragColor.b += (m[13] * c.a);","        gl_FragColor.b += m[14];","     gl_FragColor.a = (m[15] * c.r);","        gl_FragColor.a += (m[16] * c.g);","        gl_FragColor.a += (m[17] * c.b);","        gl_FragColor.a += (m[18] * c.a);","        gl_FragColor.a += m[19];","","}"]},PIXI.ColorMatrixFilter.prototype=Object.create(PIXI.AbstractFilter.prototype),PIXI.ColorMatrixFilter.prototype.constructor=PIXI.ColorMatrixFilter,PIXI.ColorMatrixFilter.prototype._loadMatrix=function(r,t){var o=r;(t=!!t)&&(this._multiply(o,this.uniforms.m.value,r),o=this._colorMatrix(o)),this.uniforms.m.value=o},PIXI.ColorMatrixFilter.prototype._multiply=function(r,t,o){return r[0]=t[0]*o[0]+t[1]*o[5]+t[2]*o[10]+t[3]*o[15],r[1]=t[0]*o[1]+t[1]*o[6]+t[2]*o[11]+t[3]*o[16],r[2]=t[0]*o[2]+t[1]*o[7]+t[2]*o[12]+t[3]*o[17],r[3]=t[0]*o[3]+t[1]*o[8]+t[2]*o[13]+t[3]*o[18],r[4]=t[0]*o[4]+t[1]*o[9]+t[2]*o[14]+t[3]*o[19],r[5]=t[5]*o[0]+t[6]*o[5]+t[7]*o[10]+t[8]*o[15],r[6]=t[5]*o[1]+t[6]*o[6]+t[7]*o[11]+t[8]*o[16],r[7]=t[5]*o[2]+t[6]*o[7]+t[7]*o[12]+t[8]*o[17],r[8]=t[5]*o[3]+t[6]*o[8]+t[7]*o[13]+t[8]*o[18],r[9]=t[5]*o[4]+t[6]*o[9]+t[7]*o[14]+t[8]*o[19],r[10]=t[10]*o[0]+t[11]*o[5]+t[12]*o[10]+t[13]*o[15],r[11]=t[10]*o[1]+t[11]*o[6]+t[12]*o[11]+t[13]*o[16],r[12]=t[10]*o[2]+t[11]*o[7]+t[12]*o[12]+t[13]*o[17],r[13]=t[10]*o[3]+t[11]*o[8]+t[12]*o[13]+t[13]*o[18],r[14]=t[10]*o[4]+t[11]*o[9]+t[12]*o[14]+t[13]*o[19],r[15]=t[15]*o[0]+t[16]*o[5]+t[17]*o[10]+t[18]*o[15],r[16]=t[15]*o[1]+t[16]*o[6]+t[17]*o[11]+t[18]*o[16],r[17]=t[15]*o[2]+t[16]*o[7]+t[17]*o[12]+t[18]*o[17],r[18]=t[15]*o[3]+t[16]*o[8]+t[17]*o[13]+t[18]*o[18],r[19]=t[15]*o[4]+t[16]*o[9]+t[17]*o[14]+t[18]*o[19],r},PIXI.ColorMatrixFilter.prototype._colorMatrix=function(r){var t=new Float32Array(r);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},PIXI.ColorMatrixFilter.prototype.brightness=function(r,t){var o=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(o,t)},PIXI.ColorMatrixFilter.prototype.greyscale=function(r,t){var o=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(o,t)},PIXI.ColorMatrixFilter.prototype.grayscale=PIXI.ColorMatrixFilter.prototype.greyscale,PIXI.ColorMatrixFilter.prototype.blackAndWhite=function(r){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],r)},PIXI.ColorMatrixFilter.prototype.hue=function(r,t){r=(r||0)/180*Math.PI;var o=Math.cos(r),i=Math.sin(r),a=.213,l=.715,e=.072,n=[a+.787*o+i*-a,l+o*-l+i*-l,e+o*-e+.928*i,0,0,a+o*-a+.143*i,l+o*(1-l)+.14*i,e+o*-e+-.283*i,0,0,a+o*-a+-.787*i,l+o*-l+i*l,e+.928*o+i*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},PIXI.ColorMatrixFilter.prototype.contrast=function(r,t){var o=(r||0)+1,i=-128*(o-1),a=[o,0,0,0,i,0,o,0,0,i,0,0,o,0,i,0,0,0,1,0];this._loadMatrix(a,t)},PIXI.ColorMatrixFilter.prototype.saturate=function(r,t){var o=2*(r||0)/3+1,i=-.5*(o-1),a=[o,i,i,0,0,i,o,i,0,0,i,i,o,0,0,0,0,0,1,0];this._loadMatrix(a,t)},PIXI.ColorMatrixFilter.prototype.desaturate=function(r){this.saturate(-1)},PIXI.ColorMatrixFilter.prototype.negative=function(r){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],r)},PIXI.ColorMatrixFilter.prototype.sepia=function(r){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],r)},PIXI.ColorMatrixFilter.prototype.technicolor=function(r){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],r)},PIXI.ColorMatrixFilter.prototype.polaroid=function(r){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],r)},PIXI.ColorMatrixFilter.prototype.toBGR=function(r){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],r)},PIXI.ColorMatrixFilter.prototype.kodachrome=function(r){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],r)},PIXI.ColorMatrixFilter.prototype.browni=function(r){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],r)},PIXI.ColorMatrixFilter.prototype.vintage=function(r){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],r)},PIXI.ColorMatrixFilter.prototype.colorTone=function(r,t,o,i,a){var l=((o=o||16770432)>>16&255)/255,e=(o>>8&255)/255,n=(255&o)/255,p=((i=i||3375104)>>16&255)/255,c=(i>>8&255)/255,I=(255&i)/255,s=[.3,.59,.11,0,0,l,e,n,r=r||.2,0,p,c,I,t=t||.15,0,l-p,e-c,n-I,0,0];this._loadMatrix(s,a)},PIXI.ColorMatrixFilter.prototype.night=function(r,t){var o=[-2*(r=r||.1),-r,0,0,0,-r,0,r,0,0,0,r,2*r,0,0,0,0,0,1,0];this._loadMatrix(o,t)},PIXI.ColorMatrixFilter.prototype.predator=function(r,t){var o=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(o,t)},PIXI.ColorMatrixFilter.prototype.lsd=function(r){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],r)},PIXI.ColorMatrixFilter.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperties(PIXI.ColorMatrixFilter.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(r){this.uniforms.m.value=r}}});